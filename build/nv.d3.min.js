/* nvd3 version 1.8.1 (https://github.com/novus/nvd3) 2015-07-07 */
!function(a,b){"function"==typeof define&&define.amd?define(["d3"],function(c){return a.nv=b(c)}):a.nv=b(d3)}(this,function(a){var b={};return b.dev=!1,b.tooltip=b.tooltip||{},b.utils=b.utils||{},b.models=b.models||{},b.charts={},b.logs={},b.dom={},b.dispatch=a.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),b.dev&&(b.dispatch.on("render_start",function(){b.logs.startTime=+new Date}),b.dispatch.on("render_end",function(){b.logs.endTime=+new Date,b.logs.totalTime=b.logs.endTime-b.logs.startTime,b.log("total",b.logs.totalTime)})),b.log=function(){if(b.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(b.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var a=Function.prototype.bind.call(console.log,console);a.apply(console,arguments)}return arguments[arguments.length-1]},b.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")},b.render=function(a){a=a||1,b.render.active=!0,b.dispatch.render_start();var c=function(){for(var d,e,f=0;a>f&&(e=b.render.queue[f]);f++)d=e.generate(),typeof e.callback==typeof Function&&e.callback(d);b.render.queue.splice(0,f),b.render.queue.length?setTimeout(c):(b.dispatch.render_end(),b.render.active=!1)};setTimeout(c)},b.render.active=!1,b.render.queue=[],b.addGraph=function(a){typeof arguments[0]==typeof Function&&(a={generate:arguments[0],callback:arguments[1]}),b.render.queue.push(a),b.render.active||b.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=b),"undefined"!=typeof window&&(window.nv=b),b.dom.write=function(a){return void 0!==window.fastdom?fastdom.write(a):a()},b.dom.read=function(a){return void 0!==window.fastdom?fastdom.read(a):a()},b.interactiveGuideline=function(){"use strict";function c(m){m.each(function(m){function n(){var b=a.mouse(this),e=b[0],f=b[1],j=!0,k=!1;if(l&&(e=a.event.offsetX,f=a.event.offsetY,"svg"!==a.event.target.tagName&&(j=!1),a.event.target.className.baseVal.match("nv-legend")&&(k=!0)),j&&(e-=g.left,f-=g.top),0>e||0>f||e>p||f>q||a.event.relatedTarget&&void 0===a.event.relatedTarget.ownerSVGElement||k){if(l&&a.event.relatedTarget&&void 0===a.event.relatedTarget.ownerSVGElement&&(void 0===a.event.relatedTarget.className||a.event.relatedTarget.className.match(d.nvPointerEventsClass)))return;return i.elementMouseout({mouseX:e,mouseY:f}),c.renderGuideLine(null),void d.hidden(!0)}d.hidden(!1);var m=h.invert(e);i.elementMousemove({mouseX:e,mouseY:f,pointXValue:m}),"dblclick"===a.event.type&&i.elementDblclick({mouseX:e,mouseY:f,pointXValue:m}),"click"===a.event.type&&i.elementClick({mouseX:e,mouseY:f,pointXValue:m})}var o=a.select(this),p=e||960,q=f||400,r=o.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([m]),s=r.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");s.append("g").attr("class","nv-interactiveGuideLine"),k&&(k.on("touchmove",n).on("mousemove",n,!0).on("mouseout",n,!0).on("dblclick",n).on("click",n),c.guideLine=null,c.renderGuideLine=function(a){j&&(c.guideLine&&c.guideLine.attr("x1")===a||b.dom.write(function(){var c=r.select(".nv-interactiveGuideLine").selectAll("line").data(null!=a?[b.utils.NaNtoZero(a)]:[],String);c.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",q).attr("y2",0),c.exit().remove()}))})})}var d=b.models.tooltip();d.duration(0).hideDelay(0)._isInteractiveLayer(!0).hidden(!1);var e=null,f=null,g={left:0,top:0},h=a.scale.linear(),i=a.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),j=!0,k=null,l="ActiveXObject"in window;return c.dispatch=i,c.tooltip=d,c.margin=function(a){return arguments.length?(g.top="undefined"!=typeof a.top?a.top:g.top,g.left="undefined"!=typeof a.left?a.left:g.left,c):g},c.width=function(a){return arguments.length?(e=a,c):e},c.height=function(a){return arguments.length?(f=a,c):f},c.xScale=function(a){return arguments.length?(h=a,c):h},c.showGuideLine=function(a){return arguments.length?(j=a,c):j},c.svgContainer=function(a){return arguments.length?(k=a,c):k},c},b.interactiveBisect=function(b,c,d){"use strict";if(!(b instanceof Array))return null;var e;e="function"!=typeof d?function(a){return a.x}:d;var f=function(a,b){return e(a)-b},g=a.bisector(f).left,h=a.max([0,g(b,c)-1]),i=e(b[h]);if("undefined"==typeof i&&(i=h),i===c)return h;var j=a.min([h+1,b.length-1]),k=e(b[j]);return"undefined"==typeof k&&(k=j),Math.abs(k-c)>=Math.abs(i-c)?h:j},b.nearestValueIndex=function(a,b,c){"use strict";var d=1/0,e=null;return a.forEach(function(a,f){var g=Math.abs(b-a);null!=a&&d>=g&&c>g&&(d=g,e=f)}),e},function(){"use strict";b.models.tooltip=function(){function c(){if(l){var b=a.select(l);"svg"!==b.node().tagName&&(b=b.select("svg"));var c=b.node()?b.attr("viewBox"):null;if(c){c=c.split(" ");var d=parseInt(b.style("width"),10)/c[2];q.left=q.left*d,q.top=q.top*d}}}function d(){if(!o){var b;b=l?l:document.body,o=a.select(b).append("div").attr("class","nvtooltip "+(k?k:"xy-tooltip")).attr("id",w),o.style("top",0).style("left",0),o.style("opacity",0),o.selectAll("div, table, td, tr").classed(x,!0),o.classed(x,!0),p=o.node()}}function e(){if(s&&C(f)){c();var a=q.left,g=null!==j?j:q.top;return b.dom.write(function(){d();var c=B(f);c&&(p.innerHTML=c),l&&v?b.dom.read(function(){var b=l.getElementsByTagName("svg")[0],c={left:0,top:0};if(b){var d=b.getBoundingClientRect(),e=l.getBoundingClientRect(),f=d.top;if(0>f){var h=l.getBoundingClientRect();f=Math.abs(f)>h.height?0:f}c.top=Math.abs(f-e.top),c.left=Math.abs(d.left-e.left)}a+=l.offsetLeft+c.left-2*l.scrollLeft,g+=l.offsetTop+c.top-2*l.scrollTop,i&&i>0&&(g=Math.floor(g/i)*i),D([a,g])}):D([a,g])}),e}}var f=null,g="w",h=25,i=0,j=null,k=null,l=null,m=!0,n=400,o=null,p=null,q={left:null,top:null},r={left:0,top:0},s=!0,t=100,u=!0,v=!1,w="nvtooltip-"+Math.floor(1e5*Math.random()),x="nv-pointer-events-none",y=function(a){return a},z=function(a){return a},A=function(a){return a},B=function(b){if(null===b)return"";var c=a.select(document.createElement("table"));if(u){var d=c.selectAll("thead").data([b]).enter().append("thead");d.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(z(b.value))}var e=c.selectAll("tbody").data([b]).enter().append("tbody"),f=e.selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});f.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color}),f.append("td").classed("key",!0).html(function(a,b){return A(a.key,b)}),f.append("td").classed("value",!0).html(function(a,b){return y(a.value,b)}),f.selectAll("td").each(function(b){if(b.highlight){var c=a.scale.linear().domain([0,1]).range(["#fff",b.color]),d=.6;a.select(this).style("border-bottom-color",c(d)).style("border-top-color",c(d))}});var g=c.node().outerHTML;return void 0!==b.footer&&(g+="<div class='footer'>"+b.footer+"</div>"),g},C=function(a){if(a&&a.series){if(a.series instanceof Array)return!!a.series.length;if(a.series instanceof Object)return a.series=[a.series],!0}return!1},D=function(c){p&&b.dom.read(function(){var d,e,f=parseInt(p.offsetHeight,10),i=parseInt(p.offsetWidth,10),j=b.utils.windowSize().width,k=b.utils.windowSize().height,l=window.pageYOffset,q=window.pageXOffset;k=window.innerWidth>=document.body.scrollWidth?k:k-16,j=window.innerHeight>=document.body.scrollHeight?j:j-16;var s,u,v=function(a){var b=e;do isNaN(a.offsetTop)||(b+=a.offsetTop),a=a.offsetParent;while(a);return b},w=function(a){var b=d;do isNaN(a.offsetLeft)||(b+=a.offsetLeft),a=a.offsetParent;while(a);return b};switch(g){case"e":d=c[0]-i-h,e=c[1]-f/2,s=w(p),u=v(p),q>s&&(d=c[0]+h>q?c[0]+h:q-s+d),l>u&&(e=l-u+e),u+f>l+k&&(e=l+k-u+e-f);break;case"w":d=c[0]+h,e=c[1]-f/2,s=w(p),u=v(p),s+i>j&&(d=c[0]-i-h),l>u&&(e=l+5),u+f>l+k&&(e=l+k-u+e-f);break;case"n":d=c[0]-i/2-5,e=c[1]+h,s=w(p),u=v(p),q>s&&(d=q+5),s+i>j&&(d=d-i/2+5),u+f>l+k&&(e=l+k-u+e-f);break;case"s":d=c[0]-i/2,e=c[1]-f-h,s=w(p),u=v(p),q>s&&(d=q+5),s+i>j&&(d=d-i/2+5),l>u&&(e=l);break;case"none":d=c[0],e=c[1]-h,s=w(p),u=v(p)}d-=r.left,e-=r.top;var x=p.getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,q=window.pageXOffset||document.documentElement.scrollLeft,y="translate("+(x.left+q)+"px, "+(x.top+l)+"px)",z="translate("+d+"px, "+e+"px)",A=a.interpolateString(y,z),B=o.style("opacity")<.1;m?o.transition().delay(n).duration(0).style("opacity",0):o.interrupt().transition().duration(B?0:t).styleTween("transform",function(){return A},"important").style("-webkit-transform",z).style("-ms-transform",z).style("opacity",1)})};return e.nvPointerEventsClass=x,e.options=b.utils.optionsFunc.bind(e),e._options=Object.create({},{duration:{get:function(){return t},set:function(a){t=a}},gravity:{get:function(){return g},set:function(a){g=a}},distance:{get:function(){return h},set:function(a){h=a}},snapDistance:{get:function(){return i},set:function(a){i=a}},classes:{get:function(){return k},set:function(a){k=a}},chartContainer:{get:function(){return l},set:function(a){l=a}},fixedTop:{get:function(){return j},set:function(a){j=a}},enabled:{get:function(){return s},set:function(a){s=a}},hideDelay:{get:function(){return n},set:function(a){n=a}},contentGenerator:{get:function(){return B},set:function(a){B=a}},valueFormatter:{get:function(){return y},set:function(a){y=a}},headerFormatter:{get:function(){return z},set:function(a){z=a}},keyFormatter:{get:function(){return A},set:function(a){A=a}},headerEnabled:{get:function(){return u},set:function(a){u=a}},_isInteractiveLayer:{get:function(){return v},set:function(a){v=!!a}},position:{get:function(){return q},set:function(a){q.left=void 0!==a.left?a.left:q.left,q.top=void 0!==a.top?a.top:q.top}},offset:{get:function(){return r},set:function(a){r.left=void 0!==a.left?a.left:r.left,r.top=void 0!==a.top?a.top:r.top}},hidden:{get:function(){return m},set:function(a){m!=a&&(m=!!a,e())}},data:{get:function(){return f},set:function(a){a.point&&(a.value=a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color),f=a}},tooltipElem:{get:function(){return p},set:function(){}},id:{get:function(){return w},set:function(){}}}),b.utils.initOptions(e),e}}(),b.utils.windowSize=function(){var a={width:640,height:480};return window.innerWidth&&window.innerHeight?(a.width=window.innerWidth,a.height=window.innerHeight,a):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a):document.body&&document.body.offsetWidth?(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight,a):a},b.utils.windowResize=function(a){return window.addEventListener?window.addEventListener("resize",a):b.log("ERROR: Failed to bind to window.resize with: ",a),{callback:a,clear:function(){window.removeEventListener("resize",a)}}},b.utils.getColor=function(c){if(void 0===c)return b.utils.defaultColor();if(Array.isArray(c)){var d=a.scale.ordinal().range(c);return function(a,b){var c=void 0===b?a:b;return a.color||d(c)}}return c},b.utils.defaultColor=function(){return b.utils.getColor(a.scale.category20().range())},b.utils.customTheme=function(b,c,d){c=c||function(a){return a.key},d=d||a.scale.category20().range();var e=d.length;return function(a){var f=c(a);return"function"==typeof b[f]?b[f]():void 0!==b[f]?b[f]:(e||(e=d.length),e-=1,d[e])}},b.utils.pjax=function(c,d){var e=function(e){a.html(e,function(e){var f=a.select(d).node();f.parentNode.replaceChild(a.select(e).select(d).node(),f),b.utils.pjax(c,d)})};a.selectAll(c).on("click",function(){history.pushState(this.href,this.textContent,this.href),e(this.href),a.event.preventDefault()}),a.select(window).on("popstate",function(){a.event.state&&e(a.event.state)})},b.utils.calcApproxTextWidth=function(a){if("function"==typeof a.style&&"function"==typeof a.text){var b=parseInt(a.style("font-size").replace("px",""),10),c=a.text().length;return c*b*.5}return 0},b.utils.NaNtoZero=function(a){return"number"!=typeof a||isNaN(a)||null===a||1/0===a||a===-1/0?0:a},a.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)},b.utils.renderWatch=function(a,c){if(!(this instanceof b.utils.renderWatch))return new b.utils.renderWatch(a,c);var d=void 0!==c?c:250,e=[],f=this;this.models=function(a){return a=[].slice.call(arguments,0),a.forEach(function(a){a.__rendered=!1,function(a){a.dispatch.on("renderEnd",function(){a.__rendered=!0,f.renderEnd("model")})}(a),e.indexOf(a)<0&&e.push(a)}),this},this.reset=function(a){void 0!==a&&(d=a),e=[]},this.transition=function(a,b,c){if(b=arguments.length>1?[].slice.call(arguments,1):[],c=b.length>1?b.pop():void 0!==d?d:250,a.__rendered=!1,e.indexOf(a)<0&&e.push(a),0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;a.__rendered=0===a.length?!0:a.every(function(a){return!a.length})?!0:!1;var g=0;return a.transition().duration(c).each(function(){++g}).each("end",function(){0===--g&&(a.__rendered=!0,f.renderEnd.apply(this,b))})},this.renderEnd=function(){e.every(function(a){return a.__rendered})&&(e.forEach(function(a){a.__rendered=!1}),a.renderEnd.apply(this,arguments))}},b.utils.deepExtend=function(a){var c=arguments.length>1?[].slice.call(arguments,1):[];c.forEach(function(c){for(var d in c){var e=a[d]instanceof Array,f="object"==typeof a[d],g="object"==typeof c[d];f&&!e&&g?b.utils.deepExtend(a[d],c[d]):a[d]=c[d]}})},b.utils.state=function(){if(!(this instanceof b.utils.state))return new b.utils.state;var c={},d=function(){},e=function(){return{}},f=null,g=null;this.dispatch=a.dispatch("change","set"),this.dispatch.on("set",function(a){d(a,!0)}),this.getter=function(a){return e=a,this},this.setter=function(a,b){return b||(b=function(){}),d=function(c,d){a(c),d&&b()},this},this.init=function(a){f=f||{},b.utils.deepExtend(f,a)};var h=function(){var a=e();if(JSON.stringify(a)===JSON.stringify(c))return!1;for(var b in a)void 0===c[b]&&(c[b]={}),c[b]=a[b],g=!0;return!0};this.update=function(){f&&(d(f,!1),f=null),h.call(this)&&this.dispatch.change(c)}},b.utils.optionsFunc=function(b){return b&&a.map(b).forEach(function(a,b){"function"==typeof this[a]&&this[a](b)}.bind(this)),this},b.utils.calcTicksX=function(a,c){var d=1,e=0;for(e;e<c.length;e+=1){var f=c[e]&&c[e].values?c[e].values.length:0;d=f>d?f:d}return b.log("Requested number of ticks: ",a),b.log("Calculated max values to be: ",d),a=a>d?a=d-1:a,a=1>a?1:a,a=Math.floor(a),b.log("Calculating tick count as: ",a),a},b.utils.calcTicksY=function(a,c){return b.utils.calcTicksX(a,c)},b.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){return arguments.length?(a._overrides[b]=!0,a._options[b]=c,a):a._options[b]},a["_"+b]=function(c){return arguments.length?(a._overrides[b]||(a._options[b]=c),a):a._options[b]})},b.utils.initOptions=function(a){a._overrides=a._overrides||{};var c=Object.getOwnPropertyNames(a._options||{}),d=Object.getOwnPropertyNames(a._calls||{});c=c.concat(d);for(var e in c)b.utils.initOption(a,c[e])},b.utils.inheritOptionsD3=function(b,c,d){b._d3options=d.concat(b._d3options||[]),d.unshift(c),d.unshift(b),a.rebind.apply(this,d)},b.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})},b.utils.symbolMap=a.map(),b.utils.symbol=function(){function c(c,f){var g=d.call(this,c,f),h=e.call(this,c,f);return-1!==a.svg.symbolTypes.indexOf(g)?a.svg.symbol().type(g).size(h)():b.utils.symbolMap.get(g)(h)}var d,e=64;return c.type=function(b){return arguments.length?(d=a.functor(b),c):d},c.size=function(b){return arguments.length?(e=a.functor(b),c):e},c},b.utils.inheritOptions=function(c,d){var e=Object.getOwnPropertyNames(d._options||{}),f=Object.getOwnPropertyNames(d._calls||{}),g=d._inherited||[],h=d._d3options||[],i=e.concat(f).concat(g).concat(h);i.unshift(d),i.unshift(c),a.rebind.apply(this,i),c._inherited=b.utils.arrayUnique(e.concat(f).concat(g).concat(e).concat(c._inherited||[])),c._d3options=b.utils.arrayUnique(h.concat(c._d3options||[]))},b.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})},b.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400},b.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960},b.utils.availableHeight=function(a,c,d){return b.utils.sanitizeHeight(a,c)-d.top-d.bottom},b.utils.availableWidth=function(a,c,d){return b.utils.sanitizeWidth(a,c)-d.left-d.right},b.utils.noData=function(a,c){var d=a.options(),e=d.margin(),f=d.noData(),g=null==f?["No Data Available."]:[f],h=b.utils.availableHeight(d.height(),c,e),i=b.utils.availableWidth(d.width(),c,e),j=e.left+i/2,k=e.top+h/2;c.selectAll("g").remove();var l=c.selectAll(".nv-noData").data(g);l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",j).attr("y",k).text(function(a){return a})},b.models.axis=function(){"use strict";function c(h){return t.reset(),h.each(function(c){var h=a.select(this);b.utils.initSVG(h);var q=h.selectAll("g.nv-wrap.nv-axis").data([c]),r=q.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),u=(r.append("g"),q.select("g"));null!==o?d.ticks(o):("top"==d.orient()||"bottom"==d.orient())&&d.ticks(Math.abs(e.range()[1]-e.range()[0])/100),u.watchTransition(t,"axis").call(d),s=s||d.scale();var v=d.tickFormat();null==v&&(v=s.tickFormat());var w=u.selectAll("text.nv-axislabel").data([i||null]);w.exit().remove();var x,y,z;switch(d.orient()){case"top":w.enter().append("text").attr("class","nv-axislabel"),z=e.range().length<2?0:2===e.range().length?e.range()[1]:e.range()[e.range().length-1]+(e.range()[1]-e.range()[0]),w.attr("text-anchor","middle").attr("y",0).attr("x",z/2),j&&(y=q.selectAll("g.nv-axisMaxMin").data(e.domain()),y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),y.exit().remove(),y.attr("transform",function(a){return"translate("+b.utils.NaNtoZero(e(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-d.tickPadding()).attr("text-anchor","middle").text(function(a){var b=v(a);return(""+b).match("NaN")?"":b}),y.watchTransition(t,"min-max top").attr("transform",function(a,c){return"translate("+b.utils.NaNtoZero(e.range()[c])+",0)"}));break;case"bottom":x=p+36;var A=30,B=0,C=u.selectAll("g").select("text"),D="";if(k%360){C.each(function(){var a=this.getBoundingClientRect(),b=a.width;B=a.height,b>A&&(A=b)}),D="rotate("+k+" 0,"+(B/2+d.tickPadding())+")";var E=Math.abs(Math.sin(k*Math.PI/180));x=(E?E*A:A)+30,C.attr("transform",D).style("text-anchor",k%360>0?"start":"end")}w.enter().append("text").attr("class","nv-axislabel"),z=e.range().length<2?0:2===e.range().length?e.range()[1]:e.range()[e.range().length-1]+(e.range()[1]-e.range()[0]),w.attr("text-anchor","middle").attr("y",x).attr("x",z/2),j&&(y=q.selectAll("g.nv-axisMaxMin").data([e.domain()[0],e.domain()[e.domain().length-1]]),y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),y.exit().remove(),y.attr("transform",function(a){return"translate("+b.utils.NaNtoZero(e(a)+(n?e.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",d.tickPadding()).attr("transform",D).style("text-anchor",k?k%360>0?"start":"end":"middle").text(function(a){var b=v(a);return(""+b).match("NaN")?"":b}),y.watchTransition(t,"min-max bottom").attr("transform",function(a){return"translate("+b.utils.NaNtoZero(e(a)+(n?e.rangeBand()/2:0))+",0)"})),m&&C.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case"right":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?-Math.max(f.right,g)+12:-10).attr("x",l?a.max(e.range())/2:d.tickPadding()),j&&(y=q.selectAll("g.nv-axisMaxMin").data(e.domain()),y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),y.exit().remove(),y.attr("transform",function(a){return"translate(0,"+b.utils.NaNtoZero(e(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",d.tickPadding()).style("text-anchor","start").text(function(a){var b=v(a);return(""+b).match("NaN")?"":b}),y.watchTransition(t,"min-max right").attr("transform",function(a,c){return"translate(0,"+b.utils.NaNtoZero(e.range()[c])+")"}).select("text").style("opacity",1));break;case"left":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?-Math.max(f.left,g)+25-(p||0):-10).attr("x",l?-a.max(e.range())/2:-d.tickPadding()),j&&(y=q.selectAll("g.nv-axisMaxMin").data(e.domain()),y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),y.exit().remove(),y.attr("transform",function(a){return"translate(0,"+b.utils.NaNtoZero(s(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-d.tickPadding()).attr("text-anchor","end").text(function(a){var b=v(a);return(""+b).match("NaN")?"":b}),y.watchTransition(t,"min-max right").attr("transform",function(a,c){return"translate(0,"+b.utils.NaNtoZero(e.range()[c])+")"}).select("text").style("opacity",1))}if(w.text(function(a){return a}),!j||"left"!==d.orient()&&"right"!==d.orient()||(u.selectAll("g").each(function(b){a.select(this).select("text").attr("opacity",1),(e(b)<e.range()[1]+10||e(b)>e.range()[0]-10)&&((b>1e-10||-1e-10>b)&&a.select(this).attr("opacity",0),a.select(this).select("text").attr("opacity",0))}),e.domain()[0]==e.domain()[1]&&0==e.domain()[0]&&q.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1})),j&&("top"===d.orient()||"bottom"===d.orient())){var F=[];q.selectAll("g.nv-axisMaxMin").each(function(a,b){try{F.push(b?e(a)-this.getBoundingClientRect().width-4:e(a)+this.getBoundingClientRect().width+4)}catch(c){F.push(b?e(a)-4:e(a)+4)}}),u.selectAll("g").each(function(b){(e(b)<F[0]||e(b)>F[1])&&(b>1e-10||-1e-10>b?a.select(this).remove():a.select(this).select("text").remove())})}u.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1e5*a)/1e6)&&void 0!==a}).classed("zero",!0),s=e.copy()}),t.renderEnd("axis immediate"),c}var d=a.svg.axis(),e=a.scale.linear(),f={top:0,right:0,bottom:0,left:0},g=75,h=60,i=null,j=!0,k=0,l=!0,m=!1,n=!1,o=null,p=0,q=250,r=a.dispatch("renderEnd");d.scale(e).orient("bottom").tickFormat(function(a){return a});var s,t=b.utils.renderWatch(r,q);return c.axis=d,c.dispatch=r,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(a){p=a}},staggerLabels:{get:function(){return m},set:function(a){m=a}},rotateLabels:{get:function(){return k},set:function(a){k=a}},rotateYLabel:{get:function(){return l},set:function(a){l=a}},showMaxMin:{get:function(){return j},set:function(a){j=a}},axisLabel:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return h},set:function(a){h=a}},ticks:{get:function(){return o},set:function(a){o=a}},width:{get:function(){return g},set:function(a){g=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return q},set:function(a){q=a,t.reset(q)}},scale:{get:function(){return e},set:function(a){e=a,d.scale(e),n="function"==typeof e.rangeBands,b.utils.inheritOptionsD3(c,e,["domain","range","rangeBand","rangeBands"])}}}),b.utils.initOptions(c),b.utils.inheritOptionsD3(c,d,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),b.utils.inheritOptionsD3(c,e,["domain","range","rangeBand","rangeBands"]),c},b.models.boxPlot=function(){"use strict";function c(m){return w.reset(),m.each(function(c){var m=k-j.left-j.right,q=l-j.top-j.bottom;s=a.select(this),b.utils.initSVG(s),n.domain(d||c.map(function(a,b){return p(a,b)})).rangeBands(f||[0,m],.1);var x=[];if(!e){var y=a.min(c.map(function(b){var c=[];return c.push(b.values.Q1),b.values.hasOwnProperty("whisker_low")&&null!==b.values.whisker_low&&c.push(b.values.whisker_low),b.values.hasOwnProperty("outliers")&&null!==b.values.outliers&&(c=c.concat(b.values.outliers)),a.min(c)})),z=a.max(c.map(function(b){var c=[];return c.push(b.values.Q3),b.values.hasOwnProperty("whisker_high")&&null!==b.values.whisker_high&&c.push(b.values.whisker_high),b.values.hasOwnProperty("outliers")&&null!==b.values.outliers&&(c=c.concat(b.values.outliers)),a.max(c)}));x=[y,z]}o.domain(e||x),o.range(g||[q,0]),h=h||n,i=i||o.copy().range([o(0),o(0)]);{var A=s.selectAll("g.nv-wrap").data([c]);A.enter().append("g").attr("class","nvd3 nv-wrap")}A.attr("transform","translate("+j.left+","+j.top+")");var B=A.selectAll(".nv-boxplot").data(function(a){return a}),C=B.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);B.attr("class","nv-boxplot").attr("transform",function(a,b){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover}),B.watchTransition(w,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(a,b){return b*u/c.length}).attr("transform",function(a,b){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", 0)"}),B.exit().remove(),C.each(function(b,c){var d=a.select(this);["low","high"].forEach(function(a){b.values.hasOwnProperty("whisker_"+a)&&null!==b.values["whisker_"+a]&&(d.append("line").style("stroke",b.color?b.color:r(b,c)).attr("class","nv-boxplot-whisker nv-boxplot-"+a),d.append("line").style("stroke",b.color?b.color:r(b,c)).attr("class","nv-boxplot-tick nv-boxplot-"+a))})});var D=B.selectAll(".nv-boxplot-outlier").data(function(a){return a.values.hasOwnProperty("outliers")&&null!==a.values.outliers?a.values.outliers:[]});D.enter().append("circle").style("fill",function(a,b,c){return r(a,c)}).style("stroke",function(a,b,c){return r(a,c)}).on("mouseover",function(b,c,d){a.select(this).classed("hover",!0),t.elementMouseover({series:{key:b,color:r(b,d)},e:a.event})}).on("mouseout",function(b,c,d){a.select(this).classed("hover",!1),t.elementMouseout({series:{key:b,color:r(b,d)},e:a.event})}).on("mousemove",function(){t.elementMousemove({e:a.event})}),D.attr("class","nv-boxplot-outlier"),D.watchTransition(w,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*n.rangeBand()).attr("cy",function(a){return o(a)}).attr("r","3"),D.exit().remove();var E=function(){return null===v?.9*n.rangeBand():Math.min(75,.9*n.rangeBand())},F=function(){return.45*n.rangeBand()-E()/2},G=function(){return.45*n.rangeBand()+E()/2};["low","high"].forEach(function(a){var b="low"===a?"Q1":"Q3";B.select("line.nv-boxplot-whisker.nv-boxplot-"+a).watchTransition(w,"nv-boxplot: boxplots").attr("x1",.45*n.rangeBand()).attr("y1",function(b){return o(b.values["whisker_"+a])}).attr("x2",.45*n.rangeBand()).attr("y2",function(a){return o(a.values[b])}),B.select("line.nv-boxplot-tick.nv-boxplot-"+a).watchTransition(w,"nv-boxplot: boxplots").attr("x1",F).attr("y1",function(b){return o(b.values["whisker_"+a])}).attr("x2",G).attr("y2",function(b){return o(b.values["whisker_"+a])})}),["low","high"].forEach(function(b){C.selectAll(".nv-boxplot-"+b).on("mouseover",function(c,d,e){a.select(this).classed("hover",!0),t.elementMouseover({series:{key:c.values["whisker_"+b],color:r(c,e)},e:a.event})}).on("mouseout",function(c,d,e){a.select(this).classed("hover",!1),t.elementMouseout({series:{key:c.values["whisker_"+b],color:r(c,e)},e:a.event})}).on("mousemove",function(){t.elementMousemove({e:a.event})})}),C.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(b,c){a.select(this).classed("hover",!0),t.elementMouseover({key:b.label,value:b.label,series:[{key:"Q3",value:b.values.Q3,color:b.color||r(b,c)},{key:"Q2",value:b.values.Q2,color:b.color||r(b,c)},{key:"Q1",value:b.values.Q1,color:b.color||r(b,c)}],data:b,index:c,e:a.event})}).on("mouseout",function(b,c){a.select(this).classed("hover",!1),t.elementMouseout({key:b.label,value:b.label,series:[{key:"Q3",value:b.values.Q3,color:b.color||r(b,c)},{key:"Q2",value:b.values.Q2,color:b.color||r(b,c)},{key:"Q1",value:b.values.Q1,color:b.color||r(b,c)}],data:b,index:c,e:a.event})}).on("mousemove",function(){t.elementMousemove({e:a.event})}),B.select("rect.nv-boxplot-box").watchTransition(w,"nv-boxplot: boxes").attr("y",function(a){return o(a.values.Q3)}).attr("width",E).attr("x",F).attr("height",function(a){return Math.abs(o(a.values.Q3)-o(a.values.Q1))||1}).style("fill",function(a,b){return a.color||r(a,b)}).style("stroke",function(a,b){return a.color||r(a,b)}),C.append("line").attr("class","nv-boxplot-median"),B.select("line.nv-boxplot-median").watchTransition(w,"nv-boxplot: boxplots line").attr("x1",F).attr("y1",function(a){return o(a.values.Q2)}).attr("x2",G).attr("y2",function(a){return o(a.values.Q2)}),h=n.copy(),i=o.copy()}),w.renderEnd("nv-boxplot immediate"),c}var d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=Math.floor(1e4*Math.random()),n=a.scale.ordinal(),o=a.scale.linear(),p=function(a){return a.x},q=function(a){return a.y},r=b.utils.defaultColor(),s=null,t=a.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),u=250,v=null,w=b.utils.renderWatch(t,u);return c.dispatch=t,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},maxBoxWidth:{get:function(){return v},set:function(a){v=a}},x:{get:function(){return p},set:function(a){p=a}},y:{get:function(){return q},set:function(a){q=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},id:{get:function(){return m},set:function(a){m=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},color:{get:function(){return r},set:function(a){r=b.utils.getColor(a)}},duration:{get:function(){return u},set:function(a){u=a,w.reset(u)}}}),b.utils.initOptions(c),c},b.models.boxPlotChart=function(){"use strict";function c(l){return u.reset(),u.models(f),m&&u.models(g),n&&u.models(h),l.each(function(l){var q=a.select(this);b.utils.initSVG(q);var u=(j||parseInt(q.style("width"))||960)-i.left-i.right,v=(k||parseInt(q.style("height"))||400)-i.top-i.bottom;if(c.update=function(){s.beforeUpdate(),q.transition().duration(t).call(c)},c.container=this,!(l&&l.length&&l.filter(function(a){return a.values.hasOwnProperty("Q1")&&a.values.hasOwnProperty("Q2")&&a.values.hasOwnProperty("Q3")}).length)){var w=q.selectAll(".nv-noData").data([r]);return w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",i.left+u/2).attr("y",i.top+v/2).text(function(a){return a}),c}q.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale().clamp(!0);
var x=q.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([l]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),z=y.append("defs"),A=x.select("g");y.append("g").attr("class","nv-x nv-axis"),y.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),y.append("g").attr("class","nv-barsWrap"),A.attr("transform","translate("+i.left+","+i.top+")"),o&&A.select(".nv-y.nv-axis").attr("transform","translate("+u+",0)"),f.width(u).height(v);var B=A.select(".nv-barsWrap").datum(l.filter(function(a){return!a.disabled}));if(B.transition().call(f),z.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),A.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",d.rangeBand()*(p?2:1)).attr("height",16).attr("x",-d.rangeBand()/(p?1:2)),m){g.scale(d).ticks(b.utils.calcTicksX(u/100,l)).tickSize(-v,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),A.select(".nv-x.nv-axis").call(g);var C=A.select(".nv-x.nv-axis").selectAll("g");p&&C.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}n&&(h.scale(e).ticks(Math.floor(v/36)).tickSize(-u,0),A.select(".nv-y.nv-axis").call(h)),A.select(".nv-zeroLine line").attr("x1",0).attr("x2",u).attr("y1",e(0)).attr("y2",e(0))}),u.renderEnd("nv-boxplot chart immediate"),c}var d,e,f=b.models.boxPlot(),g=b.models.axis(),h=b.models.axis(),i={top:15,right:10,bottom:50,left:60},j=null,k=null,l=b.utils.getColor(),m=!0,n=!0,o=!1,p=!1,q=b.models.tooltip(),r="No Data Available.",s=a.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),t=250;g.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),h.orient(o?"right":"left").tickFormat(a.format(",.1f")),q.duration(0);var u=b.utils.renderWatch(s,t);return f.dispatch.on("elementMouseover.tooltip",function(a){q.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){q.data(a).hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){q.position({top:a.event.pageY,left:a.event.pageX})()}),c.dispatch=s,c.boxplot=f,c.xAxis=g,c.yAxis=h,c.tooltip=q,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},staggerLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return n},set:function(a){n=a}},tooltips:{get:function(){return tooltips},set:function(a){tooltips=a}},tooltipContent:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},duration:{get:function(){return t},set:function(a){t=a,u.reset(t),f.duration(t),g.duration(t),h.duration(t)}},color:{get:function(){return l},set:function(a){l=b.utils.getColor(a),f.color(l)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a,h.orient(a?"right":"left")}}}),b.utils.inheritOptions(c,f),b.utils.initOptions(c),c},b.models.bullet=function(){"use strict";function c(e){return e.each(function(c,e){var q=n-d.left-d.right,t=o-d.top-d.bottom;p=a.select(this),b.utils.initSVG(p);{var u=g.call(this,c,e).slice().sort(a.descending),v=h.call(this,c,e).slice().sort(a.descending),w=i.call(this,c,e).slice().sort(a.descending),x=j.call(this,c,e).slice(),y=k.call(this,c,e).slice(),z=l.call(this,c,e).slice(),A=a.scale.linear().domain(a.extent(a.merge([m,u]))).range(f?[q,0]:[0,q]);this.__chart__||a.scale.linear().domain([0,1/0]).range(A.range())}this.__chart__=A;var B=a.min(u),C=a.max(u),D=u[1],E=p.selectAll("g.nv-wrap.nv-bullet").data([c]),F=E.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),G=F.append("g"),H=E.select("g");G.append("rect").attr("class","nv-range nv-rangeMax"),G.append("rect").attr("class","nv-range nv-rangeAvg"),G.append("rect").attr("class","nv-range nv-rangeMin"),G.append("rect").attr("class","nv-measure"),E.attr("transform","translate("+d.left+","+d.top+")");var I=function(a){return Math.abs(A(a)-A(0))},J=function(a){return A(0>a?a:0)};H.select("rect.nv-rangeMax").attr("height",t).attr("width",I(C>0?C:B)).attr("x",J(C>0?C:B)).datum(C>0?C:B),H.select("rect.nv-rangeAvg").attr("height",t).attr("width",I(D)).attr("x",J(D)).datum(D),H.select("rect.nv-rangeMin").attr("height",t).attr("width",I(C)).attr("x",J(C)).attr("width",I(C>0?B:C)).attr("x",J(C>0?B:C)).datum(C>0?B:C),H.select("rect.nv-measure").style("fill",r).attr("height",t/3).attr("y",t/3).attr("width",0>w?A(0)-A(w[0]):A(w[0])-A(0)).attr("x",J(w)).on("mouseover",function(){s.elementMouseover({value:w[0],label:z[0]||"Current",color:a.select(this).style("fill")})}).on("mousemove",function(){s.elementMousemove({value:w[0],label:z[0]||"Current",color:a.select(this).style("fill")})}).on("mouseout",function(){s.elementMouseout({value:w[0],label:z[0]||"Current",color:a.select(this).style("fill")})});var K=t/6,L=v.map(function(a,b){return{value:a,label:y[b]}});G.selectAll("path.nv-markerTriangle").data(L).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(a){return"translate("+A(a.value)+","+t/2+")"}).attr("d","M0,"+K+"L"+K+","+-K+" "+-K+","+-K+"Z").on("mouseover",function(b){s.elementMouseover({value:b.value,label:b.label||"Previous",color:a.select(this).style("fill"),pos:[A(b.value),t/2]})}).on("mousemove",function(b){s.elementMousemove({value:b.value,label:b.label||"Previous",color:a.select(this).style("fill")})}).on("mouseout",function(b){s.elementMouseout({value:b.value,label:b.label||"Previous",color:a.select(this).style("fill")})}),E.selectAll(".nv-range").on("mouseover",function(b,c){var d=x[c]||(c?1==c?"Mean":"Minimum":"Maximum");s.elementMouseover({value:b,label:d,color:a.select(this).style("fill")})}).on("mousemove",function(){s.elementMousemove({value:w[0],label:z[0]||"Previous",color:a.select(this).style("fill")})}).on("mouseout",function(b,c){var d=x[c]||(c?1==c?"Mean":"Minimum":"Maximum");s.elementMouseout({value:b,label:d,color:a.select(this).style("fill")})})}),c}var d={top:0,right:0,bottom:0,left:0},e="left",f=!1,g=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[0]},i=function(a){return a.measures},j=function(a){return a.rangeLabels?a.rangeLabels:[]},k=function(a){return a.markerLabels?a.markerLabels:[]},l=function(a){return a.measureLabels?a.measureLabels:[]},m=[0],n=380,o=30,p=null,q=null,r=b.utils.getColor(["#1f77b4"]),s=a.dispatch("elementMouseover","elementMouseout","elementMousemove");return c.dispatch=s,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return i},set:function(a){i=a}},forceX:{get:function(){return m},set:function(a){m=a}},width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return o},set:function(a){o=a}},tickFormat:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},orient:{get:function(){return e},set:function(a){e=a,f="right"==e||"bottom"==e}},color:{get:function(){return r},set:function(a){r=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.bulletChart=function(){"use strict";function c(e){return e.each(function(f,p){var q=a.select(this);b.utils.initSVG(q);var r=b.utils.availableWidth(l,q,h),s=m-h.top-h.bottom;if(c.update=function(){c(e)},c.container=this,!f||!i.call(this,f,p))return b.utils.noData(c,q),c;q.selectAll(".nv-noData").remove();var t=i.call(this,f,p).slice().sort(a.descending),u=j.call(this,f,p).slice().sort(a.descending),v=k.call(this,f,p).slice().sort(a.descending),w=q.selectAll("g.nv-wrap.nv-bulletChart").data([f]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),y=x.append("g"),z=w.select("g");y.append("g").attr("class","nv-bulletWrap"),y.append("g").attr("class","nv-titles"),w.attr("transform","translate("+h.left+","+h.top+")");var A=a.scale.linear().domain([0,Math.max(t[0],u[0],v[0])]).range(g?[r,0]:[0,r]),B=this.__chart__||a.scale.linear().domain([0,1/0]).range(A.range());this.__chart__=A;var C=y.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(m-h.top-h.bottom)/2+")");C.append("text").attr("class","nv-title").text(function(a){return a.title}),C.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle}),d.width(r).height(s);var D=z.select(".nv-bulletWrap");a.transition(D).call(d);var E=n||A.tickFormat(r/100),F=z.selectAll("g.nv-tick").data(A.ticks(o?o:r/50),function(a){return this.textContent||E(a)}),G=F.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+B(a)+",0)"}).style("opacity",1e-6);G.append("line").attr("y1",s).attr("y2",7*s/6),G.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*s/6).text(E);var H=a.transition(F).attr("transform",function(a){return"translate("+A(a)+",0)"}).style("opacity",1);H.select("line").attr("y1",s).attr("y2",7*s/6),H.select("text").attr("y",7*s/6),a.transition(F.exit()).attr("transform",function(a){return"translate("+A(a)+",0)"}).style("opacity",1e-6).remove()}),a.timer.flush(),c}var d=b.models.bullet(),e=b.models.tooltip(),f="left",g=!1,h={top:5,right:40,bottom:20,left:120},i=function(a){return a.ranges},j=function(a){return a.markers?a.markers:[0]},k=function(a){return a.measures},l=null,m=55,n=null,o=null,p=null,q=a.dispatch("tooltipShow","tooltipHide");return e.duration(0).headerEnabled(!1),d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color},e.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(){e.position({top:a.event.pageY,left:a.event.pageX})()}),c.bullet=d,c.dispatch=q,c.tooltip=e,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{ranges:{get:function(){return i},set:function(a){i=a}},markers:{get:function(){return j},set:function(a){j=a}},measures:{get:function(){return k},set:function(a){k=a}},width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},tickFormat:{get:function(){return n},set:function(a){n=a}},ticks:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return p},set:function(a){p=a}},tooltips:{get:function(){return e.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),e.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},orient:{get:function(){return f},set:function(a){f=a,g="right"==f||"bottom"==f}}}),b.utils.inheritOptions(c,d),b.utils.initOptions(c),c},b.models.candlestickBar=function(){"use strict";function c(y){return y.each(function(c){d=a.select(this);var y=b.utils.availableWidth(j,d,i),z=b.utils.availableHeight(k,d,i);b.utils.initSVG(d);var B=y/c[0].values.length*.45;m.domain(e||a.extent(c[0].values.map(o).concat(u))),m.range(w?g||[.5*y/c[0].values.length,y*(c[0].values.length-.5)/c[0].values.length]:g||[5+B/2,y-B/2-5]),n.domain(f||[a.min(c[0].values.map(t).concat(v)),a.max(c[0].values.map(s).concat(v))]).range(h||[z,0]),m.domain()[0]===m.domain()[1]&&m.domain(m.domain()[0]?[m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]:[-1,1]),n.domain()[0]===n.domain()[1]&&n.domain(n.domain()[0]?[n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]:[-1,1]);var C=a.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([c[0].values]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),E=D.append("defs"),F=D.append("g"),G=C.select("g");F.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+i.left+","+i.top+")"),d.on("click",function(b,c){A.chartClick({data:b,index:c,pos:a.event,id:l})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",y).attr("height",z),G.attr("clip-path",x?"url(#nv-chart-clip-path-"+l+")":"");var H=C.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});H.exit().remove();{var I=H.enter().append("g").attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});I.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+m(o(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return n(s(a,b))}).attr("x2",0).attr("y2",function(a,b){return n(t(a,b))}),I.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(m(o(a,b))-B/2)+","+(n(p(a,b))-(q(a,b)>r(a,b)?n(r(a,b))-n(q(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",B).attr("height",function(a,b){var c=q(a,b),d=r(a,b);return c>d?n(d)-n(c):n(c)-n(d)})}d.selectAll(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+m(o(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return n(s(a,b))}).attr("x2",0).attr("y2",function(a,b){return n(t(a,b))}),d.selectAll(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(m(o(a,b))-B/2)+","+(n(p(a,b))-(q(a,b)>r(a,b)?n(r(a,b))-n(q(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",B).attr("height",function(a,b){var c=q(a,b),d=r(a,b);return c>d?n(d)-n(c):n(c)-n(d)})}),c}var d,e,f,g,h,i={top:0,right:0,bottom:0,left:0},j=null,k=null,l=Math.floor(1e4*Math.random()),m=a.scale.linear(),n=a.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=function(a){return a.open},r=function(a){return a.close},s=function(a){return a.high},t=function(a){return a.low},u=[],v=[],w=!1,x=!0,y=b.utils.defaultColor(),z=!1,A=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return c.highlightPoint=function(a,b){c.clearHighlights(),d.select(".nv-candlestickBar .nv-tick-0-"+a).classed("hover",b)},c.clearHighlights=function(){d.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},c.dispatch=A,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return e},set:function(a){e=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return g},set:function(a){g=a}},yRange:{get:function(){return h},set:function(a){h=a}},forceX:{get:function(){return u},set:function(a){u=a}},forceY:{get:function(){return v},set:function(a){v=a}},padData:{get:function(){return w},set:function(a){w=a}},clipEdge:{get:function(){return x},set:function(a){x=a}},id:{get:function(){return l},set:function(a){l=a}},interactive:{get:function(){return z},set:function(a){z=a}},x:{get:function(){return o},set:function(a){o=a}},y:{get:function(){return p},set:function(a){p=a}},open:{get:function(){return q()},set:function(a){q=a}},close:{get:function(){return r()},set:function(a){r=a}},high:{get:function(){return s},set:function(a){s=a}},low:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!=a.top?a.top:i.top,i.right=void 0!=a.right?a.right:i.right,i.bottom=void 0!=a.bottom?a.bottom:i.bottom,i.left=void 0!=a.left?a.left:i.left}},color:{get:function(){return y},set:function(a){y=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.cumulativeLineChart=function(){"use strict";function c(m){return I.reset(),I.models(g),s&&I.models(h),t&&I.models(i),m.each(function(m){function B(){a.select(c.container).style("cursor","ew-resize")}function F(){H.x=a.event.x,H.i=Math.round(G.invert(H.x)),L()}function I(){a.select(c.container).style("cursor","auto"),z.index=H.i,D.stateChange(z)}function L(){cb.data([H]);var a=c.duration();c.duration(0),c.update(),c.duration(a)}var M=a.select(this);b.utils.initSVG(M),M.classed("nv-chart-"+y,!0);var N=this,O=b.utils.availableWidth(p,M,n),P=b.utils.availableHeight(q,M,n);if(c.update=function(){0===E?M.call(c):M.transition().duration(E).call(c)},c.container=this,z.setter(K(m),c.update).getter(J(m)).update(),z.disabled=m.map(function(a){return!!a.disabled}),!A){var Q;A={};for(Q in z)A[Q]=z[Q]instanceof Array?z[Q].slice(0):z[Q]}var R=a.behavior.drag().on("dragstart",B).on("drag",F).on("dragend",I);if(!(m&&m.length&&m.filter(function(a){return a.values.length}).length))return b.utils.noData(c,M),c;if(M.selectAll(".nv-noData").remove(),e=g.xScale(),f=g.yScale(),x)g.yDomain(null);else{var S=m.filter(function(a){return!a.disabled}).map(function(b){var c=a.extent(b.values,g.y());return c[0]<-.95&&(c[0]=-.95),[(c[0]-c[1])/(1+c[1]),(c[1]-c[0])/(1+c[0])]}),T=[a.min(S,function(a){return a[0]}),a.max(S,function(a){return a[1]})];g.yDomain(T)}G.domain([0,m[0].values.length-1]).range([0,O]).clamp(!0);var m=d(H.i,m),U=w?"none":"all",V=M.selectAll("g.nv-wrap.nv-cumulativeLine").data([m]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),X=V.select("g");if(W.append("g").attr("class","nv-interactive"),W.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-background"),W.append("g").attr("class","nv-linesWrap").style("pointer-events",U),W.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap"),r&&(j.width(O),X.select(".nv-legendWrap").datum(m).call(j),n.top!=j.height()&&(n.top=j.height(),P=b.utils.availableHeight(q,M,n)),X.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")),v){var Y=[{key:"Re-scale y-axis",disabled:!x}];k.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),X.select(".nv-controlsWrap").datum(Y).attr("transform","translate(0,"+-n.top+")").call(k)}V.attr("transform","translate("+n.left+","+n.top+")"),u&&X.select(".nv-y.nv-axis").attr("transform","translate("+O+",0)");var Z=m.filter(function(a){return a.tempDisabled});V.select(".tempDisabled").remove(),Z.length&&V.append("text").attr("class","tempDisabled").attr("x",O/2).attr("y","-.71em").style("text-anchor","end").text(Z.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period."),w&&(l.width(O).height(P).margin({left:n.left,top:n.top}).svgContainer(M).xScale(e),V.select(".nv-interactive").call(l)),W.select(".nv-background").append("rect"),X.select(".nv-background rect").attr("width",O).attr("height",P),g.y(function(a){return a.display.y}).width(O).height(P).color(m.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!m[b].disabled&&!m[b].tempDisabled}));var $=X.select(".nv-linesWrap").datum(m.filter(function(a){return!a.disabled&&!a.tempDisabled}));$.call(g),m.forEach(function(a,b){a.seriesIndex=b});var _=m.filter(function(a){return!a.disabled&&!!C(a)}),ab=X.select(".nv-avgLinesWrap").selectAll("line").data(_,function(a){return a.key}),bb=function(a){var b=f(C(a));return 0>b?0:b>P?P:b};ab.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a){return g.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",O).attr("y1",bb).attr("y2",bb),ab.style("stroke-opacity",function(a){var b=f(C(a));return 0>b||b>P?0:1}).attr("x1",0).attr("x2",O).attr("y1",bb).attr("y2",bb),ab.exit().remove();var cb=$.selectAll(".nv-indexLine").data([H]);cb.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(R),cb.attr("transform",function(a){return"translate("+G(a.i)+",0)"}).attr("height",P),s&&(h.scale(e)._ticks(b.utils.calcTicksX(O/70,m)).tickSize(-P,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),X.select(".nv-x.nv-axis").call(h)),t&&(i.scale(f)._ticks(b.utils.calcTicksY(P/36,m)).tickSize(-O,0),X.select(".nv-y.nv-axis").call(i)),X.select(".nv-background rect").on("click",function(){H.x=a.mouse(this)[0],H.i=Math.round(G.invert(H.x)),z.index=H.i,D.stateChange(z),L()}),g.dispatch.on("elementClick",function(a){H.i=a.pointIndex,H.x=G(H.i),z.index=H.i,D.stateChange(z),L()}),k.dispatch.on("legendClick",function(a){a.disabled=!a.disabled,x=!a.disabled,z.rescaleY=x,D.stateChange(z),c.update()}),j.dispatch.on("stateChange",function(a){for(var b in a)z[b]=a[b];D.stateChange(z),c.update()}),l.dispatch.on("elementMousemove",function(a){g.clearHighlights();var d,e,f,j=[];if(m.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(h,i){e=b.interactiveBisect(h.values,a.pointXValue,c.x()),g.highlightPoint(i,e,!0);var k=h.values[e];"undefined"!=typeof k&&("undefined"==typeof d&&(d=k),"undefined"==typeof f&&(f=c.xScale()(c.x()(k,e))),j.push({key:h.key,value:c.y()(k,e),color:o(h,h.seriesIndex)}))}),j.length>2){var k=c.yScale().invert(a.mouseY),p=Math.abs(c.yScale().domain()[0]-c.yScale().domain()[1]),q=.03*p,r=b.nearestValueIndex(j.map(function(a){return a.value}),k,q);null!==r&&(j[r].highlight=!0)}var s=h.tickFormat()(c.x()(d,e),e);l.tooltip.position({left:f+n.left,top:a.mouseY+n.top}).chartContainer(N.parentNode).valueFormatter(function(a){return i.tickFormat()(a)}).data({value:s,series:j})(),l.renderGuideLine(f)}),l.dispatch.on("elementMouseout",function(){g.clearHighlights()}),D.on("changeState",function(a){"undefined"!=typeof a.disabled&&(m.forEach(function(b,c){b.disabled=a.disabled[c]}),z.disabled=a.disabled),"undefined"!=typeof a.index&&(H.i=a.index,H.x=G(H.i),z.index=a.index,cb.data([H])),"undefined"!=typeof a.rescaleY&&(x=a.rescaleY),c.update()})}),I.renderEnd("cumulativeLineChart immediate"),c}function d(a,b){return L||(L=g.y()),b.map(function(b){if(!b.values)return b;var c=b.values[a];if(null==c)return b;var d=L(c,a);return-.95>d&&!F?(b.tempDisabled=!0,b):(b.tempDisabled=!1,b.values=b.values.map(function(a,b){return a.display={y:(L(a,b)-d)/(1+d)},a}),b)})}var e,f,g=b.models.line(),h=b.models.axis(),i=b.models.axis(),j=b.models.legend(),k=b.models.legend(),l=b.interactiveGuideline(),m=b.models.tooltip(),n={top:30,right:30,bottom:50,left:60},o=b.utils.defaultColor(),p=null,q=null,r=!0,s=!0,t=!0,u=!1,v=!0,w=!1,x=!0,y=g.id(),z=b.utils.state(),A=null,B=null,C=function(a){return a.average},D=a.dispatch("stateChange","changeState","renderEnd"),E=250,F=!1;z.index=0,z.rescaleY=x,h.orient("bottom").tickPadding(7),i.orient(u?"right":"left"),m.valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return h.tickFormat()(a,b)}),k.updateState(!1);var G=a.scale.linear(),H={i:0,x:0},I=b.utils.renderWatch(D,E),J=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:H.i,rescaleY:x}}},K=function(a){return function(b){void 0!==b.index&&(H.i=b.index),void 0!==b.rescaleY&&(x=b.rescaleY),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};g.dispatch.on("elementMouseover.tooltip",function(a){var b={x:c.x()(a.point),y:c.y()(a.point),color:a.point.color};a.point=b,m.data(a).position(a.pos).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(){m.hidden(!0)});var L=null;return c.dispatch=D,c.lines=g,c.legend=j,c.controls=k,c.xAxis=h,c.yAxis=i,c.interactiveLayer=l,c.state=z,c.tooltip=m,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},rescaleY:{get:function(){return x},set:function(a){x=a}},showControls:{get:function(){return v},set:function(a){v=a}},showLegend:{get:function(){return r},set:function(a){r=a}},average:{get:function(){return C},set:function(a){C=a}},defaultState:{get:function(){return A},set:function(a){A=a}},noData:{get:function(){return B},set:function(a){B=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},noErrorCheck:{get:function(){return F},set:function(a){F=a}},tooltips:{get:function(){return m.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),m.enabled(!!a)}},tooltipContent:{get:function(){return m.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),m.contentGenerator(a)}},margin:{get:function(){return n},set:function(a){n.top=void 0!==a.top?a.top:n.top,n.right=void 0!==a.right?a.right:n.right,n.bottom=void 0!==a.bottom?a.bottom:n.bottom,n.left=void 0!==a.left?a.left:n.left}},color:{get:function(){return o},set:function(a){o=b.utils.getColor(a),j.color(o)}},useInteractiveGuideline:{get:function(){return w},set:function(a){w=a,a===!0&&(c.interactive(!1),c.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,i.orient(a?"right":"left")}},duration:{get:function(){return E},set:function(a){E=a,g.duration(E),h.duration(E),i.duration(E),I.reset(E)}}}),b.utils.inheritOptions(c,g),b.utils.initOptions(c),c},b.models.discreteBar=function(){"use strict";function c(n){return z.reset(),n.each(function(c){var n=l-k.left-k.right,y=m-k.top-k.bottom;d=a.select(this),b.utils.initSVG(d),c.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var A=e&&f?[]:c.map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:r(a,b),y0:a.y0}})});o.domain(e||a.merge(A).map(function(a){return a.x})).rangeBands(g||[0,n],.1),p.domain(f||a.extent(a.merge(A).map(function(a){return a.y}).concat(s))),p.range(u?h||[y-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]:h||[y,0]),i=i||o,j=j||p.copy().range([p(0),p(0)]);{var B=d.selectAll("g.nv-wrap.nv-discretebar").data([c]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),D=C.append("g");B.select("g")}D.append("g").attr("class","nv-groups"),B.attr("transform","translate("+k.left+","+k.top+")");var E=B.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().watchTransition(z,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),E.watchTransition(z,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var F=E.selectAll("g.nv-bar").data(function(a){return a.values});F.exit().remove();var G=F.enter().append("g").attr("transform",function(a,b){return"translate("+(o(q(a,b))+.05*o.rangeBand())+", "+p(0)+")"}).on("mouseover",function(b,c){a.select(this).classed("hover",!0),w.elementMouseover({data:b,index:c,color:a.select(this).style("fill")})}).on("mouseout",function(b,c){a.select(this).classed("hover",!1),w.elementMouseout({data:b,index:c,color:a.select(this).style("fill")})}).on("mousemove",function(b,c){w.elementMousemove({data:b,index:c,color:a.select(this).style("fill")})}).on("click",function(b,c){w.elementClick({data:b,index:c,color:a.select(this).style("fill")}),a.event.stopPropagation()}).on("dblclick",function(b,c){w.elementDblClick({data:b,index:c,color:a.select(this).style("fill")}),a.event.stopPropagation()});G.append("rect").attr("height",0).attr("width",.9*o.rangeBand()/c.length),u?(G.append("text").attr("text-anchor","middle"),F.select("text").text(function(a,b){return v(r(a,b))}).watchTransition(z,"discreteBar: bars text").attr("x",.9*o.rangeBand()/2).attr("y",function(a,b){return r(a,b)<0?p(r(a,b))-p(0)+12:-4})):F.selectAll("text").remove(),F.attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||t(a,b)}).style("stroke",function(a,b){return a.color||t(a,b)}).select("rect").attr("class",x).watchTransition(z,"discreteBar: bars rect").attr("width",.9*o.rangeBand()/c.length),F.watchTransition(z,"discreteBar: bars").attr("transform",function(a,b){var c=o(q(a,b))+.05*o.rangeBand(),d=r(a,b)<0?p(0):p(0)-p(r(a,b))<1?p(0)-1:p(r(a,b));return"translate("+c+", "+d+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(p(r(a,b))-p(f&&f[0]||0))||1)}),i=o.copy(),j=p.copy()}),z.renderEnd("discreteBar immediate"),c}var d,e,f,g,h,i,j,k={top:0,right:0,bottom:0,left:0},l=960,m=500,n=Math.floor(1e4*Math.random()),o=a.scale.ordinal(),p=a.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=[0],t=b.utils.defaultColor(),u=!1,v=a.format(",.2f"),w=a.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x="discreteBar",y=250,z=b.utils.renderWatch(w,y);return c.dispatch=w,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},forceY:{get:function(){return s},set:function(a){s=a}},showValues:{get:function(){return u},set:function(a){u=a}},x:{get:function(){return q},set:function(a){q=a}},y:{get:function(){return r},set:function(a){r=a}},xScale:{get:function(){return o},set:function(a){o=a}},yScale:{get:function(){return p},set:function(a){p=a}},xDomain:{get:function(){return e},set:function(a){e=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return g},set:function(a){g=a}},yRange:{get:function(){return h},set:function(a){h=a}},valueFormat:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return n},set:function(a){n=a}},rectClass:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},color:{get:function(){return t},set:function(a){t=b.utils.getColor(a)}},duration:{get:function(){return y},set:function(a){y=a,z.reset(y)}}}),b.utils.initOptions(c),c},b.models.discreteBarChart=function(){"use strict";function c(i){return u.reset(),u.models(f),n&&u.models(g),o&&u.models(h),i.each(function(i){var m=a.select(this);b.utils.initSVG(m);var r=b.utils.availableWidth(k,m,j),u=b.utils.availableHeight(l,m,j);if(c.update=function(){s.beforeUpdate(),m.transition().duration(t).call(c)},c.container=this,!(i&&i.length&&i.filter(function(a){return a.values.length}).length))return b.utils.noData(c,m),c;m.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale().clamp(!0);var v=m.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([i]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),x=w.append("defs"),y=v.select("g");w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),w.append("g").attr("class","nv-barsWrap"),y.attr("transform","translate("+j.left+","+j.top+")"),p&&y.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),f.width(r).height(u);var z=y.select(".nv-barsWrap").datum(i.filter(function(a){return!a.disabled}));if(z.transition().call(f),x.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),y.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",d.rangeBand()*(q?2:1)).attr("height",16).attr("x",-d.rangeBand()/(q?1:2)),n){g.scale(d)._ticks(b.utils.calcTicksX(r/100,i)).tickSize(-u,0),y.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(f.showValues()&&e.domain()[0]<0?16:0))+")"),y.select(".nv-x.nv-axis").call(g);
var A=y.select(".nv-x.nv-axis").selectAll("g");q&&A.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}o&&(h.scale(e)._ticks(b.utils.calcTicksY(u/36,i)).tickSize(-r,0),y.select(".nv-y.nv-axis").call(h)),y.select(".nv-zeroLine line").attr("x1",0).attr("x2",r).attr("y1",e(0)).attr("y2",e(0))}),u.renderEnd("discreteBar chart immediate"),c}var d,e,f=b.models.discreteBar(),g=b.models.axis(),h=b.models.axis(),i=b.models.tooltip(),j={top:15,right:10,bottom:50,left:60},k=null,l=null,m=b.utils.getColor(),n=!0,o=!0,p=!1,q=!1,r=null,s=a.dispatch("beforeUpdate","renderEnd"),t=250;g.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),h.orient(p?"right":"left").tickFormat(a.format(",.1f")),i.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).keyFormatter(function(a,b){return g.tickFormat()(a,b)});var u=b.utils.renderWatch(s,t);return f.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:c.x()(a.data),value:c.y()(a.data),color:a.color},i.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){i.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){i.position({top:a.event.pageY,left:a.event.pageX})()}),c.dispatch=s,c.discretebar=f,c.xAxis=g,c.yAxis=h,c.tooltip=i,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},staggerLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return r},set:function(a){r=a}},tooltips:{get:function(){return i.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),i.enabled(!!a)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),i.contentGenerator(a)}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return t},set:function(a){t=a,u.reset(t),f.duration(t),g.duration(t),h.duration(t)}},color:{get:function(){return m},set:function(a){m=b.utils.getColor(a),f.color(m)}},rightAlignYAxis:{get:function(){return p},set:function(a){p=a,h.orient(a?"right":"left")}}}),b.utils.inheritOptions(c,f),b.utils.initOptions(c),c},b.models.distribution=function(){"use strict";function c(l){return n.reset(),l.each(function(c){var l=(f-("x"===h?e.left+e.right:e.top+e.bottom),"x"==h?"y":"x"),m=a.select(this);b.utils.initSVG(m),d=d||k;var o=m.selectAll("g.nv-distribution").data([c]),p=o.enter().append("g").attr("class","nvd3 nv-distribution"),q=(p.append("g"),o.select("g"));o.attr("transform","translate("+e.left+","+e.top+")");var r=q.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});r.enter().append("g"),r.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return j(a,b)});var s=r.selectAll("line.nv-dist"+h).data(function(a){return a.values});s.enter().append("line").attr(h+"1",function(a,b){return d(i(a,b))}).attr(h+"2",function(a,b){return d(i(a,b))}),n.transition(r.exit().selectAll("line.nv-dist"+h),"dist exit").attr(h+"1",function(a,b){return k(i(a,b))}).attr(h+"2",function(a,b){return k(i(a,b))}).style("stroke-opacity",0).remove(),s.attr("class",function(a,b){return"nv-dist"+h+" nv-dist"+h+"-"+b}).attr(l+"1",0).attr(l+"2",g),n.transition(s,"dist").attr(h+"1",function(a,b){return k(i(a,b))}).attr(h+"2",function(a,b){return k(i(a,b))}),d=k.copy()}),n.renderEnd("distribution immediate"),c}var d,e={top:0,right:0,bottom:0,left:0},f=400,g=8,h="x",i=function(a){return a[h]},j=b.utils.defaultColor(),k=a.scale.linear(),l=250,m=a.dispatch("renderEnd"),n=b.utils.renderWatch(m,l);return c.options=b.utils.optionsFunc.bind(c),c.dispatch=m,c.margin=function(a){return arguments.length?(e.top="undefined"!=typeof a.top?a.top:e.top,e.right="undefined"!=typeof a.right?a.right:e.right,e.bottom="undefined"!=typeof a.bottom?a.bottom:e.bottom,e.left="undefined"!=typeof a.left?a.left:e.left,c):e},c.width=function(a){return arguments.length?(f=a,c):f},c.axis=function(a){return arguments.length?(h=a,c):h},c.size=function(a){return arguments.length?(g=a,c):g},c.getData=function(b){return arguments.length?(i=a.functor(b),c):i},c.scale=function(a){return arguments.length?(k=a,c):k},c.color=function(a){return arguments.length?(j=b.utils.getColor(a),c):j},c.duration=function(a){return arguments.length?(l=a,n.reset(l),c):l},c},b.models.furiousLegend=function(){"use strict";function c(q){function r(a,b){return"furious"!=p?"#000":n?a.disengaged?h(a,b):"#fff":n?void 0:a.disabled?h(a,b):"#fff"}function s(a,b){return n&&"furious"==p?a.disengaged?"#fff":h(a,b):a.disabled?"#fff":h(a,b)}return q.each(function(c){var q=e-d.left-d.right,t=a.select(this);b.utils.initSVG(t);var u=t.selectAll("g.nv-legend").data([c]),v=(u.enter().append("g").attr("class","nvd3 nv-legend").append("g"),u.select("g"));u.attr("transform","translate("+d.left+","+d.top+")");var w,x=v.selectAll(".nv-series").data(function(a){return"furious"!=p?a:a.filter(function(a){return n?!0:!a.disengaged})}),y=x.enter().append("g").attr("class","nv-series");if("classic"==p)y.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),w=x.select("circle");else if("furious"==p){y.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),w=x.select("rect"),y.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var z=x.select(".nv-check-box");z.each(function(b,c){a.select(this).selectAll("path").attr("stroke",r(b,c))})}y.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var A=x.select("text.nv-legend-text");x.on("mouseover",function(a,b){o.legendMouseover(a,b)}).on("mouseout",function(a,b){o.legendMouseout(a,b)}).on("click",function(a,b){o.legendClick(a,b);var c=x.data();if(l){if("classic"==p)m?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==p)if(n)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!n){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}o.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=p||!n)&&(o.legendDblclick(a,b),l)){var c=x.data();c.forEach(function(a){a.disabled=!0,"furious"==p&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==p&&(a.userDisabled=a.disabled),o.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),x.classed("nv-disabled",function(a){return a.userDisabled}),x.exit().remove(),A.attr("fill",r).text(g);var B;switch(p){case"furious":B=23;break;case"classic":B=20}if(i){var C=[];x.each(function(){var c,d=a.select(this).select("text");try{if(c=d.node().getComputedTextLength(),0>=c)throw Error()}catch(e){c=b.utils.calcApproxTextWidth(d)}C.push(c+j)});for(var D=0,E=0,F=[];q>E&&D<C.length;)F[D]=C[D],E+=C[D++];for(0===D&&(D=1);E>q&&D>1;){F=[],D--;for(var G=0;G<C.length;G++)C[G]>(F[G%D]||0)&&(F[G%D]=C[G]);E=F.reduce(function(a,b){return a+b})}for(var H=[],I=0,J=0;D>I;I++)H[I]=J,J+=F[I];x.attr("transform",function(a,b){return"translate("+H[b%D]+","+(5+Math.floor(b/D)*B)+")"}),k?v.attr("transform","translate("+(e-d.right-E)+","+d.top+")"):v.attr("transform","translate(0,"+d.top+")"),f=d.top+d.bottom+Math.ceil(C.length/D)*B}else{var K,L=5,M=5,N=0;x.attr("transform",function(){var b=a.select(this).select("text").node().getComputedTextLength()+j;return K=M,e<d.left+d.right+K+b&&(M=K=5,L+=B),M+=b,M>N&&(N=M),"translate("+K+","+L+")"}),v.attr("transform","translate("+(e-d.right-N)+","+d.top+")"),f=d.top+d.bottom+L+15}"furious"==p&&w.attr("width",function(a,b){return A[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),w.style("fill",s).style("stroke",function(a,b){return a.color||h(a,b)})}),c}var d={top:5,right:0,bottom:5,left:0},e=400,f=20,g=function(a){return a.key},h=b.utils.getColor(),i=!0,j=28,k=!0,l=!0,m=!1,n=!1,o=a.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),p="classic";return c.dispatch=o,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},key:{get:function(){return g},set:function(a){g=a}},align:{get:function(){return i},set:function(a){i=a}},rightAlign:{get:function(){return k},set:function(a){k=a}},padding:{get:function(){return j},set:function(a){j=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return m},set:function(a){m=a}},expanded:{get:function(){return n},set:function(a){n=a}},vers:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},color:{get:function(){return h},set:function(a){h=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.historicalBar=function(){"use strict";function c(y){return y.each(function(c){x.reset(),l=a.select(this);var y=b.utils.availableWidth(i,l,h),z=b.utils.availableHeight(j,l,h);b.utils.initSVG(l),m.domain(d||a.extent(c[0].values.map(o).concat(q))),m.range(s?f||[.5*y/c[0].values.length,y*(c[0].values.length-.5)/c[0].values.length]:f||[0,y]),n.domain(e||a.extent(c[0].values.map(p).concat(r))).range(g||[z,0]),m.domain()[0]===m.domain()[1]&&m.domain(m.domain()[0]?[m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]:[-1,1]),n.domain()[0]===n.domain()[1]&&n.domain(n.domain()[0]?[n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]:[-1,1]);var A=l.selectAll("g.nv-wrap.nv-historicalBar-"+k).data([c[0].values]),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+k),C=B.append("defs"),D=B.append("g"),E=A.select("g");D.append("g").attr("class","nv-bars"),A.attr("transform","translate("+h.left+","+h.top+")"),l.on("click",function(b,c){v.chartClick({data:b,index:c,pos:a.event,id:k})}),C.append("clipPath").attr("id","nv-chart-clip-path-"+k).append("rect"),A.select("#nv-chart-clip-path-"+k+" rect").attr("width",y).attr("height",z),E.attr("clip-path",t?"url(#nv-chart-clip-path-"+k+")":"");var F=A.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return o(a,b)});F.exit().remove(),F.enter().append("rect").attr("x",0).attr("y",function(a,c){return b.utils.NaNtoZero(n(Math.max(0,p(a,c))))}).attr("height",function(a,c){return b.utils.NaNtoZero(Math.abs(n(p(a,c))-n(0)))}).attr("transform",function(a,b){return"translate("+(m(o(a,b))-y/c[0].values.length*.45)+",0)"}).on("mouseover",function(b,c){w&&(a.select(this).classed("hover",!0),v.elementMouseover({data:b,index:c,color:a.select(this).style("fill")}))}).on("mouseout",function(b,c){w&&(a.select(this).classed("hover",!1),v.elementMouseout({data:b,index:c,color:a.select(this).style("fill")}))}).on("mousemove",function(b,c){w&&v.elementMousemove({data:b,index:c,color:a.select(this).style("fill")})}).on("click",function(b,c){w&&(v.elementClick({data:b,index:c,color:a.select(this).style("fill")}),a.event.stopPropagation())}).on("dblclick",function(b,c){w&&(v.elementDblClick({data:b,index:c,color:a.select(this).style("fill")}),a.event.stopPropagation())}),F.attr("fill",function(a,b){return u(a,b)}).attr("class",function(a,b,c){return(p(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(x,"bars").attr("transform",function(a,b){return"translate("+(m(o(a,b))-y/c[0].values.length*.45)+",0)"}).attr("width",y/c[0].values.length*.9),F.watchTransition(x,"bars").attr("y",function(a,c){var d=p(a,c)<0?n(0):n(0)-n(p(a,c))<1?n(0)-1:n(p(a,c));return b.utils.NaNtoZero(d)}).attr("height",function(a,c){return b.utils.NaNtoZero(Math.max(Math.abs(n(p(a,c))-n(0)),1))})}),x.renderEnd("historicalBar immediate"),c}var d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=Math.floor(1e4*Math.random()),l=null,m=a.scale.linear(),n=a.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=[],r=[0],s=!1,t=!0,u=b.utils.defaultColor(),v=a.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=!0,x=b.utils.renderWatch(v,0);return c.highlightPoint=function(a,b){l.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)},c.clearHighlights=function(){l.select(".nv-bars .nv-bar.hover").classed("hover",!1)},c.dispatch=v,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},forceX:{get:function(){return q},set:function(a){q=a}},forceY:{get:function(){return r},set:function(a){r=a}},padData:{get:function(){return s},set:function(a){s=a}},x:{get:function(){return o},set:function(a){o=a}},y:{get:function(){return p},set:function(a){p=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return k},set:function(a){k=a}},interactive:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},color:{get:function(){return u},set:function(a){u=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.historicalBarChart=function(c){"use strict";function d(c){return c.each(function(l){A.reset(),A.models(g),r&&A.models(h),s&&A.models(i);var x=a.select(this),B=this;b.utils.initSVG(x);var C=b.utils.availableWidth(o,x,m),D=b.utils.availableHeight(p,x,m);if(d.update=function(){x.transition().duration(z).call(d)},d.container=this,v.disabled=l.map(function(a){return!!a.disabled}),!w){var E;w={};for(E in v)w[E]=v[E]instanceof Array?v[E].slice(0):v[E]}if(!(l&&l.length&&l.filter(function(a){return a.values.length}).length))return b.utils.noData(d,x),d;x.selectAll(".nv-noData").remove(),e=g.xScale(),f=g.yScale();var F=x.selectAll("g.nv-wrap.nv-historicalBarChart").data([l]),G=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),H=F.select("g");G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-barsWrap"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-interactive"),q&&(j.width(C),H.select(".nv-legendWrap").datum(l).call(j),m.top!=j.height()&&(m.top=j.height(),D=b.utils.availableHeight(p,x,m)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")),F.attr("transform","translate("+m.left+","+m.top+")"),t&&H.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)"),u&&(k.width(C).height(D).margin({left:m.left,top:m.top}).svgContainer(x).xScale(e),F.select(".nv-interactive").call(k)),g.width(C).height(D).color(l.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!l[b].disabled}));var I=H.select(".nv-barsWrap").datum(l.filter(function(a){return!a.disabled}));I.transition().call(g),r&&(h.scale(e)._ticks(b.utils.calcTicksX(C/100,l)).tickSize(-D,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),H.select(".nv-x.nv-axis").transition().call(h)),s&&(i.scale(f)._ticks(b.utils.calcTicksY(D/36,l)).tickSize(-C,0),H.select(".nv-y.nv-axis").transition().call(i)),k.dispatch.on("elementMousemove",function(a){g.clearHighlights();var c,e,f,j=[];l.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(h){e=b.interactiveBisect(h.values,a.pointXValue,d.x()),g.highlightPoint(e,!0);var i=h.values[e];void 0!==i&&(void 0===c&&(c=i),void 0===f&&(f=d.xScale()(d.x()(i,e))),j.push({key:h.key,value:d.y()(i,e),color:n(h,h.seriesIndex),data:h.values[e]}))});var o=h.tickFormat()(d.x()(c,e));k.tooltip.position({left:f+m.left,top:a.mouseY+m.top}).chartContainer(B.parentNode).valueFormatter(function(a){return i.tickFormat()(a)}).data({value:o,index:e,series:j})(),k.renderGuideLine(f)}),k.dispatch.on("elementMouseout",function(){y.tooltipHide(),g.clearHighlights()}),j.dispatch.on("legendClick",function(a){a.disabled=!a.disabled,l.filter(function(a){return!a.disabled}).length||l.map(function(a){return a.disabled=!1,F.selectAll(".nv-series").classed("disabled",!1),a}),v.disabled=l.map(function(a){return!!a.disabled}),y.stateChange(v),c.transition().call(d)}),j.dispatch.on("legendDblclick",function(a){l.forEach(function(a){a.disabled=!0}),a.disabled=!1,v.disabled=l.map(function(a){return!!a.disabled}),y.stateChange(v),d.update()}),y.on("changeState",function(a){"undefined"!=typeof a.disabled&&(l.forEach(function(b,c){b.disabled=a.disabled[c]}),v.disabled=a.disabled),d.update()})}),A.renderEnd("historicalBarChart immediate"),d}var e,f,g=c||b.models.historicalBar(),h=b.models.axis(),i=b.models.axis(),j=b.models.legend(),k=b.interactiveGuideline(),l=b.models.tooltip(),m={top:30,right:90,bottom:50,left:90},n=b.utils.defaultColor(),o=null,p=null,q=!1,r=!0,s=!0,t=!1,u=!1,v={},w=null,x=null,y=a.dispatch("tooltipHide","stateChange","changeState","renderEnd"),z=250;h.orient("bottom").tickPadding(7),i.orient(t?"right":"left"),l.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return h.tickFormat()(a,b)});var A=b.utils.renderWatch(y,0);return g.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:d.x()(a.data),value:d.y()(a.data),color:a.color},l.data(a).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(){l.hidden(!0)}),g.dispatch.on("elementMousemove.tooltip",function(){l.position({top:a.event.pageY,left:a.event.pageX})()}),d.dispatch=y,d.bars=g,d.legend=j,d.xAxis=h,d.yAxis=i,d.interactiveLayer=k,d.tooltip=l,d.options=b.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return s},set:function(a){s=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return x},set:function(a){x=a}},tooltips:{get:function(){return l.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),l.enabled(!!a)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),l.contentGenerator(a)}},margin:{get:function(){return m},set:function(a){m.top=void 0!==a.top?a.top:m.top,m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},color:{get:function(){return n},set:function(a){n=b.utils.getColor(a),j.color(n),g.color(n)}},duration:{get:function(){return z},set:function(a){z=a,A.reset(z),i.duration(z),h.duration(z)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a,i.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return u},set:function(a){u=a,a===!0&&d.interactive(!1)}}}),b.utils.inheritOptions(d,g),b.utils.initOptions(d),d},b.models.ohlcBarChart=function(){var a=b.models.historicalBarChart(b.models.ohlcBar());return a.useInteractiveGuideline(!0),a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data,d=c.open<c.close?"2ca02c":"d62728";return'<h3 style="color: #'+d+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),a},b.models.candlestickBarChart=function(){var a=b.models.historicalBarChart(b.models.candlestickBar());return a.useInteractiveGuideline(!0),a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data,d=c.open<c.close?"2ca02c":"d62728";return'<h3 style="color: #'+d+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),a},b.models.legend=function(){"use strict";function c(q){function r(a,b){return"furious"!=p?"#000":n?a.disengaged?"#000":"#fff":n?void 0:(a.color||(a.color=h(a,b)),a.disabled?a.color:"#fff")}function s(a,b){return n&&"furious"==p&&a.disengaged?"#eee":a.color||h(a,b)}function t(a){return n&&"furious"==p?1:a.disabled?0:1}return q.each(function(c){var h=e-d.left-d.right,q=a.select(this);b.utils.initSVG(q);var u=q.selectAll("g.nv-legend").data([c]),v=u.enter().append("g").attr("class","nvd3 nv-legend").append("g"),w=u.select("g");u.attr("transform","translate("+d.left+","+d.top+")");var x,y,z=w.selectAll(".nv-series").data(function(a){return"furious"!=p?a:a.filter(function(a){return n?!0:!a.disengaged})}),A=z.enter().append("g").attr("class","nv-series");switch(p){case"furious":y=23;break;case"classic":y=20}if("classic"==p)A.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),x=z.select("circle");else if("furious"==p){A.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),x=z.select(".nv-legend-symbol"),A.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var B=z.select(".nv-check-box");B.each(function(b,c){a.select(this).selectAll("path").attr("stroke",r(b,c))})}A.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var C=z.select("text.nv-legend-text");z.on("mouseover",function(a,b){o.legendMouseover(a,b)}).on("mouseout",function(a,b){o.legendMouseout(a,b)}).on("click",function(a,b){o.legendClick(a,b);var c=z.data();if(l){if("classic"==p)m?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==p)if(n)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!n){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}o.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=p||!n)&&(o.legendDblclick(a,b),l)){var c=z.data();c.forEach(function(a){a.disabled=!0,"furious"==p&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==p&&(a.userDisabled=a.disabled),o.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),z.classed("nv-disabled",function(a){return a.userDisabled}),z.exit().remove(),C.attr("fill",r).text(g);var D=0;if(i){var E=[];z.each(function(){var c,d=a.select(this).select("text");try{if(c=d.node().getComputedTextLength(),0>=c)throw Error()}catch(e){c=b.utils.calcApproxTextWidth(d)}E.push(c+j)});var F=0,G=[];for(D=0;h>D&&F<E.length;)G[F]=E[F],D+=E[F++];for(0===F&&(F=1);D>h&&F>1;){G=[],F--;for(var H=0;H<E.length;H++)E[H]>(G[H%F]||0)&&(G[H%F]=E[H]);D=G.reduce(function(a,b){return a+b})}for(var I=[],J=0,K=0;F>J;J++)I[J]=K,K+=G[J];z.attr("transform",function(a,b){return"translate("+I[b%F]+","+(5+Math.floor(b/F)*y)+")"}),k?w.attr("transform","translate("+(e-d.right-D)+","+d.top+")"):w.attr("transform","translate(0,"+d.top+")"),f=d.top+d.bottom+Math.ceil(E.length/F)*y}else{var L,M=5,N=5,O=0;z.attr("transform",function(){var b=a.select(this).select("text").node().getComputedTextLength()+j;return L=N,e<d.left+d.right+L+b&&(N=L=5,M+=y),N+=b,N>O&&(O=N),L+O>D&&(D=L+O),"translate("+L+","+M+")"}),w.attr("transform","translate("+(e-d.right-O)+","+d.top+")"),f=d.top+d.bottom+M+15}if("furious"==p){x.attr("width",function(a,b){return C[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),v.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var P=w.select(".nv-legend-bg");P.transition().duration(300).attr("x",-y).attr("width",D+y-12).attr("height",f+10).attr("y",-d.top-10).attr("opacity",n?1:0)}x.style("fill",s).style("fill-opacity",t).style("stroke",s)}),c}var d={top:5,right:0,bottom:5,left:0},e=400,f=20,g=function(a){return a.key},h=b.utils.getColor(),i=!0,j=32,k=!0,l=!0,m=!1,n=!1,o=a.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),p="classic";return c.dispatch=o,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},key:{get:function(){return g},set:function(a){g=a}},align:{get:function(){return i},set:function(a){i=a}},rightAlign:{get:function(){return k},set:function(a){k=a}},padding:{get:function(){return j},set:function(a){j=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return m},set:function(a){m=a}},expanded:{get:function(){return n},set:function(a){n=a}},vers:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},color:{get:function(){return h},set:function(a){h=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.line=function(){"use strict";function c(s){return w.reset(),w.models(f),s.each(function(c){j=a.select(this);var s=b.utils.availableWidth(h,j,g),t=b.utils.availableHeight(i,j,g);b.utils.initSVG(j),d=f.xScale(),e=f.yScale(),u=u||d,v=v||e;var x=j.selectAll("g.nv-wrap.nv-line").data([c]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),z=y.append("defs"),A=y.append("g"),B=x.select("g");A.append("g").attr("class","nv-groups"),A.append("g").attr("class","nv-scatterWrap"),x.attr("transform","translate("+g.left+","+g.top+")"),f.width(s).height(t);var C=x.select(".nv-scatterWrap");C.call(f),z.append("clipPath").attr("id","nv-edge-clip-"+f.id()).append("rect"),x.select("#nv-edge-clip-"+f.id()+" rect").attr("width",s).attr("height",t>0?t:0),B.attr("clip-path",q?"url(#nv-edge-clip-"+f.id()+")":""),C.attr("clip-path",q?"url(#nv-edge-clip-"+f.id()+")":"");var D=x.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});D.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(a){return a.strokeWidth||k}).style("fill-opacity",1e-6),D.exit().remove(),D.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return l(a,b)}).style("stroke",function(a,b){return l(a,b)}),D.watchTransition(w,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||.5});var E=D.selectAll("path.nv-area").data(function(a){return p(a)?[a]:[]});E.enter().append("path").attr("class","nv-area").attr("d",function(c){return a.svg.area().interpolate(r).defined(o).x(function(a,c){return b.utils.NaNtoZero(u(m(a,c)))}).y0(function(a,c){return b.utils.NaNtoZero(v(n(a,c)))}).y1(function(){return v(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[c.values])}),D.exit().selectAll("path.nv-area").remove(),E.watchTransition(w,"line: areaPaths").attr("d",function(c){return a.svg.area().interpolate(r).defined(o).x(function(a,c){return b.utils.NaNtoZero(d(m(a,c)))}).y0(function(a,c){return b.utils.NaNtoZero(e(n(a,c)))}).y1(function(){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[c.values])});var F=D.selectAll("path.nv-line").data(function(a){return[a.values]});F.enter().append("path").attr("class","nv-line").attr("d",a.svg.line().interpolate(r).defined(o).x(function(a,c){return b.utils.NaNtoZero(u(m(a,c)))}).y(function(a,c){return b.utils.NaNtoZero(v(n(a,c)))})),F.watchTransition(w,"line: linePaths").attr("d",a.svg.line().interpolate(r).defined(o).x(function(a,c){return b.utils.NaNtoZero(d(m(a,c)))}).y(function(a,c){return b.utils.NaNtoZero(e(n(a,c)))})),u=d.copy(),v=e.copy()}),w.renderEnd("line immediate"),c}var d,e,f=b.models.scatter(),g={top:0,right:0,bottom:0,left:0},h=960,i=500,j=null,k=1.5,l=b.utils.defaultColor(),m=function(a){return a.x},n=function(a){return a.y},o=function(a,b){return!isNaN(n(a,b))&&null!==n(a,b)},p=function(a){return a.area},q=!1,r="linear",s=250,t=a.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");f.pointSize(16).pointDomain([16,256]);var u,v,w=b.utils.renderWatch(t,s);return c.dispatch=t,c.scatter=f,f.dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),f.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),f.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},defined:{get:function(){return o},set:function(a){o=a}},interpolate:{get:function(){return r},set:function(a){r=a}},clipEdge:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return s},set:function(a){s=a,w.reset(s),f.duration(s)}},isArea:{get:function(){return p},set:function(b){p=a.functor(b)}},x:{get:function(){return m},set:function(a){m=a,f.x(a)}},y:{get:function(){return n},set:function(a){n=a,f.y(a)}},color:{get:function(){return l},set:function(a){l=b.utils.getColor(a),f.color(l)}}}),b.utils.inheritOptions(c,f),b.utils.initOptions(c),c},b.models.lineChart=function(){"use strict";function c(k){return z.reset(),z.models(f),q&&z.models(g),r&&z.models(h),k.each(function(k){var w=a.select(this),z=this;b.utils.initSVG(w);var C=b.utils.availableWidth(n,w,l),D=b.utils.availableHeight(o,w,l);if(c.update=function(){0===y?w.call(c):w.transition().duration(y).call(c)},c.container=this,u.setter(B(k),c.update).getter(A(k)).update(),u.disabled=k.map(function(a){return!!a.disabled}),!v){var E;v={};for(E in u)v[E]=u[E]instanceof Array?u[E].slice(0):u[E]}if(!(k&&k.length&&k.filter(function(a){return a.values.length
}).length))return b.utils.noData(c,w),c;w.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var F=w.selectAll("g.nv-wrap.nv-lineChart").data([k]),G=F.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),H=F.select("g");G.append("rect").style("opacity",0),G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-linesWrap"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-interactive"),H.select("rect").attr("width",C).attr("height",D>0?D:0),p&&(i.width(C),H.select(".nv-legendWrap").datum(k).call(i),l.top!=i.height()&&(l.top=i.height(),D=b.utils.availableHeight(o,w,l)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),F.attr("transform","translate("+l.left+","+l.top+")"),s&&H.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)"),t&&(j.width(C).height(D).margin({left:l.left,top:l.top}).svgContainer(w).xScale(d),F.select(".nv-interactive").call(j)),f.width(C).height(D).color(k.map(function(a,b){return a.color||m(a,b)}).filter(function(a,b){return!k[b].disabled}));var I=H.select(".nv-linesWrap").datum(k.filter(function(a){return!a.disabled}));I.call(f),q&&(g.scale(d)._ticks(b.utils.calcTicksX(C/100,k)).tickSize(-D,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),H.select(".nv-x.nv-axis").call(g)),r&&(h.scale(e)._ticks(b.utils.calcTicksY(D/36,k)).tickSize(-C,0),H.select(".nv-y.nv-axis").call(h)),i.dispatch.on("stateChange",function(a){for(var b in a)u[b]=a[b];x.stateChange(u),c.update()}),j.dispatch.on("elementMousemove",function(a){f.clearHighlights();var d,e,i,n=[];if(k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(g,h){e=b.interactiveBisect(g.values,a.pointXValue,c.x());var j=g.values[e],k=c.y()(j,e);null!=k&&f.highlightPoint(h,e,!0),void 0!==j&&(void 0===d&&(d=j),void 0===i&&(i=c.xScale()(c.x()(j,e))),n.push({key:g.key,value:k,color:m(g,g.seriesIndex)}))}),n.length>2){var o=c.yScale().invert(a.mouseY),p=Math.abs(c.yScale().domain()[0]-c.yScale().domain()[1]),q=.03*p,r=b.nearestValueIndex(n.map(function(a){return a.value}),o,q);null!==r&&(n[r].highlight=!0)}var s=g.tickFormat()(c.x()(d,e));j.tooltip.position({left:a.mouseX+l.left,top:a.mouseY+l.top}).chartContainer(z.parentNode).valueFormatter(function(a){return null==a?"N/A":h.tickFormat()(a)}).data({value:s,index:e,series:n})(),j.renderGuideLine(i)}),j.dispatch.on("elementClick",function(a){var d,e=[];k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(f){var g=b.interactiveBisect(f.values,a.pointXValue,c.x()),h=f.values[g];if("undefined"!=typeof h){"undefined"==typeof d&&(d=c.xScale()(c.x()(h,g)));var i=c.yScale()(c.y()(h,g));e.push({point:h,pointIndex:g,pos:[d,i],seriesIndex:f.seriesIndex,series:f})}}),f.dispatch.elementClick(e)}),j.dispatch.on("elementMouseout",function(){f.clearHighlights()}),x.on("changeState",function(a){"undefined"!=typeof a.disabled&&k.length===a.disabled.length&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),u.disabled=a.disabled),c.update()})}),z.renderEnd("lineChart immediate"),c}var d,e,f=b.models.line(),g=b.models.axis(),h=b.models.axis(),i=b.models.legend(),j=b.interactiveGuideline(),k=b.models.tooltip(),l={top:30,right:20,bottom:50,left:60},m=b.utils.defaultColor(),n=null,o=null,p=!0,q=!0,r=!0,s=!1,t=!1,u=b.utils.state(),v=null,w=null,x=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),y=250;g.orient("bottom").tickPadding(7),h.orient(s?"right":"left"),k.valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)});var z=b.utils.renderWatch(x,y),A=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},B=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return f.dispatch.on("elementMouseover.tooltip",function(a){k.data(a).position(a.pos).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){k.hidden(!0)}),c.dispatch=x,c.lines=f,c.legend=i,c.xAxis=g,c.yAxis=h,c.interactiveLayer=j,c.tooltip=k,c.dispatch=x,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return q},set:function(a){q=a}},showYAxis:{get:function(){return r},set:function(a){r=a}},defaultState:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return w},set:function(a){w=a}},tooltips:{get:function(){return k.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),k.enabled(!!a)}},tooltipContent:{get:function(){return k.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),k.contentGenerator(a)}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return y},set:function(a){y=a,z.reset(y),f.duration(y),g.duration(y),h.duration(y)}},color:{get:function(){return m},set:function(a){m=b.utils.getColor(a),i.color(m),f.color(m)}},rightAlignYAxis:{get:function(){return s},set:function(a){s=a,h.orient(s?"right":"left")}},useInteractiveGuideline:{get:function(){return t},set:function(a){t=a,t&&(f.interactive(!1),f.useVoronoi(!1))}}}),b.utils.inheritOptions(c,f),b.utils.initOptions(c),c},b.models.linePlusBarChart=function(){"use strict";function c(w){return w.each(function(w){function K(a){var b=+("e"==a),c=b?1:-1,d=Z/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function U(){v.empty()||v.extent(J),mb.data([v.empty()?f.domain():J]).each(function(b){var c=f(b[0])-f.range()[0],d=f.range()[1]-f(b[1]);a.select(this).select(".left").attr("width",0>c?0:c),a.select(this).select(".right").attr("x",f(b[1])).attr("width",0>d?0:d)})}function V(){J=v.empty()?null:v.extent(),d=v.empty()?f.domain():v.extent(),L.brush({extent:d,brush:v}),U(),m.width(X).height(Y).color(w.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!w[b].disabled&&w[b].bar})),k.width(X).height(Y).color(w.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!w[b].disabled&&!w[b].bar}));var a=fb.select(".nv-focus .nv-barsWrap").datum(_.length?_.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return m.x()(a,b)>=d[0]&&m.x()(a,b)<=d[1]})}}):[{values:[]}]),c=fb.select(".nv-focus .nv-linesWrap").datum(T(ab)?[{values:[]}]:ab.filter(function(a){return!a.disabled}).map(function(a){return{area:a.area,fillOpacity:a.fillOpacity,key:a.key,values:a.values.filter(function(a,b){return k.x()(a,b)>=d[0]&&k.x()(a,b)<=d[1]})}}));e=_.length?m.xScale():k.xScale(),o.scale(e)._ticks(b.utils.calcTicksX(X/100,w)).tickSize(-Y,0),o.domain([Math.ceil(d[0]),Math.floor(d[1])]),fb.select(".nv-x.nv-axis").transition().duration(M).call(o),a.transition().duration(M).call(m),c.transition().duration(M).call(k),fb.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),q.scale(g)._ticks(b.utils.calcTicksY(Y/36,w)).tickSize(-X,0),r.scale(h)._ticks(b.utils.calcTicksY(Y/36,w)).tickSize(_.length?0:-X,0),fb.select(".nv-focus .nv-y1.nv-axis").style("opacity",_.length?1:0),fb.select(".nv-focus .nv-y2.nv-axis").style("opacity",ab.length&&!T(ab)?1:0).attr("transform","translate("+e.range()[1]+",0)"),fb.select(".nv-focus .nv-y1.nv-axis").transition().duration(M).call(q),fb.select(".nv-focus .nv-y2.nv-axis").transition().duration(M).call(r)}var W=a.select(this);b.utils.initSVG(W);var X=b.utils.availableWidth(z,W,x),Y=b.utils.availableHeight(A,W,x)-(F?I:0),Z=I-y.top-y.bottom;if(c.update=function(){W.transition().duration(M).call(c)},c.container=this,N.setter(S(w),c.update).getter(R(w)).update(),N.disabled=w.map(function(a){return!!a.disabled}),!O){var $;O={};for($ in N)O[$]=N[$]instanceof Array?N[$].slice(0):N[$]}if(!(w&&w.length&&w.filter(function(a){return a.values.length}).length))return b.utils.noData(c,W),c;W.selectAll(".nv-noData").remove();var _=w.filter(function(a){return!a.disabled&&a.bar}),ab=w.filter(function(a){return!a.bar});e=m.xScale(),f=p.scale(),g=m.yScale(),h=k.yScale(),i=n.yScale(),j=l.yScale();var bb=w.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:B(a,b),y:C(a,b)}})}),cb=w.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:B(a,b),y:C(a,b)}})});e.range([0,X]),f.domain(a.extent(a.merge(bb.concat(cb)),function(a){return a.x})).range([0,X]);var db=W.selectAll("g.nv-wrap.nv-linePlusBar").data([w]),eb=db.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),fb=db.select("g");eb.append("g").attr("class","nv-legendWrap");var gb=eb.append("g").attr("class","nv-focus");gb.append("g").attr("class","nv-x nv-axis"),gb.append("g").attr("class","nv-y1 nv-axis"),gb.append("g").attr("class","nv-y2 nv-axis"),gb.append("g").attr("class","nv-barsWrap"),gb.append("g").attr("class","nv-linesWrap");var hb=eb.append("g").attr("class","nv-context");if(hb.append("g").attr("class","nv-x nv-axis"),hb.append("g").attr("class","nv-y1 nv-axis"),hb.append("g").attr("class","nv-y2 nv-axis"),hb.append("g").attr("class","nv-barsWrap"),hb.append("g").attr("class","nv-linesWrap"),hb.append("g").attr("class","nv-brushBackground"),hb.append("g").attr("class","nv-x nv-brush"),E){var ib=u.align()?X/2:X,jb=u.align()?ib:0;u.width(ib),fb.select(".nv-legendWrap").datum(w.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=a.originalKey+(a.bar?P:Q),a})).call(u),x.top!=u.height()&&(x.top=u.height(),Y=b.utils.availableHeight(A,W,x)-I),fb.select(".nv-legendWrap").attr("transform","translate("+jb+","+-x.top+")")}db.attr("transform","translate("+x.left+","+x.top+")"),fb.select(".nv-context").style("display",F?"initial":"none"),n.width(X).height(Z).color(w.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!w[b].disabled&&w[b].bar})),l.width(X).height(Z).color(w.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!w[b].disabled&&!w[b].bar}));var kb=fb.select(".nv-context .nv-barsWrap").datum(_.length?_:[{values:[]}]),lb=fb.select(".nv-context .nv-linesWrap").datum(T(ab)?[{values:[]}]:ab.filter(function(a){return!a.disabled}));fb.select(".nv-context").attr("transform","translate(0,"+(Y+x.bottom+y.top)+")"),kb.transition().call(n),lb.transition().call(l),H&&(p._ticks(b.utils.calcTicksX(X/100,w)).tickSize(-Z,0),fb.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),fb.select(".nv-context .nv-x.nv-axis").transition().call(p)),G&&(s.scale(i)._ticks(Z/36).tickSize(-X,0),t.scale(j)._ticks(Z/36).tickSize(_.length?0:-X,0),fb.select(".nv-context .nv-y3.nv-axis").style("opacity",_.length?1:0).attr("transform","translate(0,"+f.range()[0]+")"),fb.select(".nv-context .nv-y2.nv-axis").style("opacity",ab.length?1:0).attr("transform","translate("+f.range()[1]+",0)"),fb.select(".nv-context .nv-y1.nv-axis").transition().call(s),fb.select(".nv-context .nv-y2.nv-axis").transition().call(t)),v.x(f).on("brush",V),J&&v.extent(J);var mb=fb.select(".nv-brushBackground").selectAll("g").data([J||v.extent()]),nb=mb.enter().append("g");nb.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Z),nb.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Z);var ob=fb.select(".nv-x.nv-brush").call(v);ob.selectAll("rect").attr("height",Z),ob.selectAll(".resize").append("path").attr("d",K),u.dispatch.on("stateChange",function(a){for(var b in a)N[b]=a[b];L.stateChange(N),c.update()}),L.on("changeState",function(a){"undefined"!=typeof a.disabled&&(w.forEach(function(b,c){b.disabled=a.disabled[c]}),N.disabled=a.disabled),c.update()}),V()}),c}var d,e,f,g,h,i,j,k=b.models.line(),l=b.models.line(),m=b.models.historicalBar(),n=b.models.historicalBar(),o=b.models.axis(),p=b.models.axis(),q=b.models.axis(),r=b.models.axis(),s=b.models.axis(),t=b.models.axis(),u=b.models.legend(),v=a.svg.brush(),w=b.models.tooltip(),x={top:30,right:30,bottom:30,left:60},y={top:0,right:30,bottom:20,left:60},z=null,A=null,B=function(a){return a.x},C=function(a){return a.y},D=b.utils.defaultColor(),E=!0,F=!0,G=!1,H=!0,I=50,J=null,K=null,L=a.dispatch("brush","stateChange","changeState"),M=0,N=b.utils.state(),O=null,P=" (left axis)",Q=" (right axis)";k.clipEdge(!0),l.interactive(!1),l.pointActive(function(){return!1}),o.orient("bottom").tickPadding(5),q.orient("left"),r.orient("right"),p.orient("bottom").tickPadding(5),s.orient("left"),t.orient("right"),w.headerEnabled(!0).headerFormatter(function(a,b){return o.tickFormat()(a,b)});var R=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},S=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},T=function(a){return a.every(function(a){return a.disabled})};return k.dispatch.on("elementMouseover.tooltip",function(a){w.duration(100).valueFormatter(function(a,b){return r.tickFormat()(a,b)}).data(a).position(a.pos).hidden(!1)}),k.dispatch.on("elementMouseout.tooltip",function(){w.hidden(!0)}),m.dispatch.on("elementMouseover.tooltip",function(a){a.value=c.x()(a.data),a.series={value:c.y()(a.data),color:a.color},w.duration(0).valueFormatter(function(a,b){return q.tickFormat()(a,b)}).data(a).hidden(!1)}),m.dispatch.on("elementMouseout.tooltip",function(){w.hidden(!0)}),m.dispatch.on("elementMousemove.tooltip",function(){w.position({top:a.event.pageY,left:a.event.pageX})()}),c.dispatch=L,c.legend=u,c.lines=k,c.lines2=l,c.bars=m,c.bars2=n,c.xAxis=o,c.x2Axis=p,c.y1Axis=q,c.y2Axis=r,c.y3Axis=s,c.y4Axis=t,c.tooltip=w,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return z},set:function(a){z=a}},height:{get:function(){return A},set:function(a){A=a}},showLegend:{get:function(){return E},set:function(a){E=a}},brushExtent:{get:function(){return J},set:function(a){J=a}},noData:{get:function(){return K},set:function(a){K=a}},focusEnable:{get:function(){return F},set:function(a){F=a}},focusHeight:{get:function(){return I},set:function(a){I=a}},focusShowAxisX:{get:function(){return H},set:function(a){H=a}},focusShowAxisY:{get:function(){return G},set:function(a){G=a}},legendLeftAxisHint:{get:function(){return P},set:function(a){P=a}},legendRightAxisHint:{get:function(){return Q},set:function(a){Q=a}},tooltips:{get:function(){return w.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),w.enabled(!!a)}},tooltipContent:{get:function(){return w.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),w.contentGenerator(a)}},margin:{get:function(){return x},set:function(a){x.top=void 0!==a.top?a.top:x.top,x.right=void 0!==a.right?a.right:x.right,x.bottom=void 0!==a.bottom?a.bottom:x.bottom,x.left=void 0!==a.left?a.left:x.left}},focusMargin:{get:function(){return y},set:function(a){y.top=void 0!==a.top?a.top:y.top,y.right=void 0!==a.right?a.right:y.right,y.bottom=void 0!==a.bottom?a.bottom:y.bottom,y.left=void 0!==a.left?a.left:y.left}},duration:{get:function(){return M},set:function(a){M=a}},color:{get:function(){return D},set:function(a){D=b.utils.getColor(a),u.color(D)}},x:{get:function(){return B},set:function(a){B=a,k.x(a),l.x(a),m.x(a),n.x(a)}},y:{get:function(){return C},set:function(a){C=a,k.y(a),l.y(a),m.y(a),n.y(a)}}}),b.utils.inheritOptions(c,k),b.utils.initOptions(c),c},b.models.lineWithFocusChart=function(){"use strict";function c(p){return p.each(function(p){function A(a){var b=+("e"==a),c=b?1:-1,d=N/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function H(){o.empty()||o.extent(z),V.data([o.empty()?f.domain():z]).each(function(b){var c=f(b[0])-d.range()[0],e=L-f(b[1]);a.select(this).select(".left").attr("width",0>c?0:c),a.select(this).select(".right").attr("x",f(b[1])).attr("width",0>e?0:e)})}function I(){z=o.empty()?null:o.extent();var a=o.empty()?f.domain():o.extent();if(!(Math.abs(a[0]-a[1])<=1)){B.brush({extent:a,brush:o}),H();var b=R.select(".nv-focus .nv-linesWrap").datum(p.filter(function(a){return!a.disabled}).map(function(b){return{key:b.key,area:b.area,values:b.values.filter(function(b,c){return h.x()(b,c)>=a[0]&&h.x()(b,c)<=a[1]})}}));b.transition().duration(C).call(h),R.select(".nv-focus .nv-x.nv-axis").transition().duration(C).call(j),R.select(".nv-focus .nv-y.nv-axis").transition().duration(C).call(k)}}var J=a.select(this),K=this;b.utils.initSVG(J);var L=b.utils.availableWidth(u,J,r),M=b.utils.availableHeight(v,J,r)-w,N=w-s.top-s.bottom;if(c.update=function(){J.transition().duration(C).call(c)},c.container=this,D.setter(G(p),c.update).getter(F(p)).update(),D.disabled=p.map(function(a){return!!a.disabled}),!E){var O;E={};for(O in D)E[O]=D[O]instanceof Array?D[O].slice(0):D[O]}if(!(p&&p.length&&p.filter(function(a){return a.values.length}).length))return b.utils.noData(c,J),c;J.selectAll(".nv-noData").remove(),d=h.xScale(),e=h.yScale(),f=i.xScale(),g=i.yScale();var P=J.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([p]),Q=P.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),R=P.select("g");Q.append("g").attr("class","nv-legendWrap");var S=Q.append("g").attr("class","nv-focus");S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis"),S.append("g").attr("class","nv-linesWrap"),S.append("g").attr("class","nv-interactive");var T=Q.append("g").attr("class","nv-context");T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis"),T.append("g").attr("class","nv-linesWrap"),T.append("g").attr("class","nv-brushBackground"),T.append("g").attr("class","nv-x nv-brush"),y&&(n.width(L),R.select(".nv-legendWrap").datum(p).call(n),r.top!=n.height()&&(r.top=n.height(),M=b.utils.availableHeight(v,J,r)-w),R.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")),P.attr("transform","translate("+r.left+","+r.top+")"),x&&(q.width(L).height(M).margin({left:r.left,top:r.top}).svgContainer(J).xScale(d),P.select(".nv-interactive").call(q)),h.width(L).height(M).color(p.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!p[b].disabled})),i.defined(h.defined()).width(L).height(N).color(p.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!p[b].disabled})),R.select(".nv-context").attr("transform","translate(0,"+(M+r.bottom+s.top)+")");var U=R.select(".nv-context .nv-linesWrap").datum(p.filter(function(a){return!a.disabled}));a.transition(U).call(i),j.scale(d)._ticks(b.utils.calcTicksX(L/100,p)).tickSize(-M,0),k.scale(e)._ticks(b.utils.calcTicksY(M/36,p)).tickSize(-L,0),R.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+M+")"),o.x(f).on("brush",function(){I()}),z&&o.extent(z);var V=R.select(".nv-brushBackground").selectAll("g").data([z||o.extent()]),W=V.enter().append("g");W.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",N),W.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",N);var X=R.select(".nv-x.nv-brush").call(o);X.selectAll("rect").attr("height",N),X.selectAll(".resize").append("path").attr("d",A),I(),l.scale(f)._ticks(b.utils.calcTicksX(L/100,p)).tickSize(-N,0),R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),a.transition(R.select(".nv-context .nv-x.nv-axis")).call(l),m.scale(g)._ticks(b.utils.calcTicksY(N/36,p)).tickSize(-L,0),a.transition(R.select(".nv-context .nv-y.nv-axis")).call(m),R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),n.dispatch.on("stateChange",function(a){for(var b in a)D[b]=a[b];B.stateChange(D),c.update()}),q.dispatch.on("elementMousemove",function(a){h.clearHighlights();var d,e,g,i=[];if(p.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(j,k){var l=o.empty()?f.domain():o.extent(),m=j.values.filter(function(a,b){return h.x()(a,b)>=l[0]&&h.x()(a,b)<=l[1]});e=b.interactiveBisect(m,a.pointXValue,h.x());var n=m[e],p=c.y()(n,e);null!=p&&h.highlightPoint(k,e,!0),void 0!==n&&(void 0===d&&(d=n),void 0===g&&(g=c.xScale()(c.x()(n,e))),i.push({key:j.key,value:c.y()(n,e),color:t(j,j.seriesIndex)}))}),i.length>2){var l=c.yScale().invert(a.mouseY),m=Math.abs(c.yScale().domain()[0]-c.yScale().domain()[1]),n=.03*m,s=b.nearestValueIndex(i.map(function(a){return a.value}),l,n);null!==s&&(i[s].highlight=!0)}var u=j.tickFormat()(c.x()(d,e));q.tooltip.position({left:a.mouseX+r.left,top:a.mouseY+r.top}).chartContainer(K.parentNode).valueFormatter(function(a){return null==a?"N/A":k.tickFormat()(a)}).data({value:u,index:e,series:i})(),q.renderGuideLine(g)}),q.dispatch.on("elementMouseout",function(){h.clearHighlights()}),B.on("changeState",function(a){"undefined"!=typeof a.disabled&&p.forEach(function(b,c){b.disabled=a.disabled[c]}),c.update()})}),c}var d,e,f,g,h=b.models.line(),i=b.models.line(),j=b.models.axis(),k=b.models.axis(),l=b.models.axis(),m=b.models.axis(),n=b.models.legend(),o=a.svg.brush(),p=b.models.tooltip(),q=b.interactiveGuideline(),r={top:30,right:30,bottom:30,left:60},s={top:0,right:30,bottom:20,left:60},t=b.utils.defaultColor(),u=null,v=null,w=50,x=!1,y=!0,z=null,A=null,B=a.dispatch("brush","stateChange","changeState"),C=250,D=b.utils.state(),E=null;h.clipEdge(!0).duration(0),i.interactive(!1),i.pointActive(function(){return!1}),j.orient("bottom").tickPadding(5),k.orient("left"),l.orient("bottom").tickPadding(5),m.orient("left"),p.valueFormatter(function(a,b){return k.tickFormat()(a,b)}).headerFormatter(function(a,b){return j.tickFormat()(a,b)});var F=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},G=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return h.dispatch.on("elementMouseover.tooltip",function(a){p.data(a).position(a.pos).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(){p.hidden(!0)}),c.dispatch=B,c.legend=n,c.lines=h,c.lines2=i,c.xAxis=j,c.yAxis=k,c.x2Axis=l,c.y2Axis=m,c.interactiveLayer=q,c.tooltip=p,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return u},set:function(a){u=a}},height:{get:function(){return v},set:function(a){v=a}},focusHeight:{get:function(){return w},set:function(a){w=a}},showLegend:{get:function(){return y},set:function(a){y=a}},brushExtent:{get:function(){return z},set:function(a){z=a}},defaultState:{get:function(){return E},set:function(a){E=a}},noData:{get:function(){return A},set:function(a){A=a}},tooltips:{get:function(){return p.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),p.enabled(!!a)}},tooltipContent:{get:function(){return p.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),p.contentGenerator(a)}},margin:{get:function(){return r},set:function(a){r.top=void 0!==a.top?a.top:r.top,r.right=void 0!==a.right?a.right:r.right,r.bottom=void 0!==a.bottom?a.bottom:r.bottom,r.left=void 0!==a.left?a.left:r.left}},focusMargin:{get:function(){return s},set:function(a){s.top=void 0!==a.top?a.top:s.top,s.right=void 0!==a.right?a.right:s.right,s.bottom=void 0!==a.bottom?a.bottom:s.bottom,s.left=void 0!==a.left?a.left:s.left}},color:{get:function(){return t},set:function(a){t=b.utils.getColor(a),n.color(t)}},interpolate:{get:function(){return h.interpolate()},set:function(a){h.interpolate(a),i.interpolate(a)}},xTickFormat:{get:function(){return j.tickFormat()},set:function(a){j.tickFormat(a),l.tickFormat(a)}},yTickFormat:{get:function(){return k.tickFormat()},set:function(a){k.tickFormat(a),m.tickFormat(a)}},duration:{get:function(){return C},set:function(a){C=a,k.duration(C),m.duration(C),j.duration(C),l.duration(C)}},x:{get:function(){return h.x()},set:function(a){h.x(a),i.x(a)}},y:{get:function(){return h.y()},set:function(a){h.y(a),i.y(a)}},useInteractiveGuideline:{get:function(){return x},set:function(a){x=a,x&&(h.interactive(!1),h.useVoronoi(!1))}}}),b.utils.inheritOptions(c,h),b.utils.initOptions(c),c},b.models.multiBar=function(){"use strict";function c(H){return F.reset(),H.each(function(c){var H=l-k.left-k.right,I=m-k.top-k.bottom;q=a.select(this),b.utils.initSVG(q);var J=0;if(A&&c.length&&(A=[{values:c[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]),w){var K=a.layout.stack().offset(x).values(function(a){return a.values}).y(s)(!c.length&&A?A:c);K.forEach(function(a,b){a.nonStackable?(c[b].nonStackableSeries=J++,K[b]=c[b]):b>0&&K[b-1].nonStackable&&K[b].values.map(function(a,c){a.y0-=K[b-1].values[c].y,a.y1=a.y0+a.y})}),c=K}c.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),w&&c[0].values.map(function(a,b){var d=0,e=0;c.map(function(a,f){if(!c[f].nonStackable){var g=a.values[b];g.size=Math.abs(g.y),g.y<0?(g.y1=e,e-=g.size):(g.y1=g.size+d,d+=g.size)}})});var L=e&&f?[]:c.map(function(a,b){return a.values.map(function(a,c){return{x:r(a,c),y:s(a,c),y0:a.y0,y1:a.y1,idx:b,yErr:t(a,c)}})});n.domain(e||a.merge(L).map(function(a){return a.x})).rangeBands(g||[0,H],D),o.domain(f||a.extent(a.merge(a.merge(L).map(function(a){var b=a.y;w&&!c[a.idx].nonStackable&&(b=a.y>0?a.y1:a.y1+a.y);var d=a.yErr;return d?d.length?[b+d[0],b+d[1]]:(d=Math.abs(d),[b-d,b+d]):[b]})).concat(u))).range(h||[I,0]),n.domain()[0]===n.domain()[1]&&n.domain(n.domain()[0]?[n.domain()[0]-.01*n.domain()[0],n.domain()[1]+.01*n.domain()[1]]:[-1,1]),o.domain()[0]===o.domain()[1]&&o.domain(o.domain()[0]?[o.domain()[0]+.01*o.domain()[0],o.domain()[1]-.01*o.domain()[1]]:[-1,1]),i=i||n,j=j||o;var M=q.selectAll("g.nv-wrap.nv-multibar").data([c]),N=M.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),O=N.append("defs"),P=N.append("g"),Q=M.select("g");P.append("g").attr("class","nv-groups"),M.attr("transform","translate("+k.left+","+k.top+")"),O.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),M.select("#nv-edge-clip-"+p+" rect").attr("width",H).attr("height",I),Q.attr("clip-path",v?"url(#nv-edge-clip-"+p+")":"");var R=M.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});R.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var S=F.transition(R.exit().selectAll("g.nv-bar"),"multibarExit",Math.min(100,C)).attr("y",function(a){var b=j(0)||0;return w&&c[a.series]&&!c[a.series].nonStackable&&(b=j(a.y0)),b}).attr("height",0).remove();S.delay&&S.delay(function(a,b){var c=b*(C/(G+1))-b;return c}),R.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return y(a,b)}).style("stroke",function(a,b){return y(a,b)}),R.style("stroke-opacity",1).style("fill-opacity",.75);var T=R.selectAll("g.nv-bar").data(function(a){return A&&!c.length?A.values:a.values});T.exit().remove();var U=T.enter().append("g").attr("class",function(a,b){return s(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b,d){var e=w&&!c[d].nonStackable?0:d*n.rangeBand()/c.length,f=j(w&&!c[d].nonStackable?a.y0:0)||0;return"translate("+e+","+f+")"});U.append("rect").attr("height",0).attr("width",function(a,b,d){return n.rangeBand()/(w&&!c[d].nonStackable?1:c.length)}).style("fill",function(a,b,c){return y(a,c,b)}).style("stroke",function(a,b,c){return y(a,c,b)}),T.on("mouseover",function(b,c){a.select(this).classed("hover",!0),E.elementMouseover({data:b,index:c,color:a.select(this).style("fill")})}).on("mouseout",function(b,c){a.select(this).classed("hover",!1),E.elementMouseout({data:b,index:c,color:a.select(this).style("fill")})}).on("mousemove",function(b,c){E.elementMousemove({data:b,index:c,color:a.select(this).style("fill")})}).on("click",function(b,c){E.elementClick({data:b,index:c,color:a.select(this).style("fill")}),a.event.stopPropagation()}).on("dblclick",function(b,c){E.elementDblClick({data:b,index:c,color:a.select(this).style("fill")}),a.event.stopPropagation()}),t(c[0].values[0],0)&&(U.append("polyline"),T.select("polyline").attr("fill","none").attr("stroke",function(a,b,c){return z(a,c,b)}).attr("points",function(a,b){var d=t(a,b),e=.8*n.rangeBand()/(2*(w?1:c.length));d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return o(a)-o(0)});var f=[[-e,d[0]],[e,d[0]],[0,d[0]],[0,d[1]],[-e,d[1]],[e,d[1]]];return f.map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(a,b){var d=n.rangeBand()/(2*(w?1:c.length)),e=s(a,b)<0?o(s(a,b))-o(0):0;return"translate("+d+", "+e+")"})),T.attr("class",function(a,b){return s(a,b)<0?"nv-bar negative":"nv-bar positive"}),B&&(d||(d=c.map(function(){return!0})),T.select("rect").style("fill",function(b,c,e){return a.rgb(B(b,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()}).style("stroke",function(b,c,e){return a.rgb(B(b,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()}));var V=T.watchTransition(F,"multibar",Math.min(250,C)).delay(function(a,b){return b*C/c[0].values.length});w?V.attr("transform",function(a,b,d){var e=0;e=c[d].nonStackable?s(a,b)<0?o(0):o(0)-o(s(a,b))<-1?o(0)-1:o(s(a,b))||0:o(a.y1);var f=0;c[d].nonStackable&&(f=a.series*n.rangeBand()/c.length,c.length!==J&&(f=c[d].nonStackableSeries*n.rangeBand()/(2*J)));var g=f+n(r(a,b));return"translate("+g+","+e+")"}).select("rect").attr("height",function(a,b,d){return c[d].nonStackable?Math.max(Math.abs(o(s(a,b))-o(0)),1)||0:Math.max(Math.abs(o(a.y+a.y0)-o(a.y0)),1)}).attr("width",function(a,b,d){if(c[d].nonStackable){var e=n.rangeBand()/J;return c.length!==J&&(e=n.rangeBand()/(2*J)),e}return n.rangeBand()}):V.attr("transform",function(a,b){var d=a.series*n.rangeBand()/c.length+n(r(a,b)),e=s(a,b)<0?o(0):o(0)-o(s(a,b))<1?o(0)-1:o(s(a,b))||0;return"translate("+d+","+e+")"}).select("rect").attr("width",n.rangeBand()/c.length).attr("height",function(a,b){return Math.max(Math.abs(o(s(a,b))-o(0)),1)||0}),i=n.copy(),j=o.copy(),c[0]&&c[0].values&&(G=c[0].values.length)}),F.renderEnd("multibar immediate"),c}var d,e,f,g,h,i,j,k={top:0,right:0,bottom:0,left:0},l=960,m=500,n=a.scale.ordinal(),o=a.scale.linear(),p=Math.floor(1e4*Math.random()),q=null,r=function(a){return a.x},s=function(a){return a.y},t=function(a){return a.yErr},u=[0],v=!0,w=!1,x="zero",y=b.utils.defaultColor(),z=b.utils.defaultColor(),A=!1,B=null,C=500,D=.1,E=a.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=b.utils.renderWatch(E,C),G=0;return c.dispatch=E,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return r},set:function(a){r=a}},y:{get:function(){return s},set:function(a){s=a}},yErr:{get:function(){return t},set:function(a){t=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},xDomain:{get:function(){return e},set:function(a){e=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return g},set:function(a){g=a}},yRange:{get:function(){return h},set:function(a){h=a}},forceY:{get:function(){return u},set:function(a){u=a}},stacked:{get:function(){return w},set:function(a){w=a}},stackOffset:{get:function(){return x},set:function(a){x=a}},clipEdge:{get:function(){return v},set:function(a){v=a}},disabled:{get:function(){return d},set:function(a){d=a}},id:{get:function(){return p},set:function(a){p=a
}},hideable:{get:function(){return A},set:function(a){A=a}},groupSpacing:{get:function(){return D},set:function(a){D=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return C},set:function(a){C=a,F.reset(C)}},color:{get:function(){return y},set:function(a){y=b.utils.getColor(a)}},barColor:{get:function(){return B},set:function(a){B=a?b.utils.getColor(a):null}},errorBarColor:{get:function(){return z},set:function(a){z=a?b.utils.getColor(a):null}}}),b.utils.initOptions(c),c},b.models.multiBarChart=function(){"use strict";function c(k){return E.reset(),E.models(f),s&&E.models(g),t&&E.models(h),k.each(function(k){var A=a.select(this);b.utils.initSVG(A);var E=b.utils.availableWidth(m,A,l),I=b.utils.availableHeight(n,A,l);if(c.update=function(){0===D?A.call(c):A.transition().duration(D).call(c)},c.container=this,y.setter(H(k),c.update).getter(G(k)).update(),y.disabled=k.map(function(a){return!!a.disabled}),!z){var J;z={};for(J in y)z[J]=y[J]instanceof Array?y[J].slice(0):y[J]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return b.utils.noData(c,A),c;A.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var K=A.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([k]),L=K.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),M=K.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-controlsWrap"),r&&(i.width(E-C()),M.select(".nv-legendWrap").datum(k).call(i),l.top!=i.height()&&(l.top=i.height(),I=b.utils.availableHeight(n,A,l)),M.select(".nv-legendWrap").attr("transform","translate("+C()+","+-l.top+")")),p){var N=[{key:q.grouped||"Grouped",disabled:f.stacked()},{key:q.stacked||"Stacked",disabled:!f.stacked()}];j.width(C()).color(["#444","#444","#444"]),M.select(".nv-controlsWrap").datum(N).attr("transform","translate(0,"+-l.top+")").call(j)}K.attr("transform","translate("+l.left+","+l.top+")"),u&&M.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),f.disabled(k.map(function(a){return a.disabled})).width(E).height(I).color(k.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!k[b].disabled}));var O=M.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled}));if(O.call(f),s){g.scale(d)._ticks(b.utils.calcTicksX(E/100,k)).tickSize(-I,0),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),M.select(".nv-x.nv-axis").call(g);var P=M.select(".nv-x.nv-axis > g").selectAll("g");if(P.selectAll("line, text").style("opacity",1),w){var Q=function(a,b){return"translate("+a+","+b+")"},R=5,S=17;P.selectAll("text").attr("transform",function(a,b,c){return Q(0,c%2==0?R:S)});var T=a.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;M.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return Q(0,0===b||T%2!==0?S:R)})}v&&P.filter(function(a,b){return b%Math.ceil(k[0].values.length/(E/100))!==0}).selectAll("text, line").style("opacity",0),x&&P.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),M.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}t&&(h.scale(e)._ticks(b.utils.calcTicksY(I/36,k)).tickSize(-E,0),M.select(".nv-y.nv-axis").call(h)),i.dispatch.on("stateChange",function(a){for(var b in a)y[b]=a[b];B.stateChange(y),c.update()}),j.dispatch.on("legendClick",function(a){if(a.disabled){switch(N=N.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":case q.grouped:f.stacked(!1);break;case"Stacked":case q.stacked:f.stacked(!0)}y.stacked=f.stacked(),B.stateChange(y),c.update()}}),B.on("changeState",function(a){"undefined"!=typeof a.disabled&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),y.disabled=a.disabled),"undefined"!=typeof a.stacked&&(f.stacked(a.stacked),y.stacked=a.stacked,F=a.stacked),c.update()})}),E.renderEnd("multibarchart immediate"),c}var d,e,f=b.models.multiBar(),g=b.models.axis(),h=b.models.axis(),i=b.models.legend(),j=b.models.legend(),k=b.models.tooltip(),l={top:30,right:20,bottom:50,left:60},m=null,n=null,o=b.utils.defaultColor(),p=!0,q={},r=!0,s=!0,t=!0,u=!1,v=!0,w=!1,x=0,y=b.utils.state(),z=null,A=null,B=a.dispatch("stateChange","changeState","renderEnd"),C=function(){return p?180:0},D=250;y.stacked=!1,f.stacked(!1),g.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a}),h.orient(u?"right":"left").tickFormat(a.format(",.1f")),k.duration(0).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),j.updateState(!1);var E=b.utils.renderWatch(B),F=!1,G=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:F}}},H=function(a){return function(b){void 0!==b.stacked&&(F=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return f.dispatch.on("elementMouseover.tooltip",function(a){a.value=c.x()(a.data),a.series={key:a.data.key,value:c.y()(a.data),color:a.color},k.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){k.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){k.position({top:a.event.pageY,left:a.event.pageX})()}),c.dispatch=B,c.multibar=f,c.legend=i,c.controls=j,c.xAxis=g,c.yAxis=h,c.state=y,c.tooltip=k,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return z},set:function(a){z=a}},noData:{get:function(){return A},set:function(a){A=a}},reduceXTicks:{get:function(){return v},set:function(a){v=a}},rotateLabels:{get:function(){return x},set:function(a){x=a}},staggerLabels:{get:function(){return w},set:function(a){w=a}},tooltips:{get:function(){return k.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),k.enabled(!!a)}},tooltipContent:{get:function(){return k.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),k.contentGenerator(a)}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return D},set:function(a){D=a,f.duration(D),g.duration(D),h.duration(D),E.reset(D)}},color:{get:function(){return o},set:function(a){o=b.utils.getColor(a),i.color(o)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,h.orient(u?"right":"left")}},barColor:{get:function(){return f.barColor},set:function(b){f.barColor(b),i.color(function(b,c){return a.rgb("#ccc").darker(1.5*c).toString()})}}}),b.utils.inheritOptions(c,f),b.utils.initOptions(c),c},b.models.multiBarHorizontal=function(){"use strict";function c(n){return G.reset(),n.each(function(c){var n=l-k.left-k.right,E=m-k.top-k.bottom;o=a.select(this),b.utils.initSVG(o),y&&(c=a.layout.stack().offset("zero").values(function(a){return a.values}).y(s)(c)),c.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),y&&c[0].values.map(function(a,b){var d=0,e=0;c.map(function(a){var c=a.values[b];c.size=Math.abs(c.y),c.y<0?(c.y1=e-c.size,e-=c.size):(c.y1=d,d+=c.size)})});var H=e&&f?[]:c.map(function(a){return a.values.map(function(a,b){return{x:r(a,b),y:s(a,b),y0:a.y0,y1:a.y1,yErr:t(a,b)}})});p.domain(e||a.merge(H).map(function(a){return a.x})).rangeBands(g||[0,E],C),q.domain(f||a.extent(a.merge(a.merge(H).map(function(a){var b=a.y;y&&(b=a.y>0?a.y1+a.y:a.y1);var c=a.yErr;return c?c.length?[b+c[0],b+c[1]]:(c=Math.abs(c),[b-c,b+c]):[b]})).concat(u))),q.range(z&&!y?h||[q.domain()[0]<0?B:0,n-(q.domain()[1]>0?B:0)]:h||[0,n]),i=i||p,j=j||a.scale.linear().domain(q.domain()).range([q(0),q(0)]);{var I=a.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([c]),J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),K=(J.append("defs"),J.append("g"));I.select("g")}K.append("g").attr("class","nv-groups"),I.attr("transform","translate("+k.left+","+k.top+")");var L=I.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),L.exit().watchTransition(G,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),L.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return v(a,b)}).style("stroke",function(a,b){return v(a,b)}),L.watchTransition(G,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var M=L.selectAll("g.nv-bar").data(function(a){return a.values});M.exit().remove();var N=M.enter().append("g").attr("transform",function(a,b,d){return"translate("+j(y?a.y0:0)+","+(y?0:d*p.rangeBand()/c.length+p(r(a,b)))+")"});N.append("rect").attr("width",0).attr("height",p.rangeBand()/(y?1:c.length)),M.on("mouseover",function(b,c){a.select(this).classed("hover",!0),F.elementMouseover({data:b,index:c,color:a.select(this).style("fill")})}).on("mouseout",function(b,c){a.select(this).classed("hover",!1),F.elementMouseout({data:b,index:c,color:a.select(this).style("fill")})}).on("mouseout",function(b,c){F.elementMouseout({data:b,index:c,color:a.select(this).style("fill")})}).on("mousemove",function(b,c){F.elementMousemove({data:b,index:c,color:a.select(this).style("fill")})}).on("click",function(b,c){F.elementClick({data:b,index:c,color:a.select(this).style("fill")}),a.event.stopPropagation()}).on("dblclick",function(b,c){F.elementDblClick({data:b,index:c,color:a.select(this).style("fill")}),a.event.stopPropagation()}),t(c[0].values[0],0)&&(N.append("polyline"),M.select("polyline").attr("fill","none").attr("stroke",function(a,b,c){return x(a,c,b)}).attr("points",function(a,b){var d=t(a,b),e=.8*p.rangeBand()/(2*(y?1:c.length));d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return q(a)-q(0)});var f=[[d[0],-e],[d[0],e],[d[0],0],[d[1],0],[d[1],-e],[d[1],e]];return f.map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(a,b){var d=p.rangeBand()/(2*(y?1:c.length));return"translate("+(s(a,b)<0?0:q(s(a,b))-q(0))+", "+d+")"})),N.append("text"),z&&!y?(M.select("text").attr("text-anchor",function(a,b){return s(a,b)<0?"end":"start"}).attr("y",p.rangeBand()/(2*c.length)).attr("dy",".32em").text(function(a,b){var c=D(s(a,b)),d=t(a,b);return void 0===d?c:d.length?c+"+"+D(Math.abs(d[1]))+"-"+D(Math.abs(d[0])):c+""+D(Math.abs(d))}),M.watchTransition(G,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return s(a,b)<0?-4:q(s(a,b))-q(0)+4})):M.selectAll("text").text(""),A&&!y?(N.append("text").classed("nv-bar-label",!0),M.select("text.nv-bar-label").attr("text-anchor",function(a,b){return s(a,b)<0?"start":"end"}).attr("y",p.rangeBand()/(2*c.length)).attr("dy",".32em").text(function(a,b){return r(a,b)}),M.watchTransition(G,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return s(a,b)<0?q(0)-q(s(a,b))+4:-4})):M.selectAll("text.nv-bar-label").text(""),M.attr("class",function(a,b){return s(a,b)<0?"nv-bar negative":"nv-bar positive"}),w&&(d||(d=c.map(function(){return!0})),M.style("fill",function(b,c,e){return a.rgb(w(b,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()}).style("stroke",function(b,c,e){return a.rgb(w(b,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()})),y?M.watchTransition(G,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+q(a.y1)+","+p(r(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(q(s(a,b)+a.y0)-q(a.y0))}).attr("height",p.rangeBand()):M.watchTransition(G,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+q(s(a,b)<0?s(a,b):0)+","+(a.series*p.rangeBand()/c.length+p(r(a,b)))+")"}).select("rect").attr("height",p.rangeBand()/c.length).attr("width",function(a,b){return Math.max(Math.abs(q(s(a,b))-q(0)),1)}),i=p.copy(),j=q.copy()}),G.renderEnd("multibarHorizontal immediate"),c}var d,e,f,g,h,i,j,k={top:0,right:0,bottom:0,left:0},l=960,m=500,n=Math.floor(1e4*Math.random()),o=null,p=a.scale.ordinal(),q=a.scale.linear(),r=function(a){return a.x},s=function(a){return a.y},t=function(a){return a.yErr},u=[0],v=b.utils.defaultColor(),w=null,x=b.utils.defaultColor(),y=!1,z=!1,A=!1,B=60,C=.1,D=a.format(",.2f"),E=250,F=a.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),G=b.utils.renderWatch(F,E);return c.dispatch=F,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return r},set:function(a){r=a}},y:{get:function(){return s},set:function(a){s=a}},yErr:{get:function(){return t},set:function(a){t=a}},xScale:{get:function(){return p},set:function(a){p=a}},yScale:{get:function(){return q},set:function(a){q=a}},xDomain:{get:function(){return e},set:function(a){e=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return g},set:function(a){g=a}},yRange:{get:function(){return h},set:function(a){h=a}},forceY:{get:function(){return u},set:function(a){u=a}},stacked:{get:function(){return y},set:function(a){y=a}},showValues:{get:function(){return z},set:function(a){z=a}},disabled:{get:function(){return d},set:function(a){d=a}},id:{get:function(){return n},set:function(a){n=a}},valueFormat:{get:function(){return D},set:function(a){D=a}},valuePadding:{get:function(){return B},set:function(a){B=a}},groupSpacing:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return E},set:function(a){E=a,G.reset(E)}},color:{get:function(){return v},set:function(a){v=b.utils.getColor(a)}},barColor:{get:function(){return w},set:function(a){w=a?b.utils.getColor(a):null}},errorBarColor:{get:function(){return x},set:function(a){x=a?b.utils.getColor(a):null}}}),b.utils.initOptions(c),c},b.models.multiBarHorizontalChart=function(){"use strict";function c(k){return D.reset(),D.models(f),s&&D.models(g),t&&D.models(h),k.each(function(k){var x=a.select(this);b.utils.initSVG(x);var D=b.utils.availableWidth(m,x,l),E=b.utils.availableHeight(n,x,l);if(c.update=function(){x.transition().duration(A).call(c)},c.container=this,u=f.stacked(),v.setter(C(k),c.update).getter(B(k)).update(),v.disabled=k.map(function(a){return!!a.disabled}),!w){var F;w={};for(F in v)w[F]=v[F]instanceof Array?v[F].slice(0):v[F]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return b.utils.noData(c,x),c;x.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var G=x.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([k]),H=G.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),I=G.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),r&&(i.width(D-z()),I.select(".nv-legendWrap").datum(k).call(i),l.top!=i.height()&&(l.top=i.height(),E=b.utils.availableHeight(n,x,l)),I.select(".nv-legendWrap").attr("transform","translate("+z()+","+-l.top+")")),p){var J=[{key:q.grouped||"Grouped",disabled:f.stacked()},{key:q.stacked||"Stacked",disabled:!f.stacked()}];j.width(z()).color(["#444","#444","#444"]),I.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-l.top+")").call(j)}G.attr("transform","translate("+l.left+","+l.top+")"),f.disabled(k.map(function(a){return a.disabled})).width(D).height(E).color(k.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!k[b].disabled}));var K=I.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled}));if(K.transition().call(f),s){g.scale(d)._ticks(b.utils.calcTicksY(E/24,k)).tickSize(-D,0),I.select(".nv-x.nv-axis").call(g);var L=I.select(".nv-x.nv-axis").selectAll("g");L.selectAll("line, text")}t&&(h.scale(e)._ticks(b.utils.calcTicksX(D/100,k)).tickSize(-E,0),I.select(".nv-y.nv-axis").attr("transform","translate(0,"+E+")"),I.select(".nv-y.nv-axis").call(h)),I.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-E),i.dispatch.on("stateChange",function(a){for(var b in a)v[b]=a[b];y.stateChange(v),c.update()}),j.dispatch.on("legendClick",function(a){if(a.disabled){switch(J=J.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":f.stacked(!1);break;case"Stacked":f.stacked(!0)}v.stacked=f.stacked(),y.stateChange(v),u=f.stacked(),c.update()}}),y.on("changeState",function(a){"undefined"!=typeof a.disabled&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),v.disabled=a.disabled),"undefined"!=typeof a.stacked&&(f.stacked(a.stacked),v.stacked=a.stacked,u=a.stacked),c.update()})}),D.renderEnd("multibar horizontal chart immediate"),c}var d,e,f=b.models.multiBarHorizontal(),g=b.models.axis(),h=b.models.axis(),i=b.models.legend().height(30),j=b.models.legend().height(30),k=b.models.tooltip(),l={top:30,right:20,bottom:50,left:60},m=null,n=null,o=b.utils.defaultColor(),p=!0,q={},r=!0,s=!0,t=!0,u=!1,v=b.utils.state(),w=null,x=null,y=a.dispatch("stateChange","changeState","renderEnd"),z=function(){return p?180:0},A=250;v.stacked=!1,f.stacked(u),g.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a}),h.orient("bottom").tickFormat(a.format(",.1f")),k.duration(0).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),j.updateState(!1);var B=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:u}}},C=function(a){return function(b){void 0!==b.stacked&&(u=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},D=b.utils.renderWatch(y,A);return f.dispatch.on("elementMouseover.tooltip",function(a){a.value=c.x()(a.data),a.series={key:a.data.key,value:c.y()(a.data),color:a.color},k.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){k.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){k.position({top:a.event.pageY,left:a.event.pageX})()}),c.dispatch=y,c.multibar=f,c.legend=i,c.controls=j,c.xAxis=g,c.yAxis=h,c.state=v,c.tooltip=k,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return x},set:function(a){x=a}},tooltips:{get:function(){return k.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),k.enabled(!!a)}},tooltipContent:{get:function(){return k.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),k.contentGenerator(a)}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return A},set:function(a){A=a,D.reset(A),f.duration(A),g.duration(A),h.duration(A)}},color:{get:function(){return o},set:function(a){o=b.utils.getColor(a),i.color(o)}},barColor:{get:function(){return f.barColor},set:function(b){f.barColor(b),i.color(function(b,c){return a.rgb("#ccc").darker(1.5*c).toString()})}}}),b.utils.inheritOptions(c,f),b.utils.initOptions(c),c},b.models.multiChart=function(){"use strict";function c(k){return k.each(function(k){function l(a){var b=2===k[a.seriesIndex].yAxis?C:B;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color},E.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(!1)}function m(a){var b=2===k[a.seriesIndex].yAxis?C:B;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color},E.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(!1)}function o(a){var b=2===k[a.seriesIndex].yAxis?C:B;a.point.x=y.x()(a.point),a.point.y=y.y()(a.point),E.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(!1)}function F(a){var b=2===k[a.data.series].yAxis?C:B;a.value=w.x()(a.data),a.series={value:w.y()(a.data),color:a.color},E.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}var G=a.select(this);b.utils.initSVG(G),c.update=function(){G.transition().call(c)},c.container=this;var H=b.utils.availableWidth(h,G,f),I=b.utils.availableHeight(i,G,f),J=k.filter(function(a){return"line"==a.type&&1==a.yAxis}),K=k.filter(function(a){return"line"==a.type&&2==a.yAxis}),L=k.filter(function(a){return"scatter"==a.type&&1==a.yAxis}),M=k.filter(function(a){return"scatter"==a.type&&2==a.yAxis}),N=k.filter(function(a){return"bar"==a.type&&1==a.yAxis}),O=k.filter(function(a){return"bar"==a.type&&2==a.yAxis}),P=k.filter(function(a){return"area"==a.type&&1==a.yAxis}),Q=k.filter(function(a){return"area"==a.type&&2==a.yAxis});if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return b.utils.noData(c,G),c;G.selectAll(".nv-noData").remove();var R=k.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})}),S=k.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})});p.domain(a.extent(a.merge(R.concat(S)),function(a){return a.x})).range([0,H]);var T=G.selectAll("g.wrap.multiChart").data([k]),U=T.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y1 nv-axis"),U.append("g").attr("class","nv-y2 nv-axis"),U.append("g").attr("class","lines1Wrap"),U.append("g").attr("class","lines2Wrap"),U.append("g").attr("class","scatters1Wrap"),U.append("g").attr("class","scatters2Wrap"),U.append("g").attr("class","bars1Wrap"),U.append("g").attr("class","bars2Wrap"),U.append("g").attr("class","stack1Wrap"),U.append("g").attr("class","stack2Wrap"),U.append("g").attr("class","legendWrap");var V=T.select("g"),W=k.map(function(a,b){return k[b].color||g(a,b)});if(j){var X=D.align()?H/2:H,Y=D.align()?X:0;D.width(X),D.color(W),V.select(".legendWrap").datum(k.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=a.originalKey+(1==a.yAxis?"":" (right axis)"),a})).call(D),f.top!=D.height()&&(f.top=D.height(),I=b.utils.availableHeight(i,G,f)),V.select(".legendWrap").attr("transform","translate("+Y+","+-f.top+")")}s.width(H).height(I).interpolate(n).color(W.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"line"==k[b].type})),t.width(H).height(I).interpolate(n).color(W.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"line"==k[b].type})),u.width(H).height(I).color(W.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"scatter"==k[b].type})),v.width(H).height(I).color(W.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"scatter"==k[b].type})),w.width(H).height(I).color(W.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"bar"==k[b].type})),x.width(H).height(I).color(W.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"bar"==k[b].type})),y.width(H).height(I).color(W.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"area"==k[b].type})),z.width(H).height(I).color(W.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"area"==k[b].type})),V.attr("transform","translate("+f.left+","+f.top+")");var Z=V.select(".lines1Wrap").datum(J.filter(function(a){return!a.disabled})),$=V.select(".scatters1Wrap").datum(L.filter(function(a){return!a.disabled})),_=V.select(".bars1Wrap").datum(N.filter(function(a){return!a.disabled})),ab=V.select(".stack1Wrap").datum(P.filter(function(a){return!a.disabled})),bb=V.select(".lines2Wrap").datum(K.filter(function(a){return!a.disabled})),cb=V.select(".scatters2Wrap").datum(M.filter(function(a){return!a.disabled})),db=V.select(".bars2Wrap").datum(O.filter(function(a){return!a.disabled})),eb=V.select(".stack2Wrap").datum(Q.filter(function(a){return!a.disabled})),fb=P.length?P.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],gb=Q.length?Q.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];q.domain(d||a.extent(a.merge(R).concat(fb),function(a){return a.y})).range([0,I]),r.domain(e||a.extent(a.merge(S).concat(gb),function(a){return a.y})).range([0,I]),s.yDomain(q.domain()),u.yDomain(q.domain()),w.yDomain(q.domain()),y.yDomain(q.domain()),t.yDomain(r.domain()),v.yDomain(r.domain()),x.yDomain(r.domain()),z.yDomain(r.domain()),P.length&&a.transition(ab).call(y),Q.length&&a.transition(eb).call(z),N.length&&a.transition(_).call(w),O.length&&a.transition(db).call(x),J.length&&a.transition(Z).call(s),K.length&&a.transition(bb).call(t),L.length&&a.transition($).call(u),M.length&&a.transition(cb).call(v),A._ticks(b.utils.calcTicksX(H/100,k)).tickSize(-I,0),V.select(".nv-x.nv-axis").attr("transform","translate(0,"+I+")"),a.transition(V.select(".nv-x.nv-axis")).call(A),B._ticks(b.utils.calcTicksY(I/36,k)).tickSize(-H,0),a.transition(V.select(".nv-y1.nv-axis")).call(B),C._ticks(b.utils.calcTicksY(I/36,k)).tickSize(-H,0),a.transition(V.select(".nv-y2.nv-axis")).call(C),V.select(".nv-y1.nv-axis").classed("nv-disabled",R.length?!1:!0).attr("transform","translate("+p.range()[0]+",0)"),V.select(".nv-y2.nv-axis").classed("nv-disabled",S.length?!1:!0).attr("transform","translate("+p.range()[1]+",0)"),D.dispatch.on("stateChange",function(){c.update()}),s.dispatch.on("elementMouseover.tooltip",l),t.dispatch.on("elementMouseover.tooltip",l),s.dispatch.on("elementMouseout.tooltip",function(){E.hidden(!0)}),t.dispatch.on("elementMouseout.tooltip",function(){E.hidden(!0)}),u.dispatch.on("elementMouseover.tooltip",m),v.dispatch.on("elementMouseover.tooltip",m),u.dispatch.on("elementMouseout.tooltip",function(){E.hidden(!0)}),v.dispatch.on("elementMouseout.tooltip",function(){E.hidden(!0)}),y.dispatch.on("elementMouseover.tooltip",o),z.dispatch.on("elementMouseover.tooltip",o),y.dispatch.on("elementMouseout.tooltip",function(){E.hidden(!0)}),z.dispatch.on("elementMouseout.tooltip",function(){E.hidden(!0)}),w.dispatch.on("elementMouseover.tooltip",F),x.dispatch.on("elementMouseover.tooltip",F),w.dispatch.on("elementMouseout.tooltip",function(){E.hidden(!0)}),x.dispatch.on("elementMouseout.tooltip",function(){E.hidden(!0)}),w.dispatch.on("elementMousemove.tooltip",function(){E.position({top:a.event.pageY,left:a.event.pageX})()}),x.dispatch.on("elementMousemove.tooltip",function(){E.position({top:a.event.pageY,left:a.event.pageX})()})}),c}var d,e,f={top:30,right:20,bottom:50,left:60},g=b.utils.defaultColor(),h=null,i=null,j=!0,k=null,l=function(a){return a.x},m=function(a){return a.y},n="monotone",o=!0,p=a.scale.linear(),q=a.scale.linear(),r=a.scale.linear(),s=b.models.line().yScale(q),t=b.models.line().yScale(r),u=b.models.scatter().yScale(q),v=b.models.scatter().yScale(r),w=b.models.multiBar().stacked(!1).yScale(q),x=b.models.multiBar().stacked(!1).yScale(r),y=b.models.stackedArea().yScale(q),z=b.models.stackedArea().yScale(r),A=b.models.axis().scale(p).orient("bottom").tickPadding(5),B=b.models.axis().scale(q).orient("left"),C=b.models.axis().scale(r).orient("right"),D=b.models.legend().height(30),E=b.models.tooltip(),F=a.dispatch();return c.dispatch=F,c.legend=D,c.lines1=s,c.lines2=t,c.scatters1=u,c.scatters2=v,c.bars1=w,c.bars2=x,c.stack1=y,c.stack2=z,c.xAxis=A,c.yAxis1=B,c.yAxis2=C,c.tooltip=E,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},showLegend:{get:function(){return j},set:function(a){j=a}},yDomain1:{get:function(){return d},set:function(a){d=a}},yDomain2:{get:function(){return e},set:function(a){e=a}},noData:{get:function(){return k},set:function(a){k=a}},interpolate:{get:function(){return n},set:function(a){n=a}},tooltips:{get:function(){return E.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),E.enabled(!!a)}},tooltipContent:{get:function(){return E.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),E.contentGenerator(a)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return g},set:function(a){g=b.utils.getColor(a)}},x:{get:function(){return l},set:function(a){l=a,s.x(a),t.x(a),u.x(a),v.x(a),w.x(a),x.x(a),y.x(a),z.x(a)}},y:{get:function(){return m},set:function(a){m=a,s.y(a),t.y(a),u.y(a),v.y(a),y.y(a),z.y(a),w.y(a),x.y(a)}},useVoronoi:{get:function(){return o},set:function(a){o=a,s.useVoronoi(a),t.useVoronoi(a),y.useVoronoi(a),z.useVoronoi(a)}}}),b.utils.initOptions(c),c},b.models.ohlcBar=function(){"use strict";function c(z){return z.each(function(c){l=a.select(this);var z=b.utils.availableWidth(i,l,h),B=b.utils.availableHeight(j,l,h);b.utils.initSVG(l);var C=z/c[0].values.length*.9;m.domain(d||a.extent(c[0].values.map(o).concat(u))),m.range(w?f||[.5*z/c[0].values.length,z*(c[0].values.length-.5)/c[0].values.length]:f||[5+C/2,z-C/2-5]),n.domain(e||[a.min(c[0].values.map(t).concat(v)),a.max(c[0].values.map(s).concat(v))]).range(g||[B,0]),m.domain()[0]===m.domain()[1]&&m.domain(m.domain()[0]?[m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]:[-1,1]),n.domain()[0]===n.domain()[1]&&n.domain(n.domain()[0]?[n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]:[-1,1]);var D=a.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([c[0].values]),E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),F=E.append("defs"),G=E.append("g"),H=D.select("g");G.append("g").attr("class","nv-ticks"),D.attr("transform","translate("+h.left+","+h.top+")"),l.on("click",function(b,c){A.chartClick({data:b,index:c,pos:a.event,id:k})}),F.append("clipPath").attr("id","nv-chart-clip-path-"+k).append("rect"),D.select("#nv-chart-clip-path-"+k+" rect").attr("width",z).attr("height",B),H.attr("clip-path",x?"url(#nv-chart-clip-path-"+k+")":"");var I=D.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});I.exit().remove(),I.enter().append("path").attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b
}).attr("d",function(a,b){return"m0,0l0,"+(n(q(a,b))-n(s(a,b)))+"l"+-C/2+",0l"+C/2+",0l0,"+(n(t(a,b))-n(q(a,b)))+"l0,"+(n(r(a,b))-n(t(a,b)))+"l"+C/2+",0l"+-C/2+",0z"}).attr("transform",function(a,b){return"translate("+m(o(a,b))+","+n(s(a,b))+")"}).attr("fill",function(){return y[0]}).attr("stroke",function(){return y[0]}).attr("x",0).attr("y",function(a,b){return n(Math.max(0,p(a,b)))}).attr("height",function(a,b){return Math.abs(n(p(a,b))-n(0))}),I.attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}),a.transition(I).attr("transform",function(a,b){return"translate("+m(o(a,b))+","+n(s(a,b))+")"}).attr("d",function(a,b){var d=z/c[0].values.length*.9;return"m0,0l0,"+(n(q(a,b))-n(s(a,b)))+"l"+-d/2+",0l"+d/2+",0l0,"+(n(t(a,b))-n(q(a,b)))+"l0,"+(n(r(a,b))-n(t(a,b)))+"l"+d/2+",0l"+-d/2+",0z"})}),c}var d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=Math.floor(1e4*Math.random()),l=null,m=a.scale.linear(),n=a.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=function(a){return a.open},r=function(a){return a.close},s=function(a){return a.high},t=function(a){return a.low},u=[],v=[],w=!1,x=!0,y=b.utils.defaultColor(),z=!1,A=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return c.highlightPoint=function(a,b){c.clearHighlights(),l.select(".nv-ohlcBar .nv-tick-0-"+a).classed("hover",b)},c.clearHighlights=function(){l.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},c.dispatch=A,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return u},set:function(a){u=a}},forceY:{get:function(){return v},set:function(a){v=a}},padData:{get:function(){return w},set:function(a){w=a}},clipEdge:{get:function(){return x},set:function(a){x=a}},id:{get:function(){return k},set:function(a){k=a}},interactive:{get:function(){return z},set:function(a){z=a}},x:{get:function(){return o},set:function(a){o=a}},y:{get:function(){return p},set:function(a){p=a}},open:{get:function(){return q()},set:function(a){q=a}},close:{get:function(){return r()},set:function(a){r=a}},high:{get:function(){return s},set:function(a){s=a}},low:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!=a.top?a.top:h.top,h.right=void 0!=a.right?a.right:h.right,h.bottom=void 0!=a.bottom?a.bottom:h.bottom,h.left=void 0!=a.left?a.left:h.left}},color:{get:function(){return y},set:function(a){y=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.parallelCoordinates=function(){"use strict";function c(q){return q.each(function(c){function q(b){return G(i.map(function(c){if(isNaN(b[c])||isNaN(parseFloat(b[c]))){var d=h[c].domain(),e=h[c].range(),f=d[0]-(d[1]-d[0])/9;if(K.indexOf(c)<0){var i=a.scale.linear().domain([f,d[1]]).range([y-12,e[1]]);h[c].brush.y(i),K.push(c)}return[g(c),h[c](f)]}return K.length>0?(E.style("display","inline"),F.style("display","inline")):(E.style("display","none"),F.style("display","none")),[g(c),h[c](b[c])]}))}function r(){var a=i.filter(function(a){return!h[a].brush.empty()}),b=a.map(function(a){return h[a].brush.extent()});l=[],a.forEach(function(a,c){l[c]={dimension:a,extent:b[c]}}),m=[],N.style("display",function(c){var d=a.every(function(a,d){return isNaN(c[a])&&b[d][0]==h[a].brush.y().domain()[0]?!0:b[d][0]<=c[a]&&c[a]<=b[d][1]});return d&&m.push(c),d?null:"none"}),p.brush({filters:l,active:m})}function s(a){n[a]=this.parentNode.__origin__=g(a),M.attr("visibility","hidden")}function t(b){n[b]=Math.min(x,Math.max(0,this.parentNode.__origin__+=a.event.x)),N.attr("d",q),i.sort(function(a,b){return v(a)-v(b)}),g.domain(i),O.attr("transform",function(a){return"translate("+v(a)+")"})}function u(b){delete this.parentNode.__origin__,delete n[b],a.select(this.parentNode).attr("transform","translate("+g(b)+")"),N.attr("d",q),M.attr("d",q).attr("visibility",null)}function v(a){var b=n[a];return null==b?g(a):b}var w=a.select(this),x=b.utils.availableWidth(e,w,d),y=b.utils.availableHeight(f,w,d);b.utils.initSVG(w),m=c,g.rangePoints([0,x],1).domain(i);var z={};i.forEach(function(b){var d=a.extent(c,function(a){return+a[b]});return z[b]=!1,void 0===d[0]&&(z[b]=!0,d[0]=0,d[1]=0),d[0]===d[1]&&(d[0]=d[0]-1,d[1]=d[1]+1),h[b]=a.scale.linear().domain(d).range([.9*(y-12),0]),h[b].brush=a.svg.brush().y(h[b]).on("brush",r),"name"!=b});var A=w.selectAll("g.nv-wrap.nv-parallelCoordinates").data([c]),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),C=B.append("g"),D=A.select("g");C.append("g").attr("class","nv-parallelCoordinates background"),C.append("g").attr("class","nv-parallelCoordinates foreground"),C.append("g").attr("class","nv-parallelCoordinates missingValuesline"),A.attr("transform","translate("+d.left+","+d.top+")");var E,F,G=a.svg.line().interpolate("cardinal").tension(o),H=a.svg.axis().orient("left"),I=a.behavior.drag().on("dragstart",s).on("drag",t).on("dragend",u),J=g.range()[1]-g.range()[0],K=[],L=[0+J/2,y-12,x-J/2,y-12];E=A.select(".missingValuesline").selectAll("line").data([L]),E.enter().append("line"),E.exit().remove(),E.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]}),F=A.select(".missingValuesline").selectAll("text").data(["undefined values"]),F.append("text").data(["undefined values"]),F.enter().append("text"),F.exit().remove(),F.attr("y",y).attr("x",x-92-J/2).text(function(a){return a});var M=A.select(".background").selectAll("path").data(c);M.enter().append("path"),M.exit().remove(),M.attr("d",q);var N=A.select(".foreground").selectAll("path").data(c);N.enter().append("path"),N.exit().remove(),N.attr("d",q).attr("stroke",k),N.on("mouseover",function(b,c){a.select(this).classed("hover",!0),p.elementMouseover({label:b.name,data:b.data,index:c,pos:[a.mouse(this.parentNode)[0],a.mouse(this.parentNode)[1]]})}),N.on("mouseout",function(b,c){a.select(this).classed("hover",!1),p.elementMouseout({label:b.name,data:b.data,index:c})});var O=D.selectAll(".dimension").data(i),P=O.enter().append("g").attr("class","nv-parallelCoordinates dimension");P.append("g").attr("class","nv-parallelCoordinates nv-axis"),P.append("g").attr("class","nv-parallelCoordinates-brush"),P.append("text").attr("class","nv-parallelCoordinates nv-label"),O.attr("transform",function(a){return"translate("+g(a)+",0)"}),O.exit().remove(),O.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(b){p.elementMouseover({dim:b,pos:[a.mouse(this.parentNode.parentNode)[0],a.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(a){p.elementMouseout({dim:a})}).call(I),O.select(".nv-axis").each(function(b,c){a.select(this).call(H.scale(h[b]).tickFormat(a.format(j[c])))}),O.select(".nv-parallelCoordinates-brush").each(function(b){a.select(this).call(h[b].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),c}var d={top:30,right:0,bottom:10,left:0},e=null,f=null,g=a.scale.ordinal(),h={},i=[],j=[],k=b.utils.defaultColor(),l=[],m=[],n=[],o=1,p=a.dispatch("brush","elementMouseover","elementMouseout");return c.dispatch=p,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},dimensionNames:{get:function(){return i},set:function(a){i=a}},dimensionFormats:{get:function(){return j},set:function(a){j=a}},lineTension:{get:function(){return o},set:function(a){o=a}},dimensions:{get:function(){return i},set:function(a){b.deprecated("dimensions","use dimensionNames instead"),i=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},color:{get:function(){return k},set:function(a){k=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.pie=function(){"use strict";function c(F){return E.reset(),F.each(function(c){function F(b,c){b.endAngle=isNaN(b.endAngle)?0:b.endAngle,b.startAngle=isNaN(b.startAngle)?0:b.startAngle,q||(b.innerRadius=0);var d=a.interpolate(this._current,b);return this._current=d(0),function(a){return C[c](d(a))}}var G=e-d.left-d.right,H=f-d.top-d.bottom,I=Math.min(G,H)/2,J=[],K=[];if(j=a.select(this),0===A.length)for(var L=I-I/5,M=z*I,N=0;N<c[0].length;N++)J.push(L),K.push(M);else J=A.map(function(a){return(a.outer-a.outer/5)*I}),K=A.map(function(a){return(a.inner-a.inner/5)*I}),z=a.min(A.map(function(a){return a.inner-a.inner/5}));b.utils.initSVG(j);var O=j.selectAll(".nv-wrap.nv-pie").data(c),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+i),Q=P.append("g"),R=O.select("g"),S=Q.append("g").attr("class","nv-pie");Q.append("g").attr("class","nv-pieLabels"),O.attr("transform","translate("+d.left+","+d.top+")"),R.select(".nv-pie").attr("transform","translate("+G/2+","+H/2+")"),R.select(".nv-pieLabels").attr("transform","translate("+G/2+","+H/2+")"),j.on("click",function(b,c){B.chartClick({data:b,index:c,pos:a.event,id:i})}),C=[],D=[];for(var N=0;N<c[0].length;N++){var T=a.svg.arc().outerRadius(J[N]),U=a.svg.arc().outerRadius(J[N]+5);v!==!1&&(T.startAngle(v),U.startAngle(v)),x!==!1&&(T.endAngle(x),U.endAngle(x)),q&&(T.innerRadius(K[N]),U.innerRadius(K[N])),T.cornerRadius&&y&&(T.cornerRadius(y),U.cornerRadius(y)),C.push(T),D.push(U)}var V=a.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});V.padAngle&&w&&V.padAngle(w),q&&r&&(S.append("text").attr("class","nv-pie-title"),O.select(".nv-pie-title").style("text-anchor","middle").text(function(){return r}).style("font-size",Math.min(G,H)*z*2/(r.length+2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+t+")"}));var W=O.select(".nv-pie").selectAll(".nv-slice").data(V),X=O.select(".nv-pieLabels").selectAll(".nv-label").data(V);W.exit().remove(),X.exit().remove();var Y=W.enter().append("g");Y.attr("class","nv-slice"),Y.on("mouseover",function(b,c){a.select(this).classed("hover",!0),s&&a.select(this).select("path").transition().duration(70).attr("d",D[c]),B.elementMouseover({data:b.data,index:c,color:a.select(this).style("fill")})}),Y.on("mouseout",function(b,c){a.select(this).classed("hover",!1),s&&a.select(this).select("path").transition().duration(50).attr("d",C[c]),B.elementMouseout({data:b.data,index:c})}),Y.on("mousemove",function(a,b){B.elementMousemove({data:a.data,index:b})}),Y.on("click",function(b,c){B.elementClick({data:b.data,index:c,color:a.select(this).style("fill")})}),Y.on("dblclick",function(b,c){B.elementDblClick({data:b.data,index:c,color:a.select(this).style("fill")})}),W.attr("fill",function(a,b){return k(a.data,b)}),W.attr("stroke",function(a,b){return k(a.data,b)});Y.append("path").each(function(a){this._current=a});if(W.select("path").transition().attr("d",function(a,b){return C[b](a)}).attrTween("d",F),m){for(var Z=[],N=0;N<c[0].length;N++)Z.push(C[N]),n?q&&(Z[N]=a.svg.arc().outerRadius(C[N].outerRadius()),v!==!1&&Z[N].startAngle(v),x!==!1&&Z[N].endAngle(x)):q||Z[N].innerRadius(0);X.enter().append("g").classed("nv-label",!0).each(function(b){var c=a.select(this);c.attr("transform",function(a,b){if(u){a.outerRadius=J[b]+10,a.innerRadius=J[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+Z[b].centroid(a)+") rotate("+c+")"}return a.outerRadius=I+10,a.innerRadius=I+15,"translate("+Z[b].centroid(a)+")"}),c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),c.append("text").style("text-anchor",u?(b.startAngle+b.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var $={},_=14,ab=140,bb=function(a){return Math.floor(a[0]/ab)*ab+","+Math.floor(a[1]/_)*_};X.watchTransition(E,"pie labels").attr("transform",function(a,b){if(u){a.outerRadius=J[b]+10,a.innerRadius=J[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+Z[b].centroid(a)+") rotate("+c+")"}a.outerRadius=I+10,a.innerRadius=I+15;var d=Z[b].centroid(a);if(a.value){var e=bb(d);$[e]&&(d[1]-=_),$[bb(d)]=!0}return"translate("+d+")"}),X.select(".nv-label text").style("text-anchor",function(a){return u?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(b,c){var d=(b.endAngle-b.startAngle)/(2*Math.PI),e="";if(!b.value||p>d)return"";if("function"==typeof o)e=o(b,c,{key:g(b.data),value:h(b.data),percent:l(d)});else switch(o){case"key":e=g(b.data);break;case"value":e=l(h(b.data));break;case"percent":e=a.format("%")(d)}return e})}}),E.renderEnd("pie immediate"),c}var d={top:0,right:0,bottom:0,left:0},e=500,f=500,g=function(a){return a.x},h=function(a){return a.y},i=Math.floor(1e4*Math.random()),j=null,k=b.utils.defaultColor(),l=a.format(",.2f"),m=!0,n=!1,o="key",p=.02,q=!1,r=!1,s=!0,t=0,u=!1,v=!1,w=!1,x=!1,y=0,z=.5,A=[],B=a.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=[],D=[],E=b.utils.renderWatch(B);return c.dispatch=B,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{arcsRadius:{get:function(){return A},set:function(a){A=a}},width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},showLabels:{get:function(){return m},set:function(a){m=a}},title:{get:function(){return r},set:function(a){r=a}},titleOffset:{get:function(){return t},set:function(a){t=a}},labelThreshold:{get:function(){return p},set:function(a){p=a}},valueFormat:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return g},set:function(a){g=a}},id:{get:function(){return i},set:function(a){i=a}},endAngle:{get:function(){return x},set:function(a){x=a}},startAngle:{get:function(){return v},set:function(a){v=a}},padAngle:{get:function(){return w},set:function(a){w=a}},cornerRadius:{get:function(){return y},set:function(a){y=a}},donutRatio:{get:function(){return z},set:function(a){z=a}},labelsOutside:{get:function(){return n},set:function(a){n=a}},labelSunbeamLayout:{get:function(){return u},set:function(a){u=a}},donut:{get:function(){return q},set:function(a){q=a}},growOnHover:{get:function(){return s},set:function(a){s=a}},pieLabelsOutside:{get:function(){return n},set:function(a){n=a,b.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return n},set:function(a){n=a,b.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return l},set:function(a){l=a,b.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return d},set:function(a){d.top="undefined"!=typeof a.top?a.top:d.top,d.right="undefined"!=typeof a.right?a.right:d.right,d.bottom="undefined"!=typeof a.bottom?a.bottom:d.bottom,d.left="undefined"!=typeof a.left?a.left:d.left}},y:{get:function(){return h},set:function(b){h=a.functor(b)}},color:{get:function(){return k},set:function(a){k=b.utils.getColor(a)}},labelType:{get:function(){return o},set:function(a){o=a||"key"}}}),b.utils.initOptions(c),c},b.models.pieChart=function(){"use strict";function c(f){return r.reset(),r.models(d),f.each(function(f){var l=a.select(this);b.utils.initSVG(l);var o=b.utils.availableWidth(h,l,g),p=b.utils.availableHeight(i,l,g);if(c.update=function(){l.transition().call(c)},c.container=this,m.setter(t(f),c.update).getter(s(f)).update(),m.disabled=f.map(function(a){return!!a.disabled}),!n){var r;n={};for(r in m)n[r]=m[r]instanceof Array?m[r].slice(0):m[r]}if(!f||!f.length)return b.utils.noData(c,l),c;l.selectAll(".nv-noData").remove();var u=l.selectAll("g.nv-wrap.nv-pieChart").data([f]),v=u.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=u.select("g");if(v.append("g").attr("class","nv-pieWrap"),v.append("g").attr("class","nv-legendWrap"),j)if("top"===k)e.width(o).key(d.x()),u.select(".nv-legendWrap").datum(f).call(e),g.top!=e.height()&&(g.top=e.height(),p=b.utils.availableHeight(i,l,g)),u.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")");else if("right"===k){var x=b.models.legend().width();x>o/2&&(x=o/2),e.height(p).key(d.x()),e.width(x),o-=e.width(),u.select(".nv-legendWrap").datum(f).call(e).attr("transform","translate("+o+",0)")}u.attr("transform","translate("+g.left+","+g.top+")"),d.width(o).height(p);var y=w.select(".nv-pieWrap").datum([f]);a.transition(y).call(d),e.dispatch.on("stateChange",function(a){for(var b in a)m[b]=a[b];q.stateChange(m),c.update()}),q.on("changeState",function(a){"undefined"!=typeof a.disabled&&(f.forEach(function(b,c){b.disabled=a.disabled[c]}),m.disabled=a.disabled),c.update()})}),r.renderEnd("pieChart immediate"),c}var d=b.models.pie(),e=b.models.legend(),f=b.models.tooltip(),g={top:30,right:20,bottom:20,left:20},h=null,i=null,j=!0,k="top",l=b.utils.defaultColor(),m=b.utils.state(),n=null,o=null,p=250,q=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");f.headerEnabled(!1).duration(0).valueFormatter(function(a,b){return d.valueFormat()(a,b)});var r=b.utils.renderWatch(q),s=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},t=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:c.x()(a.data),value:c.y()(a.data),color:a.color},f.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(){f.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(){f.position({top:a.event.pageY,left:a.event.pageX})()}),c.legend=e,c.dispatch=q,c.pie=d,c.tooltip=f,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{noData:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return j},set:function(a){j=a}},legendPosition:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return n},set:function(a){n=a}},tooltips:{get:function(){return f.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),f.enabled(!!a)}},tooltipContent:{get:function(){return f.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),f.contentGenerator(a)}},color:{get:function(){return l},set:function(a){l=a,e.color(l),d.color(l)}},duration:{get:function(){return p},set:function(a){p=a,r.reset(p)}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}}}),b.utils.inheritOptions(c,d),b.utils.initOptions(c),c},b.models.scatter=function(){"use strict";function c(O){return Q.reset(),O.each(function(c){function O(){if(P=!1,!x)return!1;if(N===!0){var b=a.merge(c.map(function(a,b){return a.values.map(function(a,c){var d=q(a,c),e=r(a,c);return[n(d)+1e-4*Math.random(),o(e)+1e-4*Math.random(),b,c,a]}).filter(function(a,b){return y(a[4],b)})}));if(0==b.length)return!1;b.length<3&&(b.push([n.range()[0]-20,o.range()[0]-20,null,null]),b.push([n.range()[1]+20,o.range()[1]+20,null,null]),b.push([n.range()[0]-20,o.range()[0]+20,null,null]),b.push([n.range()[1]+20,o.range()[1]-20,null,null]));var d=a.geom.polygon([[-10,-10],[-10,j+10],[i+10,j+10],[i+10,-10]]),e=a.geom.voronoi(b).map(function(a,c){return{data:d.clip(a),series:b[c][2],point:b[c][3]}});V.select(".nv-point-paths").selectAll("path").remove();var f=V.select(".nv-point-paths").selectAll("path").data(e),g=f.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+l+"-"+b+")"});if(D&&g.style("fill",a.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",a.rgb(200,200,200)),C){V.select(".nv-point-clips").selectAll("*").remove();{var p=V.select(".nv-point-clips").selectAll("clipPath").data(b);p.enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+l+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",E)}}var s=function(a,b){if(P)return 0;var d=c[a.series];if(void 0!==d){var e=d.values[a.point];e.color=k(d,a.series),e.x=q(e),e.y=r(e);var f=m.node().getBoundingClientRect(),g=window.pageYOffset||document.documentElement.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft,j={left:n(q(e,a.point))+f.left+i+h.left+10,top:o(r(e,a.point))+f.top+g+h.top+10};b({point:e,series:d,pos:j,seriesIndex:a.series,pointIndex:a.point})}};f.on("click",function(a){s(a,M.elementClick)}).on("dblclick",function(a){s(a,M.elementDblClick)}).on("mouseover",function(a){s(a,M.elementMouseover)}).on("mouseout",function(a){s(a,M.elementMouseout)})}else V.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,b){if(P||!c[a.series])return 0;var d=c[a.series],e=d.values[b];M.elementClick({point:e,series:d,pos:[n(q(e,b))+h.left,o(r(e,b))+h.top],seriesIndex:a.series,pointIndex:b})}).on("dblclick",function(a,b){if(P||!c[a.series])return 0;var d=c[a.series],e=d.values[b];M.elementDblClick({point:e,series:d,pos:[n(q(e,b))+h.left,o(r(e,b))+h.top],seriesIndex:a.series,pointIndex:b})}).on("mouseover",function(a,b){if(P||!c[a.series])return 0;var d=c[a.series],e=d.values[b];M.elementMouseover({point:e,series:d,pos:[n(q(e,b))+h.left,o(r(e,b))+h.top],seriesIndex:a.series,pointIndex:b,color:k(a,b)})}).on("mouseout",function(a,b){if(P||!c[a.series])return 0;var d=c[a.series],e=d.values[b];M.elementMouseout({point:e,series:d,seriesIndex:a.series,pointIndex:b,color:k(a,b)})})}m=a.select(this);var S=b.utils.availableWidth(i,m,h),T=b.utils.availableHeight(j,m,h);b.utils.initSVG(m),c.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var U=F&&G&&J?[]:a.merge(c.map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:r(a,b),size:s(a,b)}})}));n.domain(F||a.extent(U.map(function(a){return a.x}).concat(u))),n.range(z&&c[0]?H||[(S*A+S)/(2*c[0].values.length),S-S*(1+A)/(2*c[0].values.length)]:H||[0,S]),o.domain(G||a.extent(U.map(function(a){return a.y}).concat(v))).range(I||[T,0]),p.domain(J||a.extent(U.map(function(a){return a.size}).concat(w))).range(K||R),L=n.domain()[0]===n.domain()[1]||o.domain()[0]===o.domain()[1],n.domain()[0]===n.domain()[1]&&n.domain(n.domain()[0]?[n.domain()[0]-.01*n.domain()[0],n.domain()[1]+.01*n.domain()[1]]:[-1,1]),o.domain()[0]===o.domain()[1]&&o.domain(o.domain()[0]?[o.domain()[0]-.01*o.domain()[0],o.domain()[1]+.01*o.domain()[1]]:[-1,1]),isNaN(n.domain()[0])&&n.domain([-1,1]),isNaN(o.domain()[0])&&o.domain([-1,1]),d=d||n,e=e||o,f=f||p;var V=m.selectAll("g.nv-wrap.nv-scatter").data([c]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+l),X=W.append("defs"),Y=W.append("g"),Z=V.select("g");V.classed("nv-single-point",L),Y.append("g").attr("class","nv-groups"),Y.append("g").attr("class","nv-point-paths"),W.append("g").attr("class","nv-point-clips"),V.attr("transform","translate("+h.left+","+h.top+")"),X.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),V.select("#nv-edge-clip-"+l+" rect").attr("width",S).attr("height",T>0?T:0),Z.attr("clip-path",B?"url(#nv-edge-clip-"+l+")":""),P=!0;var $=V.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});$.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),$.exit().remove(),$.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),$.watchTransition(Q,"scatter: groups").style("fill",function(a,b){return k(a,b)}).style("stroke",function(a,b){return k(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);var _=$.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return y(a[0],b)})});_.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+d(q(a[0],a[1]))+","+e(r(a[0],a[1]))+")"}).attr("d",b.utils.symbol().type(function(a){return t(a[0])}).size(function(a){return p(s(a[0],a[1]))})),_.exit().remove(),$.exit().selectAll("path.nv-point").watchTransition(Q,"scatter exit").attr("transform",function(a){return"translate("+n(q(a[0],a[1]))+","+o(r(a[0],a[1]))+")"}).remove(),_.each(function(b){a.select(this).classed("nv-point",!0).classed("nv-point-"+b[1],!0).classed("nv-noninteractive",!x).classed("hover",!1)}),_.watchTransition(Q,"scatter points").attr("transform",function(a){return"translate("+n(q(a[0],a[1]))+","+o(r(a[0],a[1]))+")"}).attr("d",b.utils.symbol().type(function(a){return t(a[0])}).size(function(a){return p(s(a[0],a[1]))})),clearTimeout(g),g=setTimeout(O,300),d=n.copy(),e=o.copy(),f=p.copy()}),Q.renderEnd("scatter immediate"),c}var d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=b.utils.defaultColor(),l=Math.floor(1e5*Math.random()),m=null,n=a.scale.linear(),o=a.scale.linear(),p=a.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=function(a){return a.size||1},t=function(a){return a.shape||"circle"},u=[],v=[],w=[],x=!0,y=function(a){return!a.notActive},z=!1,A=.1,B=!1,C=!0,D=!1,E=function(){return 25},F=null,G=null,H=null,I=null,J=null,K=null,L=!1,M=a.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),N=!0,O=250,P=!1,Q=b.utils.renderWatch(M,O),R=[16,256];return c.dispatch=M,c.options=b.utils.optionsFunc.bind(c),c._calls=new function(){this.clearHighlights=function(){return b.dom.write(function(){m.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(a,c,d){b.dom.write(function(){m.select(" .nv-series-"+a+" .nv-point-"+c).classed("hover",d)})}},M.on("elementMouseover.point",function(a){x&&c._calls.highlightPoint(a.seriesIndex,a.pointIndex,!0)}),M.on("elementMouseout.point",function(a){x&&c._calls.highlightPoint(a.seriesIndex,a.pointIndex,!1)}),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},pointScale:{get:function(){return p},set:function(a){p=a}},xDomain:{get:function(){return F},set:function(a){F=a}},yDomain:{get:function(){return G},set:function(a){G=a}},pointDomain:{get:function(){return J},set:function(a){J=a}},xRange:{get:function(){return H},set:function(a){H=a}},yRange:{get:function(){return I},set:function(a){I=a}},pointRange:{get:function(){return K},set:function(a){K=a}},forceX:{get:function(){return u},set:function(a){u=a}},forceY:{get:function(){return v},set:function(a){v=a}},forcePoint:{get:function(){return w},set:function(a){w=a}},interactive:{get:function(){return x},set:function(a){x=a}},pointActive:{get:function(){return y},set:function(a){y=a}},padDataOuter:{get:function(){return A},set:function(a){A=a}},padData:{get:function(){return z},set:function(a){z=a}},clipEdge:{get:function(){return B},set:function(a){B=a}},clipVoronoi:{get:function(){return C},set:function(a){C=a}},clipRadius:{get:function(){return E},set:function(a){E=a}},showVoronoi:{get:function(){return D},set:function(a){D=a}},id:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return q},set:function(b){q=a.functor(b)}},y:{get:function(){return r},set:function(b){r=a.functor(b)}},pointSize:{get:function(){return s},set:function(b){s=a.functor(b)}},pointShape:{get:function(){return t},set:function(b){t=a.functor(b)}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return O},set:function(a){O=a,Q.reset(O)}},color:{get:function(){return k},set:function(a){k=b.utils.getColor(a)}},useVoronoi:{get:function(){return N},set:function(a){N=a,N===!1&&(C=!1)}}}),b.utils.initOptions(c),c},b.models.scatterChart=function(){"use strict";function c(A){return E.reset(),E.models(d),u&&E.models(e),v&&E.models(f),r&&E.models(h),s&&E.models(i),A.each(function(A){n=a.select(this),b.utils.initSVG(n);var H=b.utils.availableWidth(l,n,k),I=b.utils.availableHeight(m,n,k);if(c.update=function(){0===B?n.call(c):n.transition().duration(B).call(c)},c.container=this,x.setter(G(A),c.update).getter(F(A)).update(),x.disabled=A.map(function(a){return!!a.disabled}),!y){var J;y={};for(J in x)y[J]=x[J]instanceof Array?x[J].slice(0):x[J]}if(!(A&&A.length&&A.filter(function(a){return a.values.length}).length))return b.utils.noData(c,n),E.renderEnd("scatter immediate"),c;n.selectAll(".nv-noData").remove(),p=d.xScale(),q=d.yScale();var K=n.selectAll("g.nv-wrap.nv-scatterChart").data([A]),L=K.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+d.id()),M=L.append("g"),N=K.select("g");if(M.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis"),M.append("g").attr("class","nv-scatterWrap"),M.append("g").attr("class","nv-regressionLinesWrap"),M.append("g").attr("class","nv-distWrap"),M.append("g").attr("class","nv-legendWrap"),w&&N.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)"),t){var O=H;g.width(O),K.select(".nv-legendWrap").datum(A).call(g),k.top!=g.height()&&(k.top=g.height(),I=b.utils.availableHeight(m,n,k)),K.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}K.attr("transform","translate("+k.left+","+k.top+")"),d.width(H).height(I).color(A.map(function(a,b){return a.color=a.color||o(a,b),a.color}).filter(function(a,b){return!A[b].disabled})),K.select(".nv-scatterWrap").datum(A.filter(function(a){return!a.disabled})).call(d),K.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+d.id()+")");var P=K.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});P.enter().append("g").attr("class","nv-regLines");var Q=P.selectAll(".nv-regLine").data(function(a){return[a]});Q.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),Q.filter(function(a){return a.intercept&&a.slope}).watchTransition(E,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(a){return q(p.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a){return q(p.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return o(a,c)}).style("stroke-opacity",function(a){return a.disabled||"undefined"==typeof a.slope||"undefined"==typeof a.intercept?0:1}),u&&(e.scale(p)._ticks(b.utils.calcTicksX(H/100,A)).tickSize(-I,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")").call(e)),v&&(f.scale(q)._ticks(b.utils.calcTicksY(I/36,A)).tickSize(-H,0),N.select(".nv-y.nv-axis").call(f)),r&&(h.getData(d.x()).scale(p).width(H).color(A.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!A[b].disabled})),M.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),N.select(".nv-distributionX").attr("transform","translate(0,"+q.range()[0]+")").datum(A.filter(function(a){return!a.disabled})).call(h)),s&&(i.getData(d.y()).scale(q).width(I).color(A.map(function(a,b){return a.color||o(a,b)
}).filter(function(a,b){return!A[b].disabled})),M.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),N.select(".nv-distributionY").attr("transform","translate("+(w?H:-i.size())+",0)").datum(A.filter(function(a){return!a.disabled})).call(i)),g.dispatch.on("stateChange",function(a){for(var b in a)x[b]=a[b];z.stateChange(x),c.update()}),z.on("changeState",function(a){"undefined"!=typeof a.disabled&&(A.forEach(function(b,c){b.disabled=a.disabled[c]}),x.disabled=a.disabled),c.update()}),d.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0),n.select(".nv-chart-"+d.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0),n.select(".nv-chart-"+d.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",i.size())}),d.dispatch.on("elementMouseover.tooltip",function(a){n.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos.top-I-k.top),n.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos.left+h.size()-k.left),j.position(a.pos).data(a).hidden(!1)}),C=p.copy(),D=q.copy()}),E.renderEnd("scatter with line immediate"),c}var d=b.models.scatter(),e=b.models.axis(),f=b.models.axis(),g=b.models.legend(),h=b.models.distribution(),i=b.models.distribution(),j=b.models.tooltip(),k={top:30,right:20,bottom:50,left:75},l=null,m=null,n=null,o=b.utils.defaultColor(),p=d.xScale(),q=d.yScale(),r=!1,s=!1,t=!0,u=!0,v=!0,w=!1,x=b.utils.state(),y=null,z=a.dispatch("stateChange","changeState","renderEnd"),A=null,B=250;d.xScale(p).yScale(q),e.orient("bottom").tickPadding(10),f.orient(w?"right":"left").tickPadding(10),h.axis("x"),i.axis("y"),j.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return f.tickFormat()(a,b)});var C,D,E=b.utils.renderWatch(z,B),F=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},G=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return c.dispatch=z,c.scatter=d,c.legend=g,c.xAxis=e,c.yAxis=f,c.distX=h,c.distY=i,c.tooltip=j,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},container:{get:function(){return n},set:function(a){n=a}},showDistX:{get:function(){return r},set:function(a){r=a}},showDistY:{get:function(){return s},set:function(a){s=a}},showLegend:{get:function(){return t},set:function(a){t=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return A},set:function(a){A=a}},duration:{get:function(){return B},set:function(a){B=a}},tooltips:{get:function(){return j.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),j.enabled(!!a)}},tooltipContent:{get:function(){return j.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),j.contentGenerator(a)}},tooltipXContent:{get:function(){return j.contentGenerator()},set:function(){b.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return j.contentGenerator()},set:function(){b.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,f.orient(a?"right":"left")}},color:{get:function(){return o},set:function(a){o=b.utils.getColor(a),g.color(o),h.color(o),i.color(o)}}}),b.utils.inheritOptions(c,d),b.utils.initOptions(c),c},b.models.sparkline=function(){"use strict";function c(l){return l.each(function(c){var l=i-h.left-h.right,r=j-h.top-h.bottom;k=a.select(this),b.utils.initSVG(k),m.domain(d||a.extent(c,o)).range(f||[0,l]),n.domain(e||a.extent(c,p)).range(g||[r,0]);{var s=k.selectAll("g.nv-wrap.nv-sparkline").data([c]),t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");t.append("g"),s.select("g")}s.attr("transform","translate("+h.left+","+h.top+")");var u=s.selectAll("path").data(function(a){return[a]});u.enter().append("path"),u.exit().remove(),u.style("stroke",function(a,b){return a.color||q(a,b)}).attr("d",a.svg.line().x(function(a,b){return m(o(a,b))}).y(function(a,b){return n(p(a,b))}));var v=s.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];return c.pointIndex=b,c}return null}var c=a.map(function(a,b){return p(a,b)}),d=b(c.lastIndexOf(n.domain()[1])),e=b(c.indexOf(n.domain()[0])),f=b(c.length-1);return[e,d,f].filter(function(a){return null!=a})});v.enter().append("circle"),v.exit().remove(),v.attr("cx",function(a){return m(o(a,a.pointIndex))}).attr("cy",function(a){return n(p(a,a.pointIndex))}).attr("r",2).attr("class",function(a){return o(a,a.pointIndex)==m.domain()[1]?"nv-point nv-currentValue":p(a,a.pointIndex)==n.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),c}var d,e,f,g,h={top:2,right:0,bottom:2,left:0},i=400,j=32,k=null,l=!0,m=a.scale.linear(),n=a.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=b.utils.getColor(["#000"]);return c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},animate:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return o},set:function(b){o=a.functor(b)}},y:{get:function(){return p},set:function(b){p=a.functor(b)}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},color:{get:function(){return q},set:function(a){q=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.sparklinePlus=function(){"use strict";function c(q){return q.each(function(q){function r(){if(!k){var a=A.selectAll(".nv-hoverValue").data(j),b=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),a.attr("transform",function(a){return"translate("+d(f.x()(q[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),j.length&&(b.append("line").attr("x1",0).attr("y1",-g.top).attr("x2",0).attr("y2",v),b.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-g.top).attr("text-anchor","end").attr("dy",".9em"),A.select(".nv-hoverValue .nv-xValue").text(l(f.x()(q[j[0]],j[0]))),b.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-g.top).attr("text-anchor","start").attr("dy",".9em"),A.select(".nv-hoverValue .nv-yValue").text(m(f.y()(q[j[0]],j[0]))))}}function s(){function b(a,b){for(var c=Math.abs(f.x()(a[0],0)-b),d=0,e=0;e<a.length;e++)Math.abs(f.x()(a[e],e)-b)<c&&(c=Math.abs(f.x()(a[e],e)-b),d=e);return d}if(!k){var c=a.mouse(this)[0]-g.left;j=[b(q,Math.round(d.invert(c)))],r()}}var t=a.select(this);b.utils.initSVG(t);var u=b.utils.availableWidth(h,t,g),v=b.utils.availableHeight(i,t,g);if(c.update=function(){t.call(c)},c.container=this,!q||!q.length)return b.utils.noData(c,t),c;t.selectAll(".nv-noData").remove();var w=f.y()(q[q.length-1],q.length-1);d=f.xScale(),e=f.yScale();var x=t.selectAll("g.nv-wrap.nv-sparklineplus").data([q]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),z=y.append("g"),A=x.select("g");z.append("g").attr("class","nv-sparklineWrap"),z.append("g").attr("class","nv-valueWrap"),z.append("g").attr("class","nv-hoverArea"),x.attr("transform","translate("+g.left+","+g.top+")");var B=A.select(".nv-sparklineWrap");if(f.width(u).height(v),B.call(f),n){var C=A.select(".nv-valueWrap"),D=C.selectAll(".nv-currentValue").data([w]);D.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),D.attr("x",u+(p?g.right:0)).attr("y",o?function(a){return e(a)}:0).style("fill",f.color()(q[q.length-1],q.length-1)).text(m(w))}z.select(".nv-hoverArea").append("rect").on("mousemove",s).on("click",function(){k=!k}).on("mouseout",function(){j=[],r()}),A.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-g.left+","+-g.top+")"}).attr("width",u+g.left+g.right).attr("height",v+g.top)}),c}var d,e,f=b.models.sparkline(),g={top:15,right:100,bottom:10,left:50},h=null,i=null,j=[],k=!1,l=a.format(",r"),m=a.format(",.2f"),n=!0,o=!0,p=!1,q=null;return c.sparkline=f,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xTickFormat:{get:function(){return l},set:function(a){l=a}},yTickFormat:{get:function(){return m},set:function(a){m=a}},showLastValue:{get:function(){return n},set:function(a){n=a}},alignValue:{get:function(){return o},set:function(a){o=a}},rightAlignValue:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}}}),b.utils.inheritOptions(c,f),b.utils.initOptions(c),c},b.models.stackedArea=function(){"use strict";function c(n){return v.reset(),v.models(s),n.each(function(n){var t=g-f.left-f.right,w=h-f.top-f.bottom;k=a.select(this),b.utils.initSVG(k),d=s.xScale(),e=s.yScale();var x=n;n.forEach(function(a,b){a.seriesIndex=b,a.values=a.values.map(function(a,c){return a.index=c,a.seriesIndex=b,a})});var y=n.filter(function(a){return!a.disabled});n=a.layout.stack().order(p).offset(o).values(function(a){return a.values}).x(l).y(m).out(function(a,b,c){a.display={y:c,y0:b}})(y);var z=k.selectAll("g.nv-wrap.nv-stackedarea").data([n]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),B=A.append("defs"),C=A.append("g"),D=z.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),z.attr("transform","translate("+f.left+","+f.top+")"),0==s.forceY().length&&s.forceY().push(0),s.width(t).height(w).x(l).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(n.map(function(a){return a.color||i(a,a.seriesIndex)}));var E=D.select(".nv-scatterWrap").datum(n);E.call(s),B.append("clipPath").attr("id","nv-edge-clip-"+j).append("rect"),z.select("#nv-edge-clip-"+j+" rect").attr("width",t).attr("height",w),D.attr("clip-path",r?"url(#nv-edge-clip-"+j+")":"");var F=a.svg.area().x(function(a,b){return d(l(a,b))}).y0(function(a){return e(a.display.y0)}).y1(function(a){return e(a.display.y+a.display.y0)}).interpolate(q),G=a.svg.area().x(function(a,b){return d(l(a,b))}).y0(function(a){return e(a.display.y0)}).y1(function(a){return e(a.display.y0)}),H=D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});H.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a){return G(a.values,a.seriesIndex)}).on("mouseover",function(b){a.select(this).classed("hover",!0),u.areaMouseover({point:b,series:b.key,pos:[a.event.pageX,a.event.pageY],seriesIndex:b.seriesIndex})}).on("mouseout",function(b){a.select(this).classed("hover",!1),u.areaMouseout({point:b,series:b.key,pos:[a.event.pageX,a.event.pageY],seriesIndex:b.seriesIndex})}).on("click",function(b){a.select(this).classed("hover",!1),u.areaClick({point:b,series:b.key,pos:[a.event.pageX,a.event.pageY],seriesIndex:b.seriesIndex})}),H.exit().remove(),H.style("fill",function(a){return a.color||i(a,a.seriesIndex)}).style("stroke",function(a){return a.color||i(a,a.seriesIndex)}),H.watchTransition(v,"stackedArea path").attr("d",function(a,b){return F(a.values,b)}),s.dispatch.on("elementMouseover.area",function(a){D.select(".nv-chart-"+j+" .nv-area-"+a.seriesIndex).classed("hover",!0)}),s.dispatch.on("elementMouseout.area",function(a){D.select(".nv-chart-"+j+" .nv-area-"+a.seriesIndex).classed("hover",!1)}),c.d3_stackedOffset_stackPercent=function(a){var b,c,d,e=a.length,f=a[0].length,g=[];for(c=0;f>c;++c){for(b=0,d=0;b<x.length;b++)d+=m(x[b].values[c]);if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=0}for(c=0;f>c;++c)g[c]=0;return g}}),v.renderEnd("stackedArea immediate"),c}var d,e,f={top:0,right:0,bottom:0,left:0},g=960,h=500,i=b.utils.defaultColor(),j=Math.floor(1e5*Math.random()),k=null,l=function(a){return a.x},m=function(a){return a.y},n="stack",o="zero",p="default",q="linear",r=!1,s=b.models.scatter(),t=250,u=a.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");s.pointSize(2.2).pointDomain([2.2,2.2]);var v=b.utils.renderWatch(u,t);return c.dispatch=u,c.scatter=s,s.dispatch.on("elementClick",function(){u.elementClick.apply(this,arguments)}),s.dispatch.on("elementMouseover",function(){u.elementMouseover.apply(this,arguments)}),s.dispatch.on("elementMouseout",function(){u.elementMouseout.apply(this,arguments)}),c.interpolate=function(a){return arguments.length?(q=a,c):q},c.duration=function(a){return arguments.length?(t=a,v.reset(t),s.duration(t),c):t},c.dispatch=u,c.scatter=s,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},offset:{get:function(){return o},set:function(a){o=a}},order:{get:function(){return p},set:function(a){p=a}},interpolate:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return l},set:function(b){l=a.functor(b)}},y:{get:function(){return m},set:function(b){m=a.functor(b)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return i},set:function(a){i=b.utils.getColor(a)}},style:{get:function(){return n},set:function(a){switch(n=a){case"stack":c.offset("zero"),c.order("default");break;case"stream":c.offset("wiggle"),c.order("inside-out");break;case"stream-center":c.offset("silhouette"),c.order("inside-out");break;case"expand":c.offset("expand"),c.order("default");break;case"stack_percent":c.offset(c.d3_stackedOffset_stackPercent),c.order("default")}}},duration:{get:function(){return t},set:function(a){t=a,v.reset(t),s.duration(t)}}}),b.utils.inheritOptions(c,s),b.utils.initOptions(c),c},b.models.stackedAreaChart=function(){"use strict";function c(l){return G.reset(),G.models(f),s&&G.models(g),t&&G.models(h),l.each(function(l){var y=a.select(this),G=this;b.utils.initSVG(y);var L=b.utils.availableWidth(n,y,m),M=b.utils.availableHeight(o,y,m);if(c.update=function(){y.transition().duration(D).call(c)},c.container=this,w.setter(J(l),c.update).getter(I(l)).update(),w.disabled=l.map(function(a){return!!a.disabled}),!x){var N;x={};for(N in w)x[N]=w[N]instanceof Array?w[N].slice(0):w[N]}if(!(l&&l.length&&l.filter(function(a){return a.values.length}).length))return b.utils.noData(c,y),c;y.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var O=y.selectAll("g.nv-wrap.nv-stackedAreaChart").data([l]),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Q=O.select("g");if(P.append("rect").style("opacity",0),P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-stackedWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),P.append("g").attr("class","nv-interactive"),Q.select("rect").attr("width",L).attr("height",M),r){var R=q?L-A:L;i.width(R),Q.select(".nv-legendWrap").datum(l).call(i),m.top!=i.height()&&(m.top=i.height(),M=b.utils.availableHeight(o,y,m)),Q.select(".nv-legendWrap").attr("transform","translate("+(L-R)+","+-m.top+")")}if(q){var S=[{key:C.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=f.style(),style:"stack"},{key:C.stream||"Stream",metaKey:"Stream",disabled:"stream"!=f.style(),style:"stream"},{key:C.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=f.style(),style:"expand"},{key:C.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=f.style(),style:"stack_percent"}];A=B.length/3*260,S=S.filter(function(a){return-1!==B.indexOf(a.metaKey)}),j.width(A).color(["#444","#444","#444"]),Q.select(".nv-controlsWrap").datum(S).call(j),m.top!=Math.max(j.height(),i.height())&&(m.top=Math.max(j.height(),i.height()),M=b.utils.availableHeight(o,y,m)),Q.select(".nv-controlsWrap").attr("transform","translate(0,"+-m.top+")")}O.attr("transform","translate("+m.left+","+m.top+")"),u&&Q.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),v&&(k.width(L).height(M).margin({left:m.left,top:m.top}).svgContainer(y).xScale(d),O.select(".nv-interactive").call(k)),f.width(L).height(M);var T=Q.select(".nv-stackedWrap").datum(l);if(T.transition().call(f),s&&(g.scale(d)._ticks(b.utils.calcTicksX(L/100,l)).tickSize(-M,0),Q.select(".nv-x.nv-axis").attr("transform","translate(0,"+M+")"),Q.select(".nv-x.nv-axis").transition().duration(0).call(g)),t){var U;if(U="wiggle"===f.offset()?0:b.utils.calcTicksY(M/36,l),h.scale(e)._ticks(U).tickSize(-L,0),"expand"===f.style()||"stack_percent"===f.style()){var V=h.tickFormat();E&&V===K||(E=V),h.tickFormat(K)}else E&&(h.tickFormat(E),E=null);Q.select(".nv-y.nv-axis").transition().duration(0).call(h)}f.dispatch.on("areaClick.toggle",function(a){l.forEach(1===l.filter(function(a){return!a.disabled}).length?function(a){a.disabled=!1}:function(b,c){b.disabled=c!=a.seriesIndex}),w.disabled=l.map(function(a){return!!a.disabled}),z.stateChange(w),c.update()}),i.dispatch.on("stateChange",function(a){for(var b in a)w[b]=a[b];z.stateChange(w),c.update()}),j.dispatch.on("legendClick",function(a){a.disabled&&(S=S.map(function(a){return a.disabled=!0,a}),a.disabled=!1,f.style(a.style),w.style=f.style(),z.stateChange(w),c.update())}),k.dispatch.on("elementMousemove",function(d){f.clearHighlights();var e,h,i,j=[];if(l.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(a,g){h=b.interactiveBisect(a.values,d.pointXValue,c.x());var k=a.values[h],l=c.y()(k,h);if(null!=l&&f.highlightPoint(g,h,!0),"undefined"!=typeof k){"undefined"==typeof e&&(e=k),"undefined"==typeof i&&(i=c.xScale()(c.x()(k,h)));var m="expand"==f.style()?k.display.y:c.y()(k,h);j.push({key:a.key,value:m,color:p(a,a.seriesIndex),stackedValue:k.display})}}),j.reverse(),j.length>2){var n=c.yScale().invert(d.mouseY),o=null;j.forEach(function(a,b){n=Math.abs(n);var c=Math.abs(a.stackedValue.y0),d=Math.abs(a.stackedValue.y);return n>=c&&d+c>=n?void(o=b):void 0}),null!=o&&(j[o].highlight=!0)}var q=g.tickFormat()(c.x()(e,h)),r=k.tooltip.valueFormatter();"expand"===f.style()||"stack_percent"===f.style()?(F||(F=r),r=a.format(".1%")):F&&(r=F,F=null),k.tooltip.position({left:i+m.left,top:d.mouseY+m.top}).chartContainer(G.parentNode).valueFormatter(r).data({value:q,series:j})(),k.renderGuideLine(i)}),k.dispatch.on("elementMouseout",function(){f.clearHighlights()}),z.on("changeState",function(a){"undefined"!=typeof a.disabled&&l.length===a.disabled.length&&(l.forEach(function(b,c){b.disabled=a.disabled[c]}),w.disabled=a.disabled),"undefined"!=typeof a.style&&(f.style(a.style),H=a.style),c.update()})}),G.renderEnd("stacked Area chart immediate"),c}var d,e,f=b.models.stackedArea(),g=b.models.axis(),h=b.models.axis(),i=b.models.legend(),j=b.models.legend(),k=b.interactiveGuideline(),l=b.models.tooltip(),m={top:30,right:25,bottom:50,left:60},n=null,o=null,p=b.utils.defaultColor(),q=!0,r=!0,s=!0,t=!0,u=!1,v=!1,w=b.utils.state(),x=null,y=null,z=a.dispatch("stateChange","changeState","renderEnd"),A=250,B=["Stacked","Stream","Expanded"],C={},D=250;w.style=f.style(),g.orient("bottom").tickPadding(7),h.orient(u?"right":"left"),l.headerFormatter(function(a,b){return g.tickFormat()(a,b)}).valueFormatter(function(a,b){return h.tickFormat()(a,b)}),k.tooltip.headerFormatter(function(a,b){return g.tickFormat()(a,b)}).valueFormatter(function(a,b){return h.tickFormat()(a,b)});var E=null,F=null;j.updateState(!1);var G=b.utils.renderWatch(z),H=f.style(),I=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:f.style()}}},J=function(a){return function(b){void 0!==b.style&&(H=b.style),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},K=a.format("%");return f.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=f.x()(a.point),a.point.y=f.y()(a.point),l.data(a).position(a.pos).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){l.hidden(!0)}),c.dispatch=z,c.stacked=f,c.legend=i,c.controls=j,c.xAxis=g,c.yAxis=h,c.interactiveLayer=k,c.tooltip=l,c.dispatch=z,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return x},set:function(a){x=a}},noData:{get:function(){return y},set:function(a){y=a}},showControls:{get:function(){return q},set:function(a){q=a}},controlLabels:{get:function(){return C},set:function(a){C=a}},controlOptions:{get:function(){return B},set:function(a){B=a}},tooltips:{get:function(){return l.enabled()},set:function(a){b.deprecated("tooltips","use chart.tooltip.enabled() instead"),l.enabled(!!a)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(a){b.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),l.contentGenerator(a)}},margin:{get:function(){return m},set:function(a){m.top=void 0!==a.top?a.top:m.top,m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},duration:{get:function(){return D},set:function(a){D=a,G.reset(D),f.duration(D),g.duration(D),h.duration(D)}},color:{get:function(){return p},set:function(a){p=b.utils.getColor(a),i.color(p),f.color(p)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,h.orient(u?"right":"left")}},useInteractiveGuideline:{get:function(){return v},set:function(a){v=!!a,c.interactive(!a),c.useVoronoi(!a),f.scatter.interactive(!a)}}}),b.utils.inheritOptions(c,f),b.utils.initOptions(c),c},b.models.sunburst=function(){"use strict";function c(v){return u.reset(),v.each(function(c){function u(a){a.x0=a.x,a.dx0=a.dx}function v(b){var c=a.interpolate(q.domain(),[b.x,b.x+b.dx]),d=a.interpolate(r.domain(),[b.y,1]),e=a.interpolate(r.range(),[b.y?20:0,z]);return function(a,b){return b?function(){return t(a)}:function(b){return q.domain(c(b)),r.domain(d(b)).range(e(b)),t(a)}}}m=a.select(this);var w,x=b.utils.availableWidth(h,m,g),y=b.utils.availableHeight(i,m,g),z=Math.min(x,y)/2;b.utils.initSVG(m);var A=m.selectAll(".nv-wrap.nv-sunburst").data(c),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+l),C=B.selectAll("nv-sunburst");A.attr("transform","translate("+x/2+","+y/2+")"),m.on("click",function(b,c){p.chartClick({data:b,index:c,pos:a.event,id:l})}),r.range([0,z]),d=d||c,f=c[0],s.value(k[j]||k.count),w=C.data(s.nodes).enter().append("path").attr("d",t).style("fill",function(a){return n((a.children?a:a.parent).name)}).style("stroke","#FFF").on("click",function(a){e!==d&&d!==a&&(e=d),d=a,w.transition().duration(o).attrTween("d",v(a))}).each(u).on("dblclick",function(a){e.parent==a&&w.transition().duration(o).attrTween("d",v(f))}).each(u).on("mouseover",function(b){a.select(this).classed("hover",!0).style("opacity",.8),p.elementMouseover({data:b,color:a.select(this).style("fill")})}).on("mouseout",function(b){a.select(this).classed("hover",!1).style("opacity",1),p.elementMouseout({data:b})}).on("mousemove",function(a){p.elementMousemove({data:a})})}),u.renderEnd("sunburst immediate"),c}var d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j="count",k={count:function(){return 1},size:function(a){return a.size}},l=Math.floor(1e4*Math.random()),m=null,n=b.utils.defaultColor(),o=500,p=a.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),q=a.scale.linear().range([0,2*Math.PI]),r=a.scale.sqrt(),s=a.layout.partition().sort(null).value(function(){return 1}),t=a.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,q(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,q(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,r(a.y))}).outerRadius(function(a){return Math.max(0,r(a.y+a.dy))}),u=b.utils.renderWatch(p);return c.dispatch=p,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},mode:{get:function(){return j},set:function(a){j=a}},id:{get:function(){return l},set:function(a){l=a}},duration:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!=a.top?a.top:g.top,g.right=void 0!=a.right?a.right:g.right,g.bottom=void 0!=a.bottom?a.bottom:g.bottom,g.left=void 0!=a.left?a.left:g.left}},color:{get:function(){return n},set:function(a){n=b.utils.getColor(a)}}}),b.utils.initOptions(c),c},b.models.sunburstChart=function(){"use strict";function c(e){return n.reset(),n.models(d),e.each(function(e){var i=a.select(this);b.utils.initSVG(i);var j=b.utils.availableWidth(g,i,f),k=b.utils.availableHeight(h,i,f);if(c.update=function(){0===l?i.call(c):i.transition().duration(l).call(c)},c.container=this,!e||!e.length)return b.utils.noData(c,i),c;i.selectAll(".nv-noData").remove();var m=i.selectAll("g.nv-wrap.nv-sunburstChart").data(e),n=m.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),o=m.select("g");n.append("g").attr("class","nv-sunburstWrap"),m.attr("transform","translate("+f.left+","+f.top+")"),d.width(j).height(k);var p=o.select(".nv-sunburstWrap").datum(e);a.transition(p).call(d)}),n.renderEnd("sunburstChart immediate"),c}var d=b.models.sunburst(),e=b.models.tooltip(),f={top:30,right:20,bottom:20,left:20},g=null,h=null,i=b.utils.defaultColor(),j=(Math.round(1e5*Math.random()),null),k=null,l=250,m=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),n=b.utils.renderWatch(m);return e.headerEnabled(!1).duration(0).valueFormatter(function(a){return a}),d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color},e.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(){e.position({top:a.event.pageY,left:a.event.pageX})()}),c.dispatch=m,c.sunburst=d,c.tooltip=e,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{noData:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return j},set:function(a){j=a}},color:{get:function(){return i},set:function(a){i=a,d.color(i)}},duration:{get:function(){return l},set:function(a){l=a,n.reset(l),d.duration(l)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),b.utils.inheritOptions(c,d),b.utils.initOptions(c),c},b});