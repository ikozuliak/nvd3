/* nvd3 version 1.6.0 (https://github.com/liquidpele/nvd3) 2014-11-25 */
!function(a,b){"function"==typeof define&&define.amd?define(["d3"],function(c){return a.nv=b(c)}):a.nv=b(d3)}(this,function(a){var b=window.nv||{};return window.nv=b,b.dev=!0,b.tooltip=b.tooltip||{},b.utils=b.utils||{},b.models=b.models||{},b.charts={},b.graphs=[],b.logs={},b.dispatch=a.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),b.dev&&(b.dispatch.on("render_start",function(){b.logs.startTime=+new Date}),b.dispatch.on("render_end",function(){b.logs.endTime=+new Date,b.logs.totalTime=b.logs.endTime-b.logs.startTime,b.log("total",b.logs.totalTime)})),b.log=function(){if(b.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(b.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var a=Function.prototype.bind.call(console.log,console);a.apply(console,arguments)}return arguments[arguments.length-1]},b.deprecated=function(a){b.dev&&console&&console.warn&&console.warn("`"+a+"` has been deprecated.")},b.render=function(a){a=a||1,b.render.active=!0,b.dispatch.render_start(),setTimeout(function(){for(var c,d,e=0;a>e&&(d=b.render.queue[e]);e++)c=d.generate(),typeof d.callback==typeof Function&&d.callback(c),b.graphs.push(c);b.render.queue.splice(0,e),b.render.queue.length?setTimeout(arguments.callee,0):(b.dispatch.render_end(),b.render.active=!1)},0)},b.render.active=!1,b.render.queue=[],b.addGraph=function(a){typeof arguments[0]==typeof Function&&(a={generate:arguments[0],callback:arguments[1]}),b.render.queue.push(a),b.render.active||b.render()},b.interactiveGuideline=function(){"use strict";function c(m){m.each(function(m){function n(){var b=a.mouse(this),e=b[0],f=b[1],j=!0,k=!1;if(l&&(e=a.event.offsetX,f=a.event.offsetY,"svg"!==a.event.target.tagName&&(j=!1),a.event.target.className.baseVal.match("nv-legend")&&(k=!0)),j&&(e-=g.left,f-=g.top),0>e||0>f||e>p||f>q||a.event.relatedTarget&&void 0===a.event.relatedTarget.ownerSVGElement||k){if(l&&a.event.relatedTarget&&void 0===a.event.relatedTarget.ownerSVGElement&&a.event.relatedTarget.className.match(d.nvPointerEventsClass))return;return i.elementMouseout({mouseX:e,mouseY:f}),void c.renderGuideLine(null)}var m=h.invert(e);i.elementMousemove({mouseX:e,mouseY:f,pointXValue:m}),"dblclick"===a.event.type&&i.elementDblclick({mouseX:e,mouseY:f,pointXValue:m}),"click"===a.event.type&&i.elementClick({mouseX:e,mouseY:f,pointXValue:m})}var o=a.select(this),p=e||960,q=f||400,r=o.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([m]),s=r.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");s.append("g").attr("class","nv-interactiveGuideLine"),k&&(k.on("mousemove",n,!0).on("mouseout",n,!0).on("dblclick",n).on("click",n),c.renderGuideLine=function(a){if(j){var c=r.select(".nv-interactiveGuideLine").selectAll("line").data(null!=a?[b.utils.NaNtoZero(a)]:[],String);c.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",q).attr("y2",0),c.exit().remove()}})})}var d=b.models.tooltip(),e=null,f=null,g={left:0,top:0},h=a.scale.linear(),i=(a.scale.linear(),a.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick")),j=!0,k=null,l="ActiveXObject"in window;return c.dispatch=i,c.tooltip=d,c.margin=function(a){return arguments.length?(g.top="undefined"!=typeof a.top?a.top:g.top,g.left="undefined"!=typeof a.left?a.left:g.left,c):g},c.width=function(a){return arguments.length?(e=a,c):e},c.height=function(a){return arguments.length?(f=a,c):f},c.xScale=function(a){return arguments.length?(h=a,c):h},c.showGuideLine=function(a){return arguments.length?(j=a,c):j},c.svgContainer=function(a){return arguments.length?(k=a,c):k},c},b.interactiveBisect=function(b,c,d){"use strict";if(!(b instanceof Array))return null;"function"!=typeof d&&(d=function(a){return a.x});var e=a.bisector(d).left,f=a.max([0,e(b,c)-1]),g=d(b[f],f);if("undefined"==typeof g&&(g=f),g===c)return f;var h=a.min([f+1,b.length-1]),i=d(b[h],h);return"undefined"==typeof i&&(i=h),Math.abs(i-c)>=Math.abs(g-c)?f:h},b.nearestValueIndex=function(a,b,c){"use strict";var d=1/0,e=null;return a.forEach(function(a,f){var g=Math.abs(b-a);d>=g&&c>g&&(d=g,e=f)}),e},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function c(){if(m){var b=a.select(m);"svg"!==b.node().tagName&&(b=b.select("svg"));var c=b.node()?b.attr("viewBox"):null;if(c){c=c.split(" ");var d=parseInt(b.style("width"))/c[2];o.left=o.left*d,o.top=o.top*d}}}function d(b){var c;c=a.select(m?m:"body");var d=c.select(".nvtooltip");return null===d.node()&&(d=c.append("div").attr("class","nvtooltip "+(l?l:"xy-tooltip")).attr("id",q)),d.node().innerHTML=b,d.style("top",0).style("left",0).style("opacity",0),d.selectAll("div, table, td, tr").classed(r,!0),d.classed(r,!0),d.node()}function e(){if(p&&v(g)){c();var a=o.left,f=null!=k?k:o.top,l=d(u(g));if(n=l,m){var q=m.getElementsByTagName("svg")[0],r=(q?q.getBoundingClientRect():m.getBoundingClientRect(),{left:0,top:0});if(q){var s=q.getBoundingClientRect(),t=m.getBoundingClientRect(),w=s.top;if(0>w){var x=m.getBoundingClientRect();w=Math.abs(w)>x.height?0:w}r.top=Math.abs(w-t.top),r.left=Math.abs(s.left-t.left)}a+=m.offsetLeft+r.left-2*m.scrollLeft,f+=m.offsetTop+r.top-2*m.scrollTop}return j&&j>0&&(f=Math.floor(f/j)*j),b.tooltip.calcTooltipPosition([a,f],h,i,l),e}}var f=null,g=null,h="w",i=50,j=25,k=null,l=null,m=null,n=null,o={left:null,top:null},p=!0,q="nvtooltip-"+Math.floor(1e5*Math.random()),r="nv-pointer-events-none",s=function(a){return a},t=function(a){return a},u=function(b){if(null!=f)return f;if(null==b)return"";var c=a.select(document.createElement("table")),d=c.selectAll("thead").data([b]).enter().append("thead");d.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(t(b.value));var e=c.selectAll("tbody").data([b]).enter().append("tbody"),g=e.selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});g.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color}),g.append("td").classed("key",!0).html(function(a){return a.key}),g.append("td").classed("value",!0).html(function(a,b){return s(a.value,b)}),g.selectAll("td").each(function(b){if(b.highlight){var c=a.scale.linear().domain([0,1]).range(["#fff",b.color]),d=.6;a.select(this).style("border-bottom-color",c(d)).style("border-top-color",c(d))}});var h=c.node().outerHTML;return void 0!==b.footer&&(h+="<div class='footer'>"+b.footer+"</div>"),h},v=function(a){return a&&a.series&&a.series.length>0?!0:!1};return e.nvPointerEventsClass=r,e.content=function(a){return arguments.length?(f=a,e):f},e.tooltipElem=function(){return n},e.contentGenerator=function(a){return arguments.length?("function"==typeof a&&(u=a),e):u},e.data=function(a){return arguments.length?(g=a,e):g},e.gravity=function(a){return arguments.length?(h=a,e):h},e.distance=function(a){return arguments.length?(i=a,e):i},e.snapDistance=function(a){return arguments.length?(j=a,e):j},e.classes=function(a){return arguments.length?(l=a,e):l},e.chartContainer=function(a){return arguments.length?(m=a,e):m},e.position=function(a){return arguments.length?(o.left="undefined"!=typeof a.left?a.left:o.left,o.top="undefined"!=typeof a.top?a.top:o.top,e):o},e.fixedTop=function(a){return arguments.length?(k=a,e):k},e.enabled=function(a){return arguments.length?(p=a,e):p},e.valueFormatter=function(a){return arguments.length?("function"==typeof a&&(s=a),e):s},e.headerFormatter=function(a){return arguments.length?("function"==typeof a&&(t=a),e):t},e.id=function(){return q},e},b.tooltip.show=function(a,c,d,e,f,g){var h=document.createElement("div");h.className="nvtooltip "+(g?g:"xy-tooltip");var i=f;(!f||f.tagName.match(/g|svg/i))&&(i=document.getElementsByTagName("body")[0]),h.style.left=0,h.style.top=0,h.style.opacity=0,"string"!=typeof c?h.appendChild(c):h.innerHTML=c,i.appendChild(h),f&&(a[0]=a[0]-f.scrollLeft,a[1]=a[1]-f.scrollTop),b.tooltip.calcTooltipPosition(a,d,e,h)},b.tooltip.findFirstNonSVGParent=function(a){for(;null!==a.tagName.match(/^g|svg$/i);)a=a.parentNode;return a},b.tooltip.findTotalOffsetTop=function(a,b){var c=b;do isNaN(a.offsetTop)||(c+=a.offsetTop);while(a=a.offsetParent);return c},b.tooltip.findTotalOffsetLeft=function(a,b){var c=b;do isNaN(a.offsetLeft)||(c+=a.offsetLeft);while(a=a.offsetParent);return c},b.tooltip.calcTooltipPosition=function(a,c,d,e){var f,g,h=parseInt(e.offsetHeight),i=parseInt(e.offsetWidth),j=b.utils.windowSize().width,k=b.utils.windowSize().height,l=window.pageYOffset,m=window.pageXOffset;k=window.innerWidth>=document.body.scrollWidth?k:k-16,j=window.innerHeight>=document.body.scrollHeight?j:j-16,c=c||"s",d=d||20;var n=function(a){return b.tooltip.findTotalOffsetTop(a,g)},o=function(a){return b.tooltip.findTotalOffsetLeft(a,f)};switch(c){case"e":f=a[0]-i-d,g=a[1]-h/2;var p=o(e),q=n(e);m>p&&(f=a[0]+d>m?a[0]+d:m-p+f),l>q&&(g=l-q+g),q+h>l+k&&(g=l+k-q+g-h);break;case"w":f=a[0]+d,g=a[1]-h/2;var p=o(e),q=n(e);p+i>j&&(f=a[0]-i-d),l>q&&(g=l+5),q+h>l+k&&(g=l+k-q+g-h);break;case"n":f=a[0]-i/2-5,g=a[1]+d;var p=o(e),q=n(e);m>p&&(f=m+5),p+i>j&&(f=f-i/2+5),q+h>l+k&&(g=l+k-q+g-h);break;case"s":f=a[0]-i/2,g=a[1]-h-d;var p=o(e),q=n(e);m>p&&(f=m+5),p+i>j&&(f=f-i/2+5),l>q&&(g=l);break;case"none":f=a[0],g=a[1]-d;var p=o(e),q=n(e)}return e.style.left=f+"px",e.style.top=g+"px",e.style.opacity=1,e.style.position="absolute",e},b.tooltip.cleanup=function(){for(var a=document.getElementsByClassName("nvtooltip"),b=[];a.length;)b.push(a[0]),a[0].style.transitionDelay="0 !important",a[0].style.opacity=0,a[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;b.length;){var a=b.pop();a.parentNode.removeChild(a)}},500)}}(),b.utils.windowSize=function(){var a={width:640,height:480};return document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(a.width=window.innerWidth,a.height=window.innerHeight),a},b.utils.windowResize=function(a){return window.addEventListener?window.addEventListener("resize",a):b.log("ERROR: Failed to bind to window.resize with: ",a),{callback:a,clear:function(){window.removeEventListener("resize",a)}}},b.utils.getColor=function(a){return arguments.length&&a instanceof Array?function(b,c){return b.color||a[c%a.length]}:b.utils.defaultColor()},b.utils.getColor=function(a){return arguments.length?"[object Array]"===Object.prototype.toString.call(a)?function(b,c){return b.color||a[c%a.length]}:a:b.utils.defaultColor()},b.utils.defaultColor=function(){var b=a.scale.category20().range();return function(a,c){return a.color||b[c%b.length]}},b.utils.customTheme=function(b,c,d){c=c||function(a){return a.key},d=d||a.scale.category20().range();var e=d.length;return function(a){var f=c(a);return"function"==typeof b[f]?b[f]():void 0!==b[f]?b[f]:(e||(e=d.length),e-=1,d[e])}},b.utils.pjax=function(c,d){var e=function(e){a.html(e,function(e){var f=a.select(d).node();f.parentNode.replaceChild(a.select(e).select(d).node(),f),b.utils.pjax(c,d)})};a.selectAll(c).on("click",function(){history.pushState(this.href,this.textContent,this.href),e(this.href),a.event.preventDefault()}),a.select(window).on("popstate",function(){a.event.state&&e(a.event.state)})},b.utils.calcApproxTextWidth=function(a){if("function"==typeof a.style&&"function"==typeof a.text){var b=parseInt(a.style("font-size").replace("px","")),c=a.text().length;return c*b*.5}return 0},b.utils.NaNtoZero=function(a){return"number"!=typeof a||isNaN(a)||null===a||1/0===a||a===-1/0?0:a},a.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)},b.utils.renderWatch=function(a,c){if(!(this instanceof b.utils.renderWatch))return new b.utils.renderWatch(a,c);var d=void 0!==c?c:250,e=[],f=this;this.models=function(a){return a=[].slice.call(arguments,0),a.forEach(function(a){a.__rendered=!1,function(a){a.dispatch.on("renderEnd",function(){a.__rendered=!0,f.renderEnd("model")})}(a),e.indexOf(a)<0&&e.push(a)}),this},this.reset=function(a){void 0!==a&&(d=a),e=[]},this.transition=function(a,b,c){if(b=arguments.length>1?[].slice.call(arguments,1):[],c=b.length>1?b.pop():void 0!==d?d:250,a.__rendered=!1,e.indexOf(a)<0&&e.push(a),0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;a.__rendered=0===a.length?!0:a.every(function(a){return!a.length})?!0:!1;var g=0;return a.transition().duration(c).each(function(){++g}).each("end",function(){0===--g&&(a.__rendered=!0,f.renderEnd.apply(this,b))})},this.renderEnd=function(){e.every(function(a){return a.__rendered})&&(e.forEach(function(a){a.__rendered=!1}),a.renderEnd.apply(this,arguments))}},b.utils.deepExtend=function(a){var c=arguments.length>1?[].slice.call(arguments,1):[];c.forEach(function(c){for(key in c){var d=a[key]instanceof Array,e="object"==typeof a[key],f="object"==typeof c[key];e&&!d&&f?b.utils.deepExtend(a[key],c[key]):a[key]=c[key]}})},b.utils.state=function(){if(!(this instanceof b.utils.state))return new b.utils.state;var c={},d=function(){},e=function(){return{}},f=null,g=null;this.dispatch=a.dispatch("change","set"),this.dispatch.on("set",function(a){d(a,!0)}),this.getter=function(a){return e=a,this},this.setter=function(a,b){return b||(b=function(){}),d=function(c,d){a(c),d&&b()},this},this.init=function(a){f=f||{},b.utils.deepExtend(f,a)};var h=function(){var a=e();if(JSON.stringify(a)===JSON.stringify(c))return!1;for(var b in a)void 0===c[b]&&(c[b]={}),c[b]=a[b],g=!0;return!0};this.update=function(){f&&(d(f,!1),f=null),h.call(this)&&this.dispatch.change(c)}},b.utils.optionsFunc=function(c){return b.deprecated("nv.utils.optionsFunc"),c&&a.map(c).forEach(function(a,b){"function"==typeof this[a]&&this[a](b)}.bind(this)),this},b.utils.calcTicksX=function(a,c){var d=1,e=0;for(e;e<c.length;e+=1){var f=c[e]&&c[e].values?c[e].values.length:0;d=f>d?f:d}return b.log("Requested number of ticks: ",a),b.log("Calculated max values to be: ",d),a=a>d?a=d-1:a,a=1>a?1:a,a=Math.floor(a),b.log("Calculating tick count as: ",a),a},b.utils.calcTicksY=function(a,c){return b.utils.calcTicksX(a,c)},b.utils.initOption=function(a,b){a[b]=function(c){return arguments.length?(a._options[b]=c,a):a._options[b]}},b.utils.initOptions=function(a){var c=Object.getOwnPropertyNames(a._options);for(var d in c)b.utils.initOption(a,c[d])},b.utils.inheritOptions=function(b,c){var d=Object.getOwnPropertyNames(c._options);d.unshift(c),d.unshift(b),a.rebind.apply(this,d)},b.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})},b.models.axis=function(){"use strict";function c(g){return u.reset(),g.each(function(c){var g=a.select(this);b.utils.initSVG(g);var r=g.selectAll("g.nv-wrap.nv-axis").data([c]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),v=(s.append("g"),r.select("g"));null!==p?d.ticks(p):("top"==d.orient()||"bottom"==d.orient())&&d.ticks(Math.abs(h.range()[1]-h.range()[0])/100),v.watchTransition(u,"axis").call(d),t=t||d.scale();var w=d.tickFormat();null==w&&(w=t.tickFormat());var x=v.selectAll("text.nv-axislabel").data([i||null]);switch(x.exit().remove(),d.orient()){case"top":x.enter().append("text").attr("class","nv-axislabel");var y;if(y=h.range().length<2?0:2===h.range().length?h.range()[1]:h.range()[h.range().length-1]+(h.range()[1]-h.range()[0]),x.attr("text-anchor","middle").attr("y",0).attr("x",y/2),j){var z=r.selectAll("g.nv-axisMaxMin").data(h.domain());z.enter().append("g").attr("class","nv-axisMaxMin").append("text"),z.exit().remove(),z.attr("transform",function(a){return"translate("+h(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-d.tickPadding()).attr("text-anchor","middle").text(function(a){var b=w(a);return(""+b).match("NaN")?"":b}),z.watchTransition(u,"min-max top").attr("transform",function(a,b){return"translate("+h.range()[b]+",0)"})}break;case"bottom":var A=q+36,B=30,C=v.selectAll("g").select("text");if(l%360){C.each(function(){var a=this.getBoundingClientRect().width;a>B&&(B=a)});var D=Math.abs(Math.sin(l*Math.PI/180)),A=(D?D*B:B)+30;C.attr("transform",function(){return"rotate("+l+" 0,0)"}).style("text-anchor",l%360>0?"start":"end")}x.enter().append("text").attr("class","nv-axislabel");var y;if(y=h.range().length<2?0:2===h.range().length?h.range()[1]:h.range()[h.range().length-1]+(h.range()[1]-h.range()[0]),x.attr("text-anchor","middle").attr("y",A).attr("x",y/2),j){var z=r.selectAll("g.nv-axisMaxMin").data([h.domain()[0],h.domain()[h.domain().length-1]]);z.enter().append("g").attr("class","nv-axisMaxMin").append("text"),z.exit().remove(),z.attr("transform",function(a){return"translate("+(h(a)+(o?h.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",d.tickPadding()).attr("transform",function(){return"rotate("+l+" 0,0)"}).style("text-anchor",l?l%360>0?"start":"end":"middle").text(function(a){var b=w(a);return(""+b).match("NaN")?"":b}),z.watchTransition(u,"min-max bottom").attr("transform",function(a){return"translate("+(h(a)+(o?h.rangeBand()/2:0))+",0)"})}n&&C.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case"right":if(x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",m?"middle":"begin").attr("transform",m?"rotate(90)":"").attr("y",m?-Math.max(e.right,f)+12:-10).attr("x",m?h.range()[0]/2:d.tickPadding()),j){var z=r.selectAll("g.nv-axisMaxMin").data(h.domain());z.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),z.exit().remove(),z.attr("transform",function(a){return"translate(0,"+h(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",d.tickPadding()).style("text-anchor","start").text(function(a){var b=w(a);return(""+b).match("NaN")?"":b}),z.watchTransition(u,"min-max right").attr("transform",function(a,b){return"translate(0,"+h.range()[b]+")"}).select("text").style("opacity",1)}break;case"left":if(x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",m?"middle":"end").attr("transform",m?"rotate(-90)":"").attr("y",m?-Math.max(e.left,f)+25-(q||0):-10).attr("x",m?-h.range()[0]/2:-d.tickPadding()),j){var z=r.selectAll("g.nv-axisMaxMin").data(h.domain());z.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),z.exit().remove(),z.attr("transform",function(a){return"translate(0,"+t(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-d.tickPadding()).attr("text-anchor","end").text(function(a){var b=w(a);return(""+b).match("NaN")?"":b}),z.watchTransition(u,"min-max right").attr("transform",function(a,b){return"translate(0,"+h.range()[b]+")"}).select("text").style("opacity",1)}}if(x.text(function(a){return a}),!j||"left"!==d.orient()&&"right"!==d.orient()||(v.selectAll("g").each(function(b){a.select(this).select("text").attr("opacity",1),(h(b)<h.range()[1]+10||h(b)>h.range()[0]-10)&&((b>1e-10||-1e-10>b)&&a.select(this).attr("opacity",0),a.select(this).select("text").attr("opacity",0))}),h.domain()[0]==h.domain()[1]&&0==h.domain()[0]&&r.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1})),j&&("top"===d.orient()||"bottom"===d.orient())){var E=[];r.selectAll("g.nv-axisMaxMin").each(function(a,b){try{E.push(b?h(a)-this.getBoundingClientRect().width-4:h(a)+this.getBoundingClientRect().width+4)}catch(c){E.push(b?h(a)-4:h(a)+4)}}),v.selectAll("g").each(function(b){(h(b)<E[0]||h(b)>E[1])&&(b>1e-10||-1e-10>b?a.select(this).remove():a.select(this).select("text").remove())})}k&&v.selectAll(".tick").filter(function(){return!parseFloat(Math.round(1e5*this.__data__)/1e6)&&void 0!==this.__data__}).classed("zero",!0),t=h.copy()}),u.renderEnd("axis immediate"),c}var d=a.svg.axis(),e={top:0,right:0,bottom:0,left:0},f=75,g=60,h=a.scale.linear(),i=null,j=!0,k=!0,l=0,m=!0,n=!1,o=!1,p=null,q=0,r=250,s=a.dispatch("renderEnd");d.scale(h).orient("bottom").tickFormat(function(a){return a});var t,u=b.utils.renderWatch(s,r);return c.axis=d,c.dispatch=s,a.rebind(c,d,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),a.rebind(c,h,"domain","range","rangeBand","rangeBands"),c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(e.top="undefined"!=typeof a.top?a.top:e.top,e.right="undefined"!=typeof a.right?a.right:e.right,e.bottom="undefined"!=typeof a.bottom?a.bottom:e.bottom,e.left="undefined"!=typeof a.left?a.left:e.left,c):e},c.width=function(a){return arguments.length?(f=a,c):f},c.ticks=function(a){return arguments.length?(p=a,c):p},c.height=function(a){return arguments.length?(g=a,c):g},c.axisLabel=function(a){return arguments.length?(i=a,c):i},c.showMaxMin=function(a){return arguments.length?(j=a,c):j},c.highlightZero=function(a){return arguments.length?(k=a,c):k},c.scale=function(b){return arguments.length?(h=b,d.scale(h),o="function"==typeof h.rangeBands,a.rebind(c,h,"domain","range","rangeBand","rangeBands"),c):h},c.rotateYLabel=function(a){return arguments.length?(m=a,c):m},c.rotateLabels=function(a){return arguments.length?(l=a,c):l},c.staggerLabels=function(a){return arguments.length?(n=a,c):n},c.axisLabelDistance=function(a){return arguments.length?(q=a,c):q},c.duration=function(a){return arguments.length?(r=a,u.reset(r),c):r},c},b.models.pie=function(){"use strict";function c(l){return B.reset(),l.each(function(c){function l(b){b.endAngle=isNaN(b.endAngle)?0:b.endAngle,b.startAngle=isNaN(b.startAngle)?0:b.startAngle,s||(b.innerRadius=0);var c=a.interpolate(this._current,b);return this._current=c(0),function(a){return M(c(a))}}var C=f-e.left-e.right,D=g-e.top-e.bottom,E=Math.min(C,D)/2,F=E-E/5,G=a.select(this);b.utils.initSVG(G);var H=G.selectAll(".nv-wrap.nv-pie").data(c),I=H.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+j),J=I.append("g"),K=H.select("g"),L=J.append("g").attr("class","nv-pie");J.append("g").attr("class","nv-pieLabels"),H.attr("transform","translate("+e.left+","+e.top+")"),K.select(".nv-pie").attr("transform","translate("+C/2+","+D/2+")"),K.select(".nv-pieLabels").attr("transform","translate("+C/2+","+D/2+")"),G.on("click",function(b,c){A.chartClick({data:b,index:c,pos:a.event,id:j})});var M=a.svg.arc().outerRadius(F),N=a.svg.arc().outerRadius(F+5);x&&(M.startAngle(x),N.startAngle(x)),y&&(M.endAngle(y),N.endAngle(y)),s&&(M.innerRadius(E*z),N.innerRadius(E*z));var O=a.layout.pie().sort(null).value(function(a){return a.disabled?0:i(a)});if(s&&t){var P=L.append("g").attr("class","nv-pie");P.append("text").style("text-anchor","middle").attr("class","nv-pie-title").text(function(){return t}).attr("dy","0.35em").attr("transform",function(){return"translate(0, "+v+")"})}var Q=H.select(".nv-pie").selectAll(".nv-slice").data(O),R=H.select(".nv-pieLabels").selectAll(".nv-label").data(O);Q.exit().remove(),R.exit().remove();var S=Q.enter().append("g");S.attr("class","nv-slice"),S.on("mouseover",function(b,c){a.select(this).classed("hover",!0),u&&a.select(this).select("path").transition().duration(70).attr("d",N),A.elementMouseover({label:h(b.data),value:i(b.data),point:b.data,pointIndex:c,pos:[a.event.pageX,a.event.pageY],id:j,color:a.select(this).style("fill")})}),S.on("mouseout",function(b,c){a.select(this).classed("hover",!1),u&&a.select(this).select("path").transition().duration(50).attr("d",M),A.elementMouseout({label:h(b.data),value:i(b.data),point:b.data,index:c,id:j})}),S.on("click",function(b,c){A.elementClick({label:h(b.data),value:i(b.data),point:b.data,index:c,pos:a.event,id:j}),a.event.stopPropagation()}),S.on("dblclick",function(b,c){A.elementDblClick({label:h(b.data),value:i(b.data),point:b.data,index:c,pos:a.event,id:j}),a.event.stopPropagation()}),Q.attr("fill",function(a,b){return k(a,b)}),Q.attr("stroke",function(a,b){return k(a,b)});S.append("path").each(function(a){this._current=a});if(Q.select("path").transition().attr("d",M).attrTween("d",l),n){var T=a.svg.arc().innerRadius(0);if(o)var T=M;p&&(T=a.svg.arc().outerRadius(M.outerRadius())),R.enter().append("g").classed("nv-label",!0).each(function(b){var c=a.select(this);c.attr("transform",function(a){if(w){a.outerRadius=F+10,a.innerRadius=F+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?b-=90:b+=90,"translate("+T.centroid(a)+") rotate("+b+")"}return a.outerRadius=E+10,a.innerRadius=E+15,"translate("+T.centroid(a)+")"}),c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),c.append("text").style("text-anchor",w?(b.startAngle+b.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var U={},V=14,W=140,X=function(a){return Math.floor(a[0]/W)*W+","+Math.floor(a[1]/V)*V};R.watchTransition(B,"pie labels").attr("transform",function(a){if(w){a.outerRadius=F+10,a.innerRadius=F+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?b-=90:b+=90,"translate("+T.centroid(a)+") rotate("+b+")"}a.outerRadius=E+10,a.innerRadius=E+15;var c=T.centroid(a);if(a.value){var d=X(c);U[d]&&(c[1]-=V),U[X(c)]=!0}return"translate("+c+")"}),R.select(".nv-label text").style("text-anchor",w?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(a){var b=(a.endAngle-a.startAngle)/(2*Math.PI),c={key:h(a.data),value:i(a.data),percent:m(b)};return a.value&&b>r?c[q]:""})}}),B.renderEnd("pie immediate"),c}var e={top:0,right:0,bottom:0,left:0},f=500,g=500,h=function(a){return a.x},i=function(a){return a.y},j=Math.floor(1e4*Math.random()),k=b.utils.defaultColor(),l=a.format(",.2f"),m=a.format("%"),n=!0,o=!0,p=!1,q="key",r=.02,s=!1,t=!1,u=!0,v=0,w=!1,x=!1,y=!1,z=.5,A=a.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),B=b.utils.renderWatch(A);return c.dispatch=A,c.options=b.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},showLabels:{get:function(){return n},set:function(a){n=a}},title:{get:function(){return t},set:function(a){t=a}},titleOffset:{get:function(){return v},set:function(a){v=a}},labelThreshold:{get:function(){return r},set:function(a){r=a}},labelFormat:{get:function(){return m},set:function(a){m=a}},valueFormat:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return h},set:function(a){h=a}},id:{get:function(){return j},set:function(a){j=a}},endAngle:{get:function(){return y},set:function(a){y=a}},startAngle:{get:function(){return x},set:function(a){x=a}},donutRatio:{get:function(){return z},set:function(a){z=a}},pieLabelsOutside:{get:function(){return o},set:function(a){o=a}},donutLabelsOutside:{get:function(){return p},set:function(a){p=a}},labelSunbeamLayout:{get:function(){return w},set:function(a){w=a}},donut:{get:function(){return s},set:function(a){s=a}},growOnHover:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return e},set:function(a){e.top="undefined"!=typeof a.top?a.top:e.top,e.right="undefined"!=typeof a.right?a.right:e.right,e.bottom="undefined"!=typeof a.bottom?a.bottom:e.bottom,e.left="undefined"!=typeof a.left?a.left:e.left}},y:{get:function(){return i},set:function(b){i=a.functor(b)}},color:{get:function(){return k},set:function(a){k=b.utils.getColor(a)}},labelType:{get:function(){return q},set:function(a){q=a||"key"}}}),b.utils.initOptions(c),c},b.models.distribution=function(){"use strict";function c(l){return n.reset(),l.each(function(c){var l=(f-("x"===h?e.left+e.right:e.top+e.bottom),"x"==h?"y":"x"),m=a.select(this);b.utils.initSVG(m),d=d||k;var o=m.selectAll("g.nv-distribution").data([c]),p=o.enter().append("g").attr("class","nvd3 nv-distribution"),q=(p.append("g"),o.select("g"));o.attr("transform","translate("+e.left+","+e.top+")");var r=q.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});r.enter().append("g"),r.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return j(a,b)});var s=r.selectAll("line.nv-dist"+h).data(function(a){return a.values});s.enter().append("line").attr(h+"1",function(a,b){return d(i(a,b))}).attr(h+"2",function(a,b){return d(i(a,b))}),n.transition(r.exit().selectAll("line.nv-dist"+h),"dist exit").attr(h+"1",function(a,b){return k(i(a,b))}).attr(h+"2",function(a,b){return k(i(a,b))}).style("stroke-opacity",0).remove(),s.attr("class",function(a,b){return"nv-dist"+h+" nv-dist"+h+"-"+b}).attr(l+"1",0).attr(l+"2",g),n.transition(s,"dist").attr(h+"1",function(a,b){return k(i(a,b))}).attr(h+"2",function(a,b){return k(i(a,b))}),d=k.copy()}),n.renderEnd("distribution immediate"),c}var d,e={top:0,right:0,bottom:0,left:0},f=400,g=8,h="x",i=function(a){return a[h]},j=b.utils.defaultColor(),k=a.scale.linear(),l=250,m=a.dispatch("renderEnd"),n=b.utils.renderWatch(m,l);return c.options=b.utils.optionsFunc.bind(c),c.dispatch=m,c.margin=function(a){return arguments.length?(e.top="undefined"!=typeof a.top?a.top:e.top,e.right="undefined"!=typeof a.right?a.right:e.right,e.bottom="undefined"!=typeof a.bottom?a.bottom:e.bottom,e.left="undefined"!=typeof a.left?a.left:e.left,c):e},c.width=function(a){return arguments.length?(f=a,c):f},c.axis=function(a){return arguments.length?(h=a,c):h},c.size=function(a){return arguments.length?(g=a,c):g},c.getData=function(b){return arguments.length?(i=a.functor(b),c):i},c.scale=function(a){return arguments.length?(k=a,c):k},c.color=function(a){return arguments.length?(j=b.utils.getColor(a),c):j},c.duration=function(a){return arguments.length?(l=a,n.reset(l),c):l},c},b.models.legend=function(){"use strict";function c(b){return b.each(function(b){var c=(e-d.left-d.right,a.select(this)),j=c.selectAll("g.nv-legend").data([b]);j.enter().append("g").attr("class","nvd3 nv-legend").append("g");var k=j.select("g"),m=k.selectAll(".nv-series").data(function(a){return a}),o=m.enter().append("g").attr("class","nv-series").on("click",function(a,c){n.legendClick(a,c),l&&(a.disabled=!a.disabled,b.every(function(a){return a.disabled})&&b.forEach(function(a){a.disabled=!1})),n.stateChange({disabled:b.map(function(a){return!!a.disabled})})}).on("dblclick",function(a,c){n.legendDblclick(a,c),l&&(b.forEach(function(a){a.disabled=!0}),a.disabled=!1,n.stateChange({disabled:b.map(function(a){return!!a.disabled})}))});o.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),o.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx",function(a){return a.platform?28:10}),o.append("text").attr("text-anchor","start").attr("class","nv-legend-platform").attr("dy","6").attr("dx","10"),o.append("svg:path").attr("d","m13.44044,0c-4.57319,3.46106 -8.95912,8.09112 -8.95912,8.09112l-3.16094,-2.84112l-1.32037,1.34488c1.29894,1.22106 4.30894,4.44631 5.327,5.65512c2.86563,-4.78756 5.84456,-8.358 8.673,-11.62262l-0.55956,-0.62738").attr("transform","translate(-5, -8)").attr("class","nv-series-tick"),m.classed("disabled",function(a){return a.disabled}),m.exit().remove(),m.style("fill",function(a,b){return a.color||i(a,b)}),m.select("circle").style("stroke",function(a,b){return a.color||i(a,b)}),m.select(".nv-legend-text").text(g),m.select(".nv-legend-platform").text(h);var p,q=5,r=5;m.attr("transform",function(b){var c=b.platform?60:40,d=a.select(this).select("text").node().getComputedTextLength()+c;return p=r,p+d>e-30&&(r=p=5,q+=20),r+=d,"translate("+p+","+q+")"}),f=d.top+d.bottom+q+15}),c}var d={top:5,right:0,bottom:5,left:0},e=400,f=20,g=function(a){return a.key
},h=function(a){var b;return"android"===a.platform?b="G":"ios"===a.platform&&(b="D"),"web"===a.platform&&(b="b"),b},i=b.utils.defaultColor(),j=!0,k=!0,l=!0,m=!1,n=a.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return c.dispatch=n,c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(d.top="undefined"!=typeof a.top?a.top:d.top,d.right="undefined"!=typeof a.right?a.right:d.right,d.bottom="undefined"!=typeof a.bottom?a.bottom:d.bottom,d.left="undefined"!=typeof a.left?a.left:d.left,c):d},c.width=function(a){return arguments.length?(e=a,c):e},c.height=function(a){return arguments.length?(f=a,c):f},c.key=function(a){return arguments.length?(g=a,c):g},c.color=function(a){return arguments.length?(i=b.utils.getColor(a),c):i},c.align=function(a){return arguments.length?(j=a,c):j},c.rightAlign=function(a){return arguments.length?(k=a,c):k},c.updateState=function(a){return arguments.length?(l=a,c):l},c.radioButtonMode=function(a){return arguments.length?(m=a,c):m},c},b.models.line=function(){"use strict";function c(q){return u.reset(),u.models(f),q.each(function(c){var q=h-g.left-g.right,r=i-g.top-g.bottom,v=a.select(this);b.utils.initSVG(v),d=f.xScale(),e=f.yScale(),s=s||d,t=t||e;var w=v.selectAll("g.nv-wrap.nv-line").data([c]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),y=x.append("defs"),z=x.append("g"),A=w.select("g");z.append("g").attr("class","nv-groups"),z.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+g.left+","+g.top+")"),f.width(q).height(r);var B=w.select(".nv-scatterWrap");B.call(f),y.append("clipPath").attr("id","nv-edge-clip-"+f.id()).append("rect"),w.select("#nv-edge-clip-"+f.id()+" rect").attr("width",q).attr("height",r>0?r:0),A.attr("clip-path",o?"url(#nv-edge-clip-"+f.id()+")":""),B.attr("clip-path",o?"url(#nv-edge-clip-"+f.id()+")":"");var C=w.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});C.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),C.exit().remove(),C.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return j(a,b)}).style("stroke",function(a,b){return j(a,b)}),C.watchTransition(u,"line: groups").style("stroke-opacity",1).style("fill-opacity",.5);var D=C.selectAll("path.nv-area").data(function(a){return n(a)?[a]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(c){return a.svg.area().interpolate(p).defined(m).x(function(a,c){return b.utils.NaNtoZero(s(k(a,c)))}).y0(function(a,c){return b.utils.NaNtoZero(t(l(a,c)))}).y1(function(){return t(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[c.values])}),C.exit().selectAll("path.nv-area").remove(),D.watchTransition(u,"line: areaPaths").attr("d",function(c){return a.svg.area().interpolate(p).defined(m).x(function(a,c){return b.utils.NaNtoZero(d(k(a,c)))}).y0(function(a,c){return b.utils.NaNtoZero(e(l(a,c)))}).y1(function(){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[c.values])});var E=C.selectAll("path.nv-line").data(function(a){return[a.values]});E.enter().append("path").attr("class","nv-line").attr("d",a.svg.line().interpolate(p).defined(m).x(function(a,c){return b.utils.NaNtoZero(s(k(a,c)))}).y(function(a,c){return b.utils.NaNtoZero(t(l(a,c)))})),E.watchTransition(u,"line: linePaths").attr("d",a.svg.line().interpolate(p).defined(m).x(function(a,c){return b.utils.NaNtoZero(d(k(a,c)))}).y(function(a,c){return b.utils.NaNtoZero(e(l(a,c)))})),s=d.copy(),t=e.copy()}),u.renderEnd("line immediate"),c}var d,e,f=b.models.scatter(),g={top:0,right:0,bottom:0,left:0},h=960,i=500,j=b.utils.defaultColor(),k=function(a){return a.x},l=function(a){return a.y},m=function(a,b){return!isNaN(l(a,b))&&null!==l(a,b)},n=function(a){return a.area},o=!1,p="linear",q=250,r=a.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");f.size(16).sizeDomain([16,256]);var s,t,u=b.utils.renderWatch(r,q);return c.dispatch=r,c.scatter=f,f.dispatch.on("elementClick",function(){r.elementClick.apply(this,arguments)}),f.dispatch.on("elementMouseover",function(){r.elementMouseover.apply(this,arguments)}),f.dispatch.on("elementMouseout",function(){r.elementMouseout.apply(this,arguments)}),a.rebind(c,f,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(g.top="undefined"!=typeof a.top?a.top:g.top,g.right="undefined"!=typeof a.right?a.right:g.right,g.bottom="undefined"!=typeof a.bottom?a.bottom:g.bottom,g.left="undefined"!=typeof a.left?a.left:g.left,c):g},c.width=function(a){return arguments.length?(h=a,c):h},c.height=function(a){return arguments.length?(i=a,c):i},c.x=function(a){return arguments.length?(k=a,f.x(a),c):k},c.y=function(a){return arguments.length?(l=a,f.y(a),c):l},c.clipEdge=function(a){return arguments.length?(o=a,c):o},c.color=function(a){return arguments.length?(j=b.utils.getColor(a),f.color(j),c):j},c.interpolate=function(a){return arguments.length?(p=a,c):p},c.defined=function(a){return arguments.length?(m=a,c):m},c.isArea=function(b){return arguments.length?(n=a.functor(b),c):n},c.duration=function(a){return arguments.length?(q=a,u.reset(q),f.duration(q),c):q},c},b.models.scatter=function(){"use strict";function c(O){return Q.reset(),O.each(function(c){function O(){if(!x)return!1;var b=a.merge(c.map(function(a,b){return a.values.map(function(a,c){var d=p(a,c),e=q(a,c);return[m(d)+1e-7*Math.random(),n(e)+1e-7*Math.random(),b,c,a]}).filter(function(a,b){return z(a[4],b)})}));if(N===!0){if(D){var d=V.select("defs").selectAll(".nv-point-clips").data([l]).enter();d.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+l);var e=V.select("#nv-points-clip-"+l).selectAll("circle").data(b);e.enter().append("circle").attr("r",E),e.exit().remove(),e.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}),V.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+l+")")}b.length&&(b.push([m.range()[0]-20,n.range()[0]-20,null,null]),b.push([m.range()[1]+20,n.range()[1]+20,null,null]),b.push([m.range()[0]-20,n.range()[0]+20,null,null]),b.push([m.range()[1]+20,n.range()[1]-20,null,null]));var f=a.geom.polygon([[-10,-10],[-10,j+10],[i+10,j+10],[i+10,-10]]),g=a.geom.voronoi(b).map(function(a,c){return{data:f.clip(a),series:b[c][2],point:b[c][3]}}),k=V.select(".nv-point-paths").selectAll("path").data(g);k.enter().append("path").attr("class",function(a,b){return"nv-path-"+b}),k.exit().remove(),k.attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join("L")+"Z":"M 0 0"});var o=function(a,b){if(P)return 0;var d=c[a.series];if("undefined"!=typeof d){var e=d.values[a.point];b({point:e,series:d,pos:[m(p(e,a.point))+h.left,n(q(e,a.point))+h.top],seriesIndex:a.series,pointIndex:a.point})}};k.on("click",function(a){o(a,M.elementClick)}).on("dblclick",function(a){o(a,M.elementDblClick)}).on("mouseover",function(a){o(a,M.elementMouseover)}).on("mouseout",function(a){o(a,M.elementMouseout)})}else V.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,b){if(P||!c[a.series])return 0;var d=c[a.series],e=d.values[b];M.elementClick({point:e,series:d,pos:[m(p(e,b))+h.left,n(q(e,b))+h.top],seriesIndex:a.series,pointIndex:b})}).on("mouseover",function(a,b){if(P||!c[a.series])return 0;var d=c[a.series],e=d.values[b];M.elementMouseover({point:e,series:d,pos:[m(p(e,b))+h.left,n(q(e,b))+h.top],seriesIndex:a.series,pointIndex:b})}).on("mouseout",function(a,b){if(P||!c[a.series])return 0;var d=c[a.series],e=d.values[b];M.elementMouseout({point:e,series:d,seriesIndex:a.series,pointIndex:b})});P=!1}var R=i-h.left-h.right,S=j-h.top-h.bottom,T=a.select(this);b.utils.initSVG(T),c.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var U=F&&G&&J?[]:a.merge(c.map(function(a){return a.values.map(function(a,b){return{x:p(a,b),y:q(a,b),size:r(a,b)}})}));m.domain(F||a.extent(U.map(function(a){return a.x}).concat(u))),m.range(A&&c[0]?H||[(R*B+R)/(2*c[0].values.length),R-R*(1+B)/(2*c[0].values.length)]:H||[0,R]),n.domain(G||a.extent(U.map(function(a){return a.y}).concat(v))).range(I||[S,0]),o.domain(J||a.extent(U.map(function(a){return a.size}).concat(w))).range(K||[16,256]),(m.domain()[0]===m.domain()[1]||n.domain()[0]===n.domain()[1])&&(L=!0),m.domain()[0]===m.domain()[1]&&m.domain(m.domain()[0]?[m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]:[-1,1]),n.domain()[0]===n.domain()[1]&&n.domain(n.domain()[0]?[n.domain()[0]-.01*n.domain()[0],n.domain()[1]+.01*n.domain()[1]]:[-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),isNaN(n.domain()[0])&&n.domain([-1,1]),d=d||m,e=e||n,f=f||o;var V=T.selectAll("g.nv-wrap.nv-scatter").data([c]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+l+(L?" nv-single-point":"")),X=W.append("defs"),Y=W.append("g"),Z=V.select("g");Y.append("g").attr("class","nv-groups"),Y.append("g").attr("class","nv-point-paths"),V.attr("transform","translate("+h.left+","+h.top+")"),X.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),V.select("#nv-edge-clip-"+l+" rect").attr("width",R).attr("height",S>0?S:0),Z.attr("clip-path",C?"url(#nv-edge-clip-"+l+")":""),P=!0;var $=V.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});if($.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),$.exit().remove(),$.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),$.watchTransition(Q,"scatter: groups").style("fill",function(a,b){return k(a,b)}).style("stroke",function(a,b){return k(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5),t){var _=$.selectAll("circle.nv-point").data(function(a){return a.values},y);_.enter().append("circle").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("cx",function(a,c){return b.utils.NaNtoZero(d(p(a,c)))}).attr("cy",function(a,c){return b.utils.NaNtoZero(e(q(a,c)))}).attr("r",function(a,b){return Math.sqrt(o(r(a,b))/Math.PI)}),_.exit().remove(),$.exit().selectAll("path.nv-point").watchTransition(Q,"scatter exit").attr("cx",function(a,c){return b.utils.NaNtoZero(m(p(a,c)))}).attr("cy",function(a,c){return b.utils.NaNtoZero(n(q(a,c)))}).remove(),_.each(function(b,c){a.select(this).classed("nv-point",!0).classed("nv-point-"+c,!0).classed("hover",!1)}),_.watchTransition(Q,"scatter points").attr("cx",function(a,c){return b.utils.NaNtoZero(m(p(a,c)))}).attr("cy",function(a,c){return b.utils.NaNtoZero(n(q(a,c)))}).attr("r",function(a,b){return Math.sqrt(o(r(a,b))/Math.PI)})}else{var _=$.selectAll("path.nv-point").data(function(a){return a.values});_.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a,b){return"translate("+d(p(a,b))+","+e(q(a,b))+")"}).attr("d",a.svg.symbol().type(s).size(function(a,b){return o(r(a,b))})),_.exit().remove(),$.exit().selectAll("path.nv-point").watchTransition(Q,"scatter exit").attr("transform",function(a,b){return"translate("+m(p(a,b))+","+n(q(a,b))+")"}).remove(),_.each(function(b,c){a.select(this).classed("nv-point",!0).classed("nv-point-"+c,!0).classed("hover",!1)}),_.watchTransition(Q,"scatter points").attr("transform",function(a,b){return"translate("+m(p(a,b))+","+n(q(a,b))+")"}).attr("d",a.svg.symbol().type(s).size(function(a,b){return o(r(a,b))}))}clearTimeout(g),g=setTimeout(O,300),d=m.copy(),e=n.copy(),f=o.copy()}),Q.renderEnd("scatter immediate"),c}var d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=960,j=500,k=b.utils.defaultColor(),l=Math.floor(1e5*Math.random()),m=a.scale.linear(),n=a.scale.linear(),o=a.scale.linear(),p=function(a){return a.x},q=function(a){return a.y},r=function(a){return a.size||1},s=function(a){return a.shape||"circle"},t=!0,u=[],v=[],w=[],x=!0,y=null,z=function(a){return!a.notActive},A=!1,B=.1,C=!1,D=!0,E=function(){return 25},F=null,G=null,H=null,I=null,J=null,K=null,L=!1,M=a.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),N=!0,O=250,P=!1,Q=b.utils.renderWatch(M,O);return c.clearHighlights=function(){a.selectAll(".nv-chart-"+l+" .nv-point.hover").classed("hover",!1)},c.highlightPoint=function(b,c,d){a.select(".nv-chart-"+l+" .nv-series-"+b+" .nv-point-"+c).classed("hover",d)},M.on("elementMouseover.point",function(a){x&&c.highlightPoint(a.seriesIndex,a.pointIndex,!0)}),M.on("elementMouseout.point",function(a){x&&c.highlightPoint(a.seriesIndex,a.pointIndex,!1)}),c.dispatch=M,c.options=b.utils.optionsFunc.bind(c),c.x=function(b){return arguments.length?(p=a.functor(b),c):p},c.y=function(b){return arguments.length?(q=a.functor(b),c):q},c.size=function(b){return arguments.length?(r=a.functor(b),c):r},c.margin=function(a){return arguments.length?(h.top="undefined"!=typeof a.top?a.top:h.top,h.right="undefined"!=typeof a.right?a.right:h.right,h.bottom="undefined"!=typeof a.bottom?a.bottom:h.bottom,h.left="undefined"!=typeof a.left?a.left:h.left,c):h},c.width=function(a){return arguments.length?(i=a,c):i},c.height=function(a){return arguments.length?(j=a,c):j},c.xScale=function(a){return arguments.length?(m=a,c):m},c.yScale=function(a){return arguments.length?(n=a,c):n},c.zScale=function(a){return arguments.length?(o=a,c):o},c.xDomain=function(a){return arguments.length?(F=a,c):F},c.yDomain=function(a){return arguments.length?(G=a,c):G},c.sizeDomain=function(a){return arguments.length?(J=a,c):J},c.xRange=function(a){return arguments.length?(H=a,c):H},c.yRange=function(a){return arguments.length?(I=a,c):I},c.sizeRange=function(a){return arguments.length?(K=a,c):K},c.forceX=function(a){return arguments.length?(u=a,c):u},c.forceY=function(a){return arguments.length?(v=a,c):v},c.forceSize=function(a){return arguments.length?(w=a,c):w},c.interactive=function(a){return arguments.length?(x=a,c):x},c.pointKey=function(a){return arguments.length?(y=a,c):y},c.pointActive=function(a){return arguments.length?(z=a,c):z},c.padData=function(a){return arguments.length?(A=a,c):A},c.padDataOuter=function(a){return arguments.length?(B=a,c):B},c.clipEdge=function(a){return arguments.length?(C=a,c):C},c.clipVoronoi=function(a){return arguments.length?(D=a,c):D},c.useVoronoi=function(a){return arguments.length?(N=a,N===!1&&(D=!1),c):N},c.clipRadius=function(a){return arguments.length?(E=a,c):E},c.color=function(a){return arguments.length?(k=b.utils.getColor(a),c):k},c.shape=function(a){return arguments.length?(s=a,c):s},c.onlyCircles=function(a){return arguments.length?(t=a,c):t},c.id=function(a){return arguments.length?(l=a,c):l},c.singlePoint=function(a){return arguments.length?(L=a,c):L},c.duration=function(a){return arguments.length?(O=a,Q.reset(O),c):O},c},b.models.sparkline=function(){"use strict";function c(k){return k.each(function(c){var k=i-h.left-h.right,q=j-h.top-h.bottom,r=a.select(this);b.utils.initSVG(r),l.domain(d||a.extent(c,n)).range(f||[0,k]),m.domain(e||a.extent(c,o)).range(g||[q,0]);{var s=r.selectAll("g.nv-wrap.nv-sparkline").data([c]),t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");t.append("g"),s.select("g")}s.attr("transform","translate("+h.left+","+h.top+")");var u=s.selectAll("path").data(function(a){return[a]});u.enter().append("path"),u.exit().remove(),u.style("stroke",function(a,b){return a.color||p(a,b)}).attr("d",a.svg.line().x(function(a,b){return l(n(a,b))}).y(function(a,b){return m(o(a,b))}));var v=s.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];return c.pointIndex=b,c}return null}var c=a.map(function(a,b){return o(a,b)}),d=b(c.lastIndexOf(m.domain()[1])),e=b(c.indexOf(m.domain()[0])),f=b(c.length-1);return[e,d,f].filter(function(a){return null!=a})});v.enter().append("circle"),v.exit().remove(),v.attr("cx",function(a){return l(n(a,a.pointIndex))}).attr("cy",function(a){return m(o(a,a.pointIndex))}).attr("r",2).attr("class",function(a){return n(a,a.pointIndex)==l.domain()[1]?"nv-point nv-currentValue":o(a,a.pointIndex)==m.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),c}var d,e,f,g,h={top:2,right:0,bottom:2,left:0},i=400,j=32,k=!0,l=a.scale.linear(),m=a.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=b.utils.getColor(["#000"]);return c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(h.top="undefined"!=typeof a.top?a.top:h.top,h.right="undefined"!=typeof a.right?a.right:h.right,h.bottom="undefined"!=typeof a.bottom?a.bottom:h.bottom,h.left="undefined"!=typeof a.left?a.left:h.left,c):h},c.width=function(a){return arguments.length?(i=a,c):i},c.height=function(a){return arguments.length?(j=a,c):j},c.x=function(b){return arguments.length?(n=a.functor(b),c):n},c.y=function(b){return arguments.length?(o=a.functor(b),c):o},c.xScale=function(a){return arguments.length?(l=a,c):l},c.yScale=function(a){return arguments.length?(m=a,c):m},c.xDomain=function(a){return arguments.length?(d=a,c):d},c.yDomain=function(a){return arguments.length?(e=a,c):e},c.xRange=function(a){return arguments.length?(f=a,c):f},c.yRange=function(a){return arguments.length?(g=a,c):g},c.animate=function(a){return arguments.length?(k=a,c):k},c.color=function(a){return arguments.length?(p=b.utils.getColor(a),c):p},c},b.models.doublePie=function(){function c(r){return r.each(function(r){function s(){var b=H.select(".nv-pieWrap").datum([r]);G.append("g").attr("class","nv-pieWrap"),I.append("path").attr("class","nv-arcPathOuter"),I.append("line").attr("class","nv-arcLineOuter"),I.append("text").attr("class","nv-arcTextOuter").text(function(){return"Revenue"}),g.innerRadius(E).outerRadius(E+1).startAngle(305*D).endAngle(335*D),J.select(".nv-arcPathOuter").attr("d",g).style("fill","#8291a1"),J.select(".nv-arcTextOuter").attr("x",-C).attr("y",-x/2.5),J.select(".nv-arcLineOuter").attr("transform",function(a){return"translate("+g.centroid(a)+")"}).attr("x2",-z/10).attr("y2",-z/10),d.width(w).height(x).donutRatio(.6).y(function(a){return a.values[0]}),a.transition(b).call(d)}function u(){var b=H.select(".nv-pieWrapInner").datum([r]);G.append("g").attr("class","nv-pieWrapInner"),I.append("path").attr("class","nv-arcPathInner"),I.append("line").attr("class","nv-arcLineInner"),I.append("text").attr("class","nv-arcTextInner").text(function(){return"Impressions"}),f.donutRatio(.46).y(function(a){return a.values[1]?a.values[1]:a.values[0]}).valueFormat(function(a){return parseInt(a)}).width(z).height(A),b.attr("transform","translate("+w*(1-y)/2+","+x*(1-y)/2+")"),h.innerRadius(E*y).outerRadius(E*y+1).startAngle(20*D).endAngle(60*D),J.select(".nv-arcPathInner").attr("d",g),J.select(".nv-arcTextInner").attr("x",C).attr("y",-x/2.5),J.select(".nv-arcLineInner").attr("transform",function(a){return"translate("+h.centroid(a)+")"}).attr("x2",z/5).attr("y2",-z/5),a.transition(b).call(f)}var v=a.select(this);c.container=this,m={inner:0,outer:0},r.map(function(a){m.inner+=a.values[1],m.outer+=a.values[0]});var w=(j||parseInt(v.style("width"))||960)-i.left,x=(k||parseInt(v.style("height"))||400)-i.bottom,y=.6,z=w*y,A=x*y,B=x/2,C=w/2,D=Math.PI/180,E=B-B/7,F=v.selectAll("g.nv-wrap.nv-pieChart").data([r]),G=F.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),H=F.select("g"),I=G.append("g").attr("class","nv-arcLabels"),J=F.selectAll(".nv-arcLabels").attr("transform","translate("+C+","+B+")");if(G.append("g").attr("class","nv-legendWrap"),n){var K=G.append("text").attr("class","nv-arcChartTitle");K.append("tspan").attr("class","nv-arcChartTitleTop"),K.append("tspan").attr("class","nv-arcChartTitleBotom"),F.select(".nv-arcChartTitle").attr("y",x/2+2);var L=n.split(" ");F.select(".nv-arcChartTitleTop").attr("dy",-5).attr("x",w/2).text(L[0]),F.select(".nv-arcChartTitleBotom").attr("dy",15).attr("x",w/2).text(L[1])}0===m.outer||l||s(),0!==m.inner&&u();var M=F.selectAll(".nv-slice");M.on("mouseover",function(a,e){var f=d.x()(a.data),g=a.value,h=p(f,g,c,a.data.values),i=[0,0];b.tooltip.show(i,h,"s",null,c.container.parentNode),d.dispatch.elementMouseover({point:a.data,pointIndex:l?e:e%(M[0].length/2),pos:i})}),e.dispatch.on("stateChange",function(a){q=a,t.stateChange(q)});var N;d.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)}),d.dispatch.on("elementMouseover",function(a){clearTimeout(N),F.selectAll(".nv-slice").classed("gray",!0),F.selectAll(".nv-pieWrap .nv-slice:nth-of-type("+(a.pointIndex+1)+"), .nv-pieWrapInner .nv-slice:nth-of-type("+(a.pointIndex+1)+")").classed("hovered",!0).classed("gray",!1)}),d.dispatch.on("elementMouseout",function(){clearTimeout(N);var a=F.selectAll(".nv-slice");a.classed("hovered",!1),N=setTimeout(function(){a.classed("gray",!1)},400)}),t.on("changeState",function(a){"undefined"!=typeof a.disabled&&(r.forEach(function(b,c){b.disabled=a.disabled[c]}),q.disabled=a.disabled)}),t.on("tooltipHide",function(){o&&b.tooltip.cleanup()}),e.dispatch.on("stateChange",function(a){q=a,t.stateChange(q)})}),c}var d=b.models.pie(),e=b.models.legend(),f=d,g=a.svg.arc(),h=g,i={top:0,right:0,bottom:0,left:0},j=null,k=null,l=!1,m={},n="",o=!0,p=function(a,b){return"<h3>"+a+"</h3><p>"+b+"</p>"},q={},r=null,s="No Data Available.",t=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState");return c.legend=e,c.dispatch=t,c.pie=d,a.rebind(c,d,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(i.top="undefined"!=typeof a.top?a.top:i.top,i.right="undefined"!=typeof a.right?a.right:i.right,i.bottom="undefined"!=typeof a.bottom?a.bottom:i.bottom,i.left="undefined"!=typeof a.left?a.left:i.left,c):i},c.width=function(a){return arguments.length?(j=a,c):j},c.total=function(a){return arguments.length?(m=a,c):m},c.single=function(a){return arguments.length?(l=a,c):l},c.title=function(a){return arguments.length?(n=a,c):n},c.height=function(a){return arguments.length?(k=a,c):k},c.color=function(a){return arguments.length?(color=b.utils.getColor(a),e.color(color),d.color(color),c):color},c.tooltips=function(a){return arguments.length?(o=a,c):o},c.tooltipContent=function(a){return arguments.length?(p=a,c):p},c.state=function(a){return arguments.length?(q=a,c):q},c.defaultState=function(a){return arguments.length?(r=a,c):r},c.noData=function(a){return arguments.length?(s=a,c):s},c},b.models.lineChart=function(){"use strict";function c(u){return C.reset(),C.models(f),p&&C.models(g),q&&C.models(h),u.each(function(u){var v=a.select(this),C=this;b.utils.initSVG(v);var F=(m||parseInt(v.style("width"))||960)-k.left-k.right,G=(n||parseInt(v.style("height"))||400)-k.top-k.bottom;if(c.update=function(){0===A?v.call(c):v.transition().duration(A).call(c)},c.container=this,w.setter(E(u),c.update).getter(D(u)).update(),w.disabled=u.map(function(a){return!!a.disabled}),!x){var H;x={};for(H in w)x[H]=w[H]instanceof Array?w[H].slice(0):w[H]}if(!(u&&u.length&&u.filter(function(a){return a.values.length}).length)){var I=v.selectAll(".nv-noData").data([y]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",k.left+F/2).attr("y",k.top+G/2).text(function(a){return a}),c}v.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var J=v.selectAll("g.nv-wrap.nv-lineChart").data([u]),K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),L=J.select("g");K.append("rect").style("opacity",0),K.append("g").attr("class","nv-x nv-axis"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-linesWrap"),K.append("g").attr("class","nv-legendWrap"),K.append("g").attr("class","nv-interactive"),L.select("rect").attr("width",F).attr("height",G>0?G:0),o&&(i.width(F),L.select(".nv-legendWrap").datum(u).call(i),k.top!=i.height()&&(k.top=i.height(),G=(n||parseInt(v.style("height"))||400)-k.top-k.bottom),J.select(".nv-legendWrap").attr("transform","translate(0,"+(n-model.legend.height()-20)+")")),J.attr("transform","translate("+k.left+","+k.top+")"),r&&L.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),s&&(j.width(F).height(G).margin({left:k.left,top:k.top}).svgContainer(v).xScale(d),J.select(".nv-interactive").call(j)),f.width(F).height(G).color(u.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!u[b].disabled}));var M=L.select(".nv-linesWrap").datum(u.filter(function(a){return!a.disabled}));M.call(f),p&&(g.scale(d).ticks(b.utils.calcTicksX(F/100,u)).tickSize(-G,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),L.select(".nv-x.nv-axis").call(g)),q&&(h.scale(e).ticks(b.utils.calcTicksY(G/36,u)).tickSize(-F,0),L.select(".nv-y.nv-axis").call(h)),i.dispatch.on("stateChange",function(a){for(var b in a)w[b]=a[b];z.stateChange(w),c.update()}),j.dispatch.on("elementMousemove",function(a){f.clearHighlights();var d,e,i,m=[];if(u.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(g,h){e=b.interactiveBisect(g.values,a.pointXValue,c.x()),f.highlightPoint(h,e,!0);var j=g.values[e];"undefined"!=typeof j&&("undefined"==typeof d&&(d=j),"undefined"==typeof i&&(i=c.xScale()(c.x()(j,e))),m.push({key:g.key,value:c.y()(j,e),color:l(g,g.seriesIndex)}))}),m.length>2){var n=c.yScale().invert(a.mouseY),o=Math.abs(c.yScale().domain()[0]-c.yScale().domain()[1]),p=.03*o,q=b.nearestValueIndex(m.map(function(a){return a.value}),n,p);null!==q&&(m[q].highlight=!0)}var r=g.tickFormat()(c.x()(d,e));j.tooltip.position({left:i+k.left,top:a.mouseY+k.top}).chartContainer(C.parentNode).enabled(t).valueFormatter(function(a){return h.tickFormat()(a)}).data({value:r,series:m})(),j.renderGuideLine(i)}),j.dispatch.on("elementClick",function(a){var d,e=[];u.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(f){var g=b.interactiveBisect(f.values,a.pointXValue,c.x()),h=f.values[g];if("undefined"!=typeof h){"undefined"==typeof d&&(d=c.xScale()(c.x()(h,g)));var i=c.yScale()(c.y()(h,g));e.push({point:h,pointIndex:g,pos:[d,i],seriesIndex:f.seriesIndex,series:f})}}),f.dispatch.elementClick(e)}),j.dispatch.on("elementMouseout",function(){z.tooltipHide(),f.clearHighlights()}),z.on("tooltipShow",function(a){t&&B(a,C.parentNode)}),z.on("changeState",function(a){"undefined"!=typeof a.disabled&&u.length===a.disabled.length&&(u.forEach(function(b,c){b.disabled=a.disabled[c]}),w.disabled=a.disabled),c.update()})}),C.renderEnd("lineChart immediate"),c}var d,e,f=b.models.line(),g=b.models.axis(),h=b.models.axis(),i=b.models.legend(),j=b.interactiveGuideline(),k={top:30,right:20,bottom:50,left:60},l=b.utils.defaultColor(),m=null,n=null,o=!0,p=!0,q=!0,r=!1,s=!1,t=!0,u=210,v=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},w=b.utils.state(),x=null,y="No Data Available.",z=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A=250;g.orient("bottom").tickPadding(7),h.orient(r?"right":"left");var B=function(a,d){var e=a.pos[0]+(d.offsetLeft||0),i=a.pos[1]+(d.offsetTop||0),j=g.tickFormat()(f.x()(a.point,a.pointIndex)),k=h.tickFormat()(f.y()(a.point,a.pointIndex)),l=v(a.series.key,j,k,a,c),m=d.clientWidth-e<u?"e":"w";b.tooltip.show([e,i],l,m,null,d,"nvtooltip-"+m)},C=b.utils.renderWatch(z,A),D=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},E=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};f.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+k.left,a.pos[1]+k.top],z.tooltipShow(a)}),f.dispatch.on("elementMouseout.tooltip",function(a){z.tooltipHide(a)}),z.on("tooltipHide",function(){t&&b.tooltip.cleanup()}),c.dispatch=z,c.lines=f,c.legend=i,c.xAxis=g,c.yAxis=h,c.interactiveLayer=j,c.state=w,a.rebind(c,f,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate","tooltipWidth"),c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(k.top="undefined"!=typeof a.top?a.top:k.top,k.right="undefined"!=typeof a.right?a.right:k.right,k.bottom="undefined"!=typeof a.bottom?a.bottom:k.bottom,k.left="undefined"!=typeof a.left?a.left:k.left,c):k},c.width=function(a){return arguments.length?(m=a,c):m},c.height=function(a){return arguments.length?(n=a,c):n},c.color=function(a){return arguments.length?(l=b.utils.getColor(a),i.color(l),c):l},c.showLegend=function(a){return arguments.length?(o=a,c):o},c.showXAxis=function(a){return arguments.length?(p=a,c):p},c.showYAxis=function(a){return arguments.length?(q=a,c):q},c.rightAlignYAxis=function(a){return arguments.length?(r=a,h.orient(a?"right":"left"),c):r},c.useInteractiveGuideline=function(a){return arguments.length?(s=a,a===!0&&(c.interactive(!1),c.useVoronoi(!1)),c):s},c.tooltips=function(a){return arguments.length?(t=a,c):t},c.tooltipContent=function(a){return arguments.length?(v=a,c):v},c.state=function(a){return b.deprecated("lineChart.state"),arguments.length?(w=a,c):w};for(var F in w)c.state[F]=w[F];return c.defaultState=function(a){return arguments.length?(x=a,c):x},c.noData=function(a){return arguments.length?(y=a,c):y},c.tooltipWidth=function(a){return arguments.length?(u=a,c):u},c.transitionDuration=function(a){return b.deprecated("lineChart.transitionDuration"),c.duration(a)},c.duration=function(a){return arguments.length?(A=a,C.reset(A),f.duration(A),g.duration(A),h.duration(A),c):A},c},b.models.multiBar=function(){"use strict";function c(D){return C.reset(),D.each(function(c){var D=l-k.left-k.right,E=m-k.top-k.bottom,F=a.select(this);b.utils.initSVG(F);x&&c.length&&(x=[{values:c[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]),u&&(c=a.layout.stack().offset(v).values(function(a){return a.values}).y(r)(!c.length&&x?x:c)),c.forEach(function(a,b){a.values.forEach(function(a){a.series=b})}),u&&c[0].values.map(function(a,b){var d=0,e=0;c.map(function(a){var c=a.values[b];c.size=Math.abs(c.y),c.y<0?(c.y1=e,e-=c.size):(c.y1=c.size+d,d+=c.size)})});var G=e&&f?[]:c.map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:r(a,b),y0:a.y0,y1:a.y1}})});n.domain(e||a.merge(G).map(function(a){return a.x})).rangeBands(g||[0,D],A),o.domain(f||a.extent(a.merge(G).map(function(a){return u?a.y>0?a.y1:a.y1+a.y:a.y}).concat(s))).range(h||[E,0]),n.domain()[0]===n.domain()[1]&&n.domain(n.domain()[0]?[n.domain()[0]-.01*n.domain()[0],n.domain()[1]+.01*n.domain()[1]]:[-1,1]),o.domain()[0]===o.domain()[1]&&o.domain(o.domain()[0]?[o.domain()[0]+.01*o.domain()[0],o.domain()[1]-.01*o.domain()[1]]:[-1,1]),i=i||n,j=j||o;var H=F.selectAll("g.nv-wrap.nv-multibar").data([c]),I=H.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),J=I.append("defs"),K=I.append("g"),L=H.select("g");K.append("g").attr("class","nv-groups"),H.attr("transform","translate("+k.left+","+k.top+")"),J.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),H.select("#nv-edge-clip-"+p+" rect").attr("width",D).attr("height",E),L.attr("clip-path",t?"url(#nv-edge-clip-"+p+")":"");var M=H.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var N=C.transition(M.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(250,z)).attr("y",function(a){return j(u?a.y0:0)}).attr("height",0).remove();N.delay&&N.delay(function(a,b){return b*z/c[0].values.length}),M.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return w(a,b)}).style("stroke",function(a,b){return w(a,b)
}),M.style("stroke-opacity",1).style("fill-opacity",.75);var O=M.selectAll("rect.nv-bar").data(function(a){return x&&!c.length?x.values:a.values});O.exit().remove();O.enter().append("rect").attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(a,b,d){return u?0:d*n.rangeBand()/c.length}).attr("y",function(a){return j(u?a.y0:0)}).attr("height",0).attr("width",n.rangeBand()/(u?1:c.length)).attr("transform",function(a,b){return"translate("+n(q(a,b))+",0)"});O.style("fill",function(a,b,c){return w(a,c,b)}).style("stroke",function(a,b,c){return w(a,c,b)}).on("mouseover",function(b,d){a.select(this).classed("hover",!0),B.elementMouseover({value:r(b,d),point:b,series:c[b.series],pos:[n(q(b,d))+n.rangeBand()*(u?c.length/2:b.series+.5)/c.length,o(r(b,d)+(u?b.y0:0))],pointIndex:d,seriesIndex:b.series,e:a.event})}).on("mouseout",function(b,d){a.select(this).classed("hover",!1),B.elementMouseout({value:r(b,d),point:b,series:c[b.series],pointIndex:d,seriesIndex:b.series,e:a.event})}).on("click",function(b,d){B.elementClick({value:r(b,d),point:b,series:c[b.series],pos:[n(q(b,d))+n.rangeBand()*(u?c.length/2:b.series+.5)/c.length,o(r(b,d)+(u?b.y0:0))],pointIndex:d,seriesIndex:b.series,e:a.event}),a.event.stopPropagation()}).on("dblclick",function(b,d){B.elementDblClick({value:r(b,d),point:b,series:c[b.series],pos:[n(q(b,d))+n.rangeBand()*(u?c.length/2:b.series+.5)/c.length,o(r(b,d)+(u?b.y0:0))],pointIndex:d,seriesIndex:b.series,e:a.event}),a.event.stopPropagation()}),O.attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+n(q(a,b))+",0)"}),y&&(d||(d=c.map(function(){return!0})),O.style("fill",function(b,c,e){return a.rgb(y(b,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()}).style("stroke",function(b,c,e){return a.rgb(y(b,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()}));var P=O.watchTransition(C,"multibar",Math.min(250,z)).delay(function(a,b){return b*z/c[0].values.length});u?P.attr("y",function(a){return o(u?a.y1:0)}).attr("height",function(a){return Math.max(Math.abs(o(a.y+(u?a.y0:0))-o(u?a.y0:0)),1)}).attr("x",function(a){return u?0:a.series*n.rangeBand()/c.length}).attr("width",n.rangeBand()/(u?1:c.length)):P.attr("x",function(a){return a.series*n.rangeBand()/c.length}).attr("width",n.rangeBand()/c.length).attr("y",function(a,b){return r(a,b)<0?o(0):o(0)-o(r(a,b))<1?o(0)-1:o(r(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(o(r(a,b))-o(0)),1)||0}),i=n.copy(),j=o.copy()}),C.renderEnd("multibar immediate"),c}var d,e,f,g,h,i,j,k={top:0,right:0,bottom:0,left:0},l=960,m=500,n=a.scale.ordinal(),o=a.scale.linear(),p=Math.floor(1e4*Math.random()),q=function(a){return a.x},r=function(a){return a.y},s=[0],t=!0,u=!1,v="zero",w=b.utils.defaultColor(),x=!1,y=null,z=1e3,A=.1,B=a.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),C=b.utils.renderWatch(B,z);return c.dispatch=B,c.x=function(a){return arguments.length?(q=a,c):q},c.y=function(a){return arguments.length?(r=a,c):r},c.margin=function(a){return arguments.length?(k.top="undefined"!=typeof a.top?a.top:k.top,k.right="undefined"!=typeof a.right?a.right:k.right,k.bottom="undefined"!=typeof a.bottom?a.bottom:k.bottom,k.left="undefined"!=typeof a.left?a.left:k.left,c):k},c.width=function(a){return arguments.length?(l=a,c):l},c.height=function(a){return arguments.length?(m=a,c):m},c.xScale=function(a){return arguments.length?(n=a,c):n},c.yScale=function(a){return arguments.length?(o=a,c):o},c.xDomain=function(a){return arguments.length?(e=a,c):e},c.yDomain=function(a){return arguments.length?(f=a,c):f},c.xRange=function(a){return arguments.length?(g=a,c):g},c.yRange=function(a){return arguments.length?(h=a,c):h},c.forceY=function(a){return arguments.length?(s=a,c):s},c.stacked=function(a){return arguments.length?(u=a,c):u},c.stackOffset=function(a){return arguments.length?(v=a,c):v},c.clipEdge=function(a){return arguments.length?(t=a,c):t},c.color=function(a){return arguments.length?(w=b.utils.getColor(a),c):w},c.barColor=function(a){return arguments.length?(y=b.utils.getColor(a),c):y},c.disabled=function(a){return arguments.length?(d=a,c):d},c.id=function(a){return arguments.length?(p=a,c):p},c.hideable=function(a){return arguments.length?(x=a,c):x},c.groupSpacing=function(a){return arguments.length?(A=a,c):A},c.duration=function(a){return arguments.length?(z=a,C.reset(z),c):z},c.delay=function(a){return b.deprecated("multiBar.delay"),c.duration(a)},c.options=b.utils.optionsFunc.bind(c),c},b.models.multiBarChart=function(){"use strict";function c(x){return E.reset(),E.models(f),q&&E.models(g),r&&E.models(h),x.each(function(x){var E=a.select(this),J=this;b.utils.initSVG(E);var K=(l||parseInt(E.style("width"))||960)-k.left-k.right,L=(m||parseInt(E.style("height"))||400)-k.top-k.bottom;if(c.update=function(){0===D?E.call(c):E.transition().duration(D).call(c)},c.container=this,y.setter(I(x),c.update).getter(H(x)).update(),y.disabled=x.map(function(a){return!!a.disabled}),!z){var M;z={};for(M in y)z[M]=y[M]instanceof Array?y[M].slice(0):y[M]}if(!(x&&x.length&&x.filter(function(a){return a.values.length}).length)){var N=E.selectAll(".nv-noData").data([A]);return N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),N.attr("x",k.left+K/2).attr("y",k.top+L/2).text(function(a){return a}),c}E.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var O=E.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([x]),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),Q=O.select("g");if(P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),p&&(i.width(K-C()),f.barColor()&&x.forEach(function(b,c){b.color=a.rgb("#ccc").darker(1.5*c).toString()}),Q.select(".nv-legendWrap").datum(x).call(i),k.top!=i.height()&&(k.top=i.height(),L=(m||parseInt(E.style("height"))||400)-k.top-k.bottom),Q.select(".nv-legendWrap").attr("transform","translate("+C()+","+-k.top+")")),o){var R=[{key:"Grouped",disabled:f.stacked()},{key:"Stacked",disabled:!f.stacked()}];j.width(C()).color(["#444","#444","#444"]),Q.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-k.top+")").call(j)}O.attr("transform","translate("+k.left+","+k.top+")"),s&&Q.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)"),f.disabled(x.map(function(a){return a.disabled})).width(K).height(L).color(x.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!x[b].disabled}));var S=Q.select(".nv-barsWrap").datum(x.filter(function(a){return!a.disabled}));if(S.call(f),q){g.scale(d).ticks(b.utils.calcTicksX(K/100,x)).tickSize(-L,0),Q.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),Q.select(".nv-x.nv-axis").call(g);var T=Q.select(".nv-x.nv-axis > g").selectAll("g");if(T.selectAll("line, text").style("opacity",1),u){var U=function(a,b){return"translate("+a+","+b+")"},V=5,W=17;T.selectAll("text").attr("transform",function(a,b,c){return U(0,c%2==0?V:W)});var X=a.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;Q.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return U(0,0===b||X%2!==0?W:V)})}t&&T.filter(function(a,b){return b%Math.ceil(x[0].values.length/(K/100))!==0}).selectAll("text, line").style("opacity",0),v&&T.selectAll(".tick text").attr("transform","rotate("+v+" 0,0)").style("text-anchor",v>0?"start":"end"),Q.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}r&&(h.scale(e).ticks(b.utils.calcTicksY(L/36,x)).tickSize(-K,0),Q.select(".nv-y.nv-axis").call(h)),i.dispatch.on("stateChange",function(a){for(var b in a)y[b]=a[b];B.stateChange(y),c.update()}),j.dispatch.on("legendClick",function(a){if(a.disabled){switch(R=R.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":f.stacked(!1);break;case"Stacked":f.stacked(!0)}y.stacked=f.stacked(),B.stateChange(y),c.update()}}),B.on("tooltipShow",function(a){w&&G(a,J.parentNode)}),B.on("changeState",function(a){"undefined"!=typeof a.disabled&&(x.forEach(function(b,c){b.disabled=a.disabled[c]}),y.disabled=a.disabled),"undefined"!=typeof a.stacked&&(f.stacked(a.stacked),y.stacked=a.stacked,F=a.stacked),c.update()})}),E.renderEnd("multibarchart immediate"),c}var d,e,f=b.models.multiBar(),g=b.models.axis(),h=b.models.axis(),i=b.models.legend(),j=b.models.legend(),k={top:30,right:20,bottom:50,left:60},l=null,m=null,n=b.utils.defaultColor(),o=!0,p=!0,q=!0,r=!0,s=!1,t=!0,u=!1,v=0,w=!0,x=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" on "+b+"</p>"},y=b.utils.state(),z=null,A="No Data Available.",B=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),C=function(){return o?180:0},D=250;y.stacked=!1,f.stacked(!1),g.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(a){return a}),h.orient(s?"right":"left").tickFormat(a.format(",.1f")),j.updateState(!1);var E=b.utils.renderWatch(B),F=!1,G=function(a,d){var e=a.pos[0]+(d.offsetLeft||0),i=a.pos[1]+(d.offsetTop||0),j=g.tickFormat()(f.x()(a.point,a.pointIndex)),k=h.tickFormat()(f.y()(a.point,a.pointIndex)),l=x(a.series.key,j,k,a,c);b.tooltip.show([e,i],l,a.value<0?"n":"s",null,d)},H=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:F}}},I=function(a){return function(b){void 0!==b.stacked&&(F=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};f.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+k.left,a.pos[1]+k.top],B.tooltipShow(a)}),f.dispatch.on("elementMouseout.tooltip",function(a){B.tooltipHide(a)}),B.on("tooltipHide",function(){w&&b.tooltip.cleanup()}),c.dispatch=B,c.multibar=f,c.legend=i,c.xAxis=g,c.yAxis=h,c.state=y,a.rebind(c,f,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing"),c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(k.top="undefined"!=typeof a.top?a.top:k.top,k.right="undefined"!=typeof a.right?a.right:k.right,k.bottom="undefined"!=typeof a.bottom?a.bottom:k.bottom,k.left="undefined"!=typeof a.left?a.left:k.left,c):k},c.width=function(a){return arguments.length?(l=a,c):l},c.height=function(a){return arguments.length?(m=a,c):m},c.color=function(a){return arguments.length?(n=b.utils.getColor(a),i.color(n),c):n},c.showControls=function(a){return arguments.length?(o=a,c):o},c.showLegend=function(a){return arguments.length?(p=a,c):p},c.showXAxis=function(a){return arguments.length?(q=a,c):q},c.showYAxis=function(a){return arguments.length?(r=a,c):r},c.rightAlignYAxis=function(a){return arguments.length?(s=a,h.orient(a?"right":"left"),c):s},c.reduceXTicks=function(a){return arguments.length?(t=a,c):t},c.rotateLabels=function(a){return arguments.length?(v=a,c):v},c.staggerLabels=function(a){return arguments.length?(u=a,c):u},c.tooltip=function(a){return arguments.length?(x=a,c):x},c.tooltips=function(a){return arguments.length?(w=a,c):w},c.tooltipContent=function(a){return arguments.length?(x=a,c):x},c.state=function(a){return b.deprecated("multiBarChart.state"),arguments.length?(y=a,c):y};for(var J in y)c.state[J]=y[J];return c.defaultState=function(a){return arguments.length?(z=a,c):z},c.noData=function(a){return arguments.length?(A=a,c):A},c.transitionDuration=function(a){return b.deprecated("multiBarChart.transitionDuration"),c.duration(a)},c.duration=function(a){return arguments.length?(D=a,f.duration(D),g.duration(D),h.duration(D),E.reset(D),c):D},c},b.models.scatterChart=function(){"use strict";function c(C){return M.reset(),M.models(d),v&&M.models(e),w&&M.models(f),s&&M.models(i),t&&M.models(j),C.each(function(C){function D(){if(A)return Y.select(".nv-point-paths").style("pointer-events","all"),!1;Y.select(".nv-point-paths").style("pointer-events","none");var b=a.mouse(this);o.distortion(z).focus(b[0]),p.distortion(z).focus(b[1]),Y.select(".nv-scatterWrap").call(d),v&&Y.select(".nv-x.nv-axis").call(e),w&&Y.select(".nv-y.nv-axis").call(f),Y.select(".nv-distributionX").datum(C.filter(function(a){return!a.disabled})).call(i),Y.select(".nv-distributionY").datum(C.filter(function(a){return!a.disabled})).call(j)}var E=a.select(this),M=this;b.utils.initSVG(E);var R=(l||parseInt(E.style("width"))||960)-k.left-k.right,S=(m||parseInt(E.style("height"))||400)-k.top-k.bottom;if(c.update=function(){0===J?E.call(c):E.transition().duration(J).call(c)},c.container=this,F.setter(Q(C),c.update).getter(P(C)).update(),F.disabled=C.map(function(a){return!!a.disabled}),!G){var T;G={};for(T in F)G[T]=F[T]instanceof Array?F[T].slice(0):F[T]}if(!(C&&C.length&&C.filter(function(a){return a.values.length}).length)){var U=E.selectAll(".nv-noData").data([I]);return U.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),U.attr("x",k.left+R/2).attr("y",k.top+S/2).text(function(a){return a}),c}E.selectAll(".nv-noData").remove(),K=K||o,L=L||p;var V=E.selectAll("g.nv-wrap.nv-scatterChart").data([C]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+d.id()),X=W.append("g"),Y=V.select("g");if(X.append("rect").attr("class","nvd3 nv-background"),X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y nv-axis"),X.append("g").attr("class","nv-scatterWrap"),X.append("g").attr("class","nv-distWrap"),X.append("g").attr("class","nv-legendWrap"),X.append("g").attr("class","nv-controlsWrap"),u){var Z=y?R/2:R;g.width(Z),V.select(".nv-legendWrap").datum(C).call(g),k.top!=g.height()&&(k.top=g.height(),S=(m||parseInt(E.style("height"))||400)-k.top-k.bottom),V.select(".nv-legendWrap").attr("transform","translate("+(R-Z)+","+-k.top+")")}if(y&&(h.width(180).color(["#444"]),Y.select(".nv-controlsWrap").datum(O).attr("transform","translate(0,"+-k.top+")").call(h)),V.attr("transform","translate("+k.left+","+k.top+")"),x&&Y.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),d.width(R).height(S).color(C.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!C[b].disabled})),0!==q&&d.xDomain(null),0!==r&&d.yDomain(null),V.select(".nv-scatterWrap").datum(C.filter(function(a){return!a.disabled})).call(d),0!==q){var $=o.domain()[1]-o.domain()[0];d.xDomain([o.domain()[0]-q*$,o.domain()[1]+q*$])}if(0!==r){var _=p.domain()[1]-p.domain()[0];d.yDomain([p.domain()[0]-r*_,p.domain()[1]+r*_])}(0!==r||0!==q)&&V.select(".nv-scatterWrap").datum(C.filter(function(a){return!a.disabled})).call(d),v&&(e.scale(o).ticks(e.ticks()&&e.ticks().length?e.ticks():b.utils.calcTicksX(R/100,C)).tickSize(-S,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")").call(e)),w&&(f.scale(p).ticks(f.ticks()&&f.ticks().length?f.ticks():b.utils.calcTicksY(S/36,C)).tickSize(-R,0),Y.select(".nv-y.nv-axis").call(f)),s&&(i.getData(d.x()).scale(o).width(R).color(C.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!C[b].disabled})),X.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),Y.select(".nv-distributionX").attr("transform","translate(0,"+p.range()[0]+")").datum(C.filter(function(a){return!a.disabled})).call(i)),t&&(j.getData(d.y()).scale(p).width(S).color(C.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!C[b].disabled})),X.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),Y.select(".nv-distributionY").attr("transform","translate("+(x?R:-j.size())+",0)").datum(C.filter(function(a){return!a.disabled})).call(j)),a.fisheye&&(Y.select(".nv-background").attr("width",R).attr("height",S),Y.select(".nv-background").on("mousemove",D),Y.select(".nv-background").on("click",function(){A=!A}),d.dispatch.on("elementClick.freezeFisheye",function(){A=!A})),h.dispatch.on("legendClick",function(a){a.disabled=!a.disabled,z=a.disabled?0:2.5,Y.select(".nv-background").style("pointer-events",a.disabled?"none":"all"),Y.select(".nv-point-paths").style("pointer-events",a.disabled?"all":"none"),a.disabled?(o.distortion(z).focus(0),p.distortion(z).focus(0),Y.select(".nv-scatterWrap").call(d),Y.select(".nv-x.nv-axis").call(e),Y.select(".nv-y.nv-axis").call(f)):A=!1,H.stateChange(F),c.update()}),g.dispatch.on("stateChange",function(a){for(var b in a)F[b]=a[b];H.stateChange(F),c.update()}),d.dispatch.on("elementMouseover.tooltip",function(b){a.select(".nv-chart-"+d.id()+" .nv-series-"+b.seriesIndex+" .nv-distx-"+b.pointIndex).attr("y1",function(){return b.pos[1]-S}),a.select(".nv-chart-"+d.id()+" .nv-series-"+b.seriesIndex+" .nv-disty-"+b.pointIndex).attr("x2",b.pos[0]+i.size()),b.pos=[b.pos[0]+k.left,b.pos[1]+k.top],H.tooltipShow(b)}),H.on("tooltipShow",function(a){B&&N(a,M.parentNode)}),H.on("changeState",function(a){"undefined"!=typeof a.disabled&&(C.forEach(function(b,c){b.disabled=a.disabled[c]}),F.disabled=a.disabled),c.update()}),K=o.copy(),L=p.copy()}),M.renderEnd("scatterChart immediate"),c}var d=b.models.scatter(),e=b.models.axis(),f=b.models.axis(),g=b.models.legend(),h=b.models.legend(),i=b.models.distribution(),j=b.models.distribution(),k={top:30,right:20,bottom:50,left:75},l=null,m=null,n=b.utils.defaultColor(),o=a.fisheye?a.fisheye.scale(a.scale.linear).distortion(0):d.xScale(),p=a.fisheye?a.fisheye.scale(a.scale.linear).distortion(0):d.yScale(),q=0,r=0,s=!1,t=!1,u=!0,v=!0,w=!0,x=!1,y=!!a.fisheye,z=0,A=!1,B=!0,C=function(a,b){return"<strong>"+b+"</strong>"},D=function(a,b,c){return"<strong>"+c+"</strong>"},E=null,F=b.utils.state(),G=null,H=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),I="No Data Available.",J=250;d.xScale(o).yScale(p),e.orient("bottom").tickPadding(10),f.orient(x?"right":"left").tickPadding(10),i.axis("x"),j.axis("y"),h.updateState(!1);var K,L,M=b.utils.renderWatch(H,J),N=function(a,g){var h=a.pos[0]+(g.offsetLeft||0),i=a.pos[1]+(g.offsetTop||0),j=a.pos[0]+(g.offsetLeft||0),l=p.range()[0]+k.top+(g.offsetTop||0),m=o.range()[0]+k.left+(g.offsetLeft||0),n=a.pos[1]+(g.offsetTop||0),q=e.tickFormat()(d.x()(a.point,a.pointIndex)),r=f.tickFormat()(d.y()(a.point,a.pointIndex));null!=C&&b.tooltip.show([j,l],C(a.series.key,q,r,a,c),"n",1,g,"x-nvtooltip"),null!=D&&b.tooltip.show([m,n],D(a.series.key,q,r,a,c),"e",1,g,"y-nvtooltip"),null!=E&&b.tooltip.show([h,i],E(a.series.key,q,r,a,c),a.value<0?"n":"s",null,g)},O=[{key:"Magnify",disabled:!0}],P=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},Q=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};d.dispatch.on("elementMouseout.tooltip",function(b){H.tooltipHide(b),a.select(".nv-chart-"+d.id()+" .nv-series-"+b.seriesIndex+" .nv-distx-"+b.pointIndex).attr("y1",0),a.select(".nv-chart-"+d.id()+" .nv-series-"+b.seriesIndex+" .nv-disty-"+b.pointIndex).attr("x2",j.size())}),H.on("tooltipHide",function(){B&&b.tooltip.cleanup()}),c.dispatch=H,c.scatter=d,c.legend=g,c.controls=h,c.xAxis=e,c.yAxis=f,c.distX=i,c.distY=j,c.state=F,a.rebind(c,d,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(k.top="undefined"!=typeof a.top?a.top:k.top,k.right="undefined"!=typeof a.right?a.right:k.right,k.bottom="undefined"!=typeof a.bottom?a.bottom:k.bottom,k.left="undefined"!=typeof a.left?a.left:k.left,c):k},c.width=function(a){return arguments.length?(l=a,c):l},c.height=function(a){return arguments.length?(m=a,c):m},c.color=function(a){return arguments.length?(n=b.utils.getColor(a),g.color(n),i.color(n),j.color(n),c):n},c.showDistX=function(a){return arguments.length?(s=a,c):s},c.showDistY=function(a){return arguments.length?(t=a,c):t},c.showControls=function(a){return arguments.length?(y=a,c):y},c.showLegend=function(a){return arguments.length?(u=a,c):u},c.showXAxis=function(a){return arguments.length?(v=a,c):v},c.showYAxis=function(a){return arguments.length?(w=a,c):w},c.rightAlignYAxis=function(a){return arguments.length?(x=a,f.orient(a?"right":"left"),c):x},c.fisheye=function(a){return arguments.length?(z=a,c):z},c.xPadding=function(a){return arguments.length?(q=a,c):q},c.yPadding=function(a){return arguments.length?(r=a,c):r},c.tooltips=function(a){return arguments.length?(B=a,c):B},c.tooltipContent=function(a){return arguments.length?(E=a,c):E},c.tooltipXContent=function(a){return arguments.length?(C=a,c):C},c.tooltipYContent=function(a){return arguments.length?(D=a,c):D},c.state=function(a){return b.deprecated("scatterChart.state"),arguments.length?(F=a,c):F};for(var R in F)c.state[R]=F[R];return c.defaultState=function(a){return arguments.length?(G=a,c):G},c.noData=function(a){return arguments.length?(I=a,c):I},c.duration=function(a){return arguments.length?(J=a,M.reset(J),d.duration(J),e.duration(J),f.duration(J),i.duration(J),j.duration(J),c):J},c.transitionDuration=function(a){return b.deprecated("scatterChart.transitionDuration"),c.duration(a)},c},b.models.scatterSectors=function(){"use strict";function c(g){return g.each(function(g){var h=a.select(this),n=this,s=(l||parseInt(h.style("width")))-k.left-k.right,w=(m||parseInt(h.style("height")))-k.top-k.bottom;if(!isNaN(s)&&!isNaN(w)){c.container=this;var x=h.selectAll("g.nv-wrap.nv-scatterChart").data([g]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+d.id()),A=y.append("g"),D=x.select("g"),E=20;A.append("rect").attr("class","nvd3 nv-background"),A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis"),A.append("g").attr("class","nv-scatterWrap"),A.append("g").attr("class","nv-distWrap"),A.append("g").attr("class","nv-legendWrap"),A.append("g").attr("class","nv-sectorsWrap"),A.append("g").attr("class","nv-group-titles");var F=x.select(".nv-sectorsWrap"),G=F.selectAll(".nv-sector-bg").data(function(a){return a[0].sectors}),H=F.selectAll(".nv-sector-title").data(function(a){return a[0].sectors});G.enter().append("rect").attr("class","nv-sector-bg"),x.selectAll(".nv-sector-bg").attr("width",s/2-1).attr("height",w/2-1).attr("x",function(a,b){return b%2?s/2:0}).attr("y",function(a,b){return b%3?w/2:0});var I=H.enter().append("g");I.attr("class","nv-sector-title").attr("transform",function(a,b){return"translate("+(b%2?s-E:E)+","+(b%3?w-2*E:E)+")"}),I.append("text").attr("dy","1.5em").text(function(a){return a.title}).style("text-anchor",function(a,b){return b%2?"end":"start"}),I.append("rect").attr("width",function(a,b){return H[0][b].getBBox().width+E}).attr("height",30).attr("x",function(a,b){return b%2?-H[0][b].getBBox().width/2:-E/2}),x.selectAll(".nv-sector-title").attr("transform",function(a,b){return"translate("+(b%2?s-E:E)+","+(b%3?w-2.2*E:E)+")"}),x.attr("transform","translate("+k.left+","+k.top+")"),d.width(s).height(w);var J=.1,K=function(a){return a.y},L=function(a){return a.x},M=a.merge(g.map(function(a){return a.values.map(function(a,b){return{y:K(a,b),x:L(a,b)}})})),N=a.extent(M,K),O=a.extent(M,L);if(c.xDomain([O[0]-O[1]*J,O[1]+O[1]*J]),c.yDomain([N[0]-N[1]*J,N[1]+N[1]*J]),x.select(".nv-scatterWrap").datum(g.filter(function(a){return!a.disabled})).call(d),t){var P=parseFloat((O[1]/6).toPrecision(1));e.scale(o).tickValues(a.range(0,O[1]+P,P)),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")").call(e)}u&&(f.scale(p).ticks(f.ticks()&&f.ticks().length?f.ticks():w/50).tickSize(-s,0),D.select(".nv-y.nv-axis").call(f),D.select(".nv-y.nv-axis > g").selectAll("g").selectAll(".tick text").attr("transform","rotate(-90 0,0)").attr("dy","-10").style("text-anchor","middle")),q&&(i.getData(d.x()).scale(o).width(s),A.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),D.select(".nv-distributionX").attr("transform","translate(0,"+p.range()[0]+")").datum(g).call(i)),r&&(j.getData(d.y()).scale(p).width(w),A.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),D.select(".nv-distributionY").attr("transform","translate("+-j.size()+",0)").datum(g).call(j)),a.selectAll(".nv-point-title").remove();var Q=x.select(".nv-group-titles").selectAll(".nv-point-title").data(function(a){return a[0].values}),R=Q.enter().append("g");R.attr("class","nv-point-title").on("mouseover",function(){this.nextSibling&&this.parentNode.appendChild(this)}),R.append("circle").attr("r",16),R.append("text").style("text-anchor","middle").attr("dy",".4em").text(function(a){return a.code}).on("mouseover",function(a,b){var c=g[a.series],d=c.values[b];z.elementMouseover({point:d,series:c,pos:[o(L(d,b)),p(K(d,b))],seriesIndex:a.series,pointIndex:b})}).on("mouseout",function(a,b){var c=g[a.series],d=c.values[b];z.elementMouseout({point:d,series:c,seriesIndex:a.series,pointIndex:b})}),x.selectAll(".nv-point-title").attr("transform",function(a,b){return"translate("+o(L(a,b))+","+p(K(a,b))+")"}),c.update=function(){h.transition().duration(B).call(c)},z.on("elementMouseover",function(b){a.select(".nv-chart-"+d.id()+" .nv-series-"+b.seriesIndex+" .nv-distx-"+b.pointIndex).attr("y1",b.pos[1]-w+16).classed("hover",!0),a.select(".nv-chart-"+d.id()+" .nv-series-"+b.seriesIndex+" .nv-disty-"+b.pointIndex).attr("x2",b.pos[0]+i.size()-16).classed("hover",!0),b.pos=[b.pos[0]+k.left,b.pos[1]+k.top],z.tooltipShow(b)}),z.on("elementMouseout.tooltip",function(b){a.select(".nv-chart-"+d.id()+" .nv-series-"+b.seriesIndex+" .nv-distx-"+b.pointIndex).attr("y1",0).classed("hover",!1),a.select(".nv-chart-"+d.id()+" .nv-series-"+b.seriesIndex+" .nv-disty-"+b.pointIndex).attr("x2",j.size()).classed("hover",!1),z.tooltipHide(b)}),z.on("tooltipShow",function(a){v&&C(a,n.parentNode)}),z.on("tooltipHide",function(){v&&b.tooltip.cleanup()}),z.on("changeState",function(){c.update()})}}),a.select(".nv-y .nv-axislabel").attr("y",-30),c}var d=b.models.scatter(),e=b.models.axis(),f=b.models.axis(),g=b.models.legend(),h=b.models.legend(),i=b.models.distribution(),j=b.models.distribution(),k={top:20,right:20,bottom:50,left:50},l=null,m=null,n=b.utils.defaultColor(),o=d.xScale(),p=d.yScale(),q=!1,r=!1,s=!0,t=!0,u=!0,v=!0,w=null,x={},y=null,z=a.dispatch("tooltipShow","tooltipHide","stateChange","changeState","elementMouseover","elementMouseout"),A="No Data Available.",B=250;d.xScale(o).yScale(p),e.orient("bottom").tickFormat(function(a){return parseFloat(parseFloat(a).toPrecision(3))}),f.orient("left").tickFormat(a.format("d")),i.axis("x"),j.axis("y");var C=function(a,g){var h=a.pos[0]+(g.offsetLeft||0),i=a.pos[1]+(g.offsetTop||0),j=e.tickFormat()(d.x()(a.point,a.pointIndex)),k=f.tickFormat()(d.y()(a.point,a.pointIndex));null!=w&&b.tooltip.show([h,i],w(a.series.key,j,k,a,c),"s",null,g)};return c.dispatch=z,c.scatter=d,c.legend=g,c.controls=h,c.xAxis=e,c.yAxis=f,c.distX=i,c.distY=j,a.rebind(c,d,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),c.options=b.utils.optionsFunc.bind(c),c.margin=function(a){return arguments.length?(k.top="undefined"!=typeof a.top?a.top:k.top,k.right="undefined"!=typeof a.right?a.right:k.right,k.bottom="undefined"!=typeof a.bottom?a.bottom:k.bottom,k.left="undefined"!=typeof a.left?a.left:k.left,c):k},c.width=function(a){return arguments.length?(l=a,c):l},c.height=function(a){return arguments.length?(m=a,c):m},c.color=function(a){return arguments.length?(n=b.utils.getColor(a),g.color(n),i.color(n),j.color(n),c):n},c.showDistX=function(a){return arguments.length?(q=a,c):q},c.showDistY=function(a){return arguments.length?(r=a,c):r},c.showControls=function(a){return arguments.length?(showControls=a,c):showControls},c.showLegend=function(a){return arguments.length?(s=a,c):s},c.showXAxis=function(a){return arguments.length?(t=a,c):t},c.showYAxis=function(a){return arguments.length?(u=a,c):u},c.rightAlignYAxis=function(a){return arguments.length?(rightAlignYAxis=a,f.orient(a?"right":"left"),c):rightAlignYAxis},c.fisheye=function(a){return arguments.length?(fisheye=a,c):fisheye},c.xPadding=function(a){return arguments.length?(xPadding=a,c):xPadding},c.yPadding=function(a){return arguments.length?(yPadding=a,c):yPadding},c.tooltips=function(a){return arguments.length?(v=a,c):v},c.tooltipContent=function(a){return arguments.length?(w=a,c):w},c.state=function(a){return arguments.length?(x=a,c):x},c.defaultState=function(a){return arguments.length?(y=a,c):y},c.noData=function(a){return arguments.length?(A=a,c):A},c.transitionDuration=function(a){return arguments.length?(B=a,c):B},c},b});